<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Gpsd-dev] gpsd/ntp combination....
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/gpsd-dev/2011-February/index.html" >
   <LINK REL="made" HREF="mailto:gpsd-dev%40lists.berlios.de?Subject=Re%3A%20%5BGpsd-dev%5D%20gpsd/ntp%20combination....&In-Reply-To=%3CAANLkTimdqKaM4%3DcDHim6D38M-kmeEH4ZgQ%2Bu8Q1bWWUh%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="008571.html">
   <LINK REL="Next"  HREF="008575.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Gpsd-dev] gpsd/ntp combination....</H1>
    <B>Who what?</B> 
    <A HREF="mailto:gpsd-dev%40lists.berlios.de?Subject=Re%3A%20%5BGpsd-dev%5D%20gpsd/ntp%20combination....&In-Reply-To=%3CAANLkTimdqKaM4%3DcDHim6D38M-kmeEH4ZgQ%2Bu8Q1bWWUh%40mail.gmail.com%3E"
       TITLE="[Gpsd-dev] gpsd/ntp combination....">chandleg at gmail.com
       </A><BR>
    <I>Wed Feb 23 03:49:50 CET 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="008571.html">[Gpsd-dev] gpsd/ntp combination....
</A></li>
        <LI>Next message: <A HREF="008575.html">[Gpsd-dev] gpsd/ntp combination....
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8573">[ date ]</a>
              <a href="thread.html#8573">[ thread ]</a>
              <a href="subject.html#8573">[ subject ]</a>
              <a href="author.html#8573">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I am absolutely positive gpsd itself is working.  All of it's output
works fine on both OSes.
Slackware and Ubuntu have _completely_ different library sets, so I am
trying to figure out what is wrong with the ntp on slackware.
I may end up re-compiling it from sources if the update didn't work
earlier today.

The GPS unit has plenty of satellites, outputs the data in NMEA, and
all the gpsd tools show the data.  I've used a whole host of tools to
verify the data coming out of it, so I know it's working correctly.

I'll paste the config for ntp when I get home later, but is not much
more than the server/fudge for the 127.127.28.0,1 addresses.
I am not using PPS as the clock source.

Thanks for the replies so far :)


On Tue, Feb 22, 2011 at 1:04 PM, Gary E. Miller &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/gpsd-dev">gem at rellim.com</A>&gt; wrote:
&gt;<i> -----BEGIN PGP SIGNED MESSAGE-----
</I>&gt;<i> Hash: SHA1
</I>&gt;<i>
</I>&gt;<i> Yo Who!
</I>&gt;<i>
</I>&gt;<i> On Tue, 22 Feb 2011, Who what? wrote:
</I>&gt;<i>
</I>&gt;&gt;<i> I'm pretty sure it sat for something like 5 hours...
</I>&gt;<i>
</I>&gt;<i> If gpsd is reporting a good time, and that time is close to the current
</I>&gt;<i> system clock, then that should have been long enough.
</I>&gt;<i>
</I>&gt;&gt;<i> &#160;The same
</I>&gt;&gt;<i> hardware and setup took about 1-2 minutes with the other OS.
</I>&gt;<i>
</I>&gt;<i> The issue is usually not one of hardware or OS. &#160;The issues are usually:
</I>&gt;<i> &#160; &#160; &#160; &#160;Is the initial system time already close to being correct?
</I>&gt;<i> &#160; &#160; &#160; &#160;Does the GPS have a current ephemeris?
</I>&gt;<i> &#160; &#160; &#160; &#160;Does the GPS have a good sky view?
</I>&gt;<i> &#160; &#160; &#160; &#160;Does cgps report that the correct current time?
</I>&gt;<i> &#160; &#160; &#160; &#160;Are both ntpd and gpsd being run as root?
</I>&gt;<i> &#160; &#160; &#160; &#160;Does ntpd have a trusted external time source?
</I>&gt;<i>
</I>&gt;&gt;<i> I've been wondering if it was something to do with ntp itself, so I
</I>&gt;&gt;<i> verified it had the GPS stuff compiled in. {it did}
</I>&gt;&gt;<i> I also noticed there was an update to ntp so I'm doing an OS update on
</I>&gt;&gt;<i> the install. &#160;I'm hoping this will take care of it.
</I>&gt;<i>
</I>&gt;<i> Unlikely, ntpd has been very stable for a long time.
</I>&gt;<i>
</I>&gt;&gt;<i> The gpsd section of the install seems to be perfect... &#160;It's the ntp
</I>&gt;&gt;<i> side that's having the issues.
</I>&gt;<i>
</I>&gt;<i> And how do you know this? &#160;Does the gpsd log show that it is passing good
</I>&gt;<i> NMEA and PPS times to ntpd?
</I>&gt;<i>
</I>&gt;<i> Also, how about passing on a copy of your ntp config file?
</I>&gt;<i>
</I>&gt;<i> RGDS
</I>&gt;<i> GARY
</I>&gt;<i> - ---------------------------------------------------------------------------
</I>&gt;<i> Gary E. Miller Rellim 109 NW Wilmington Ave., Suite E, Bend, OR 97701
</I>&gt;<i> &#160; &#160; &#160; &#160;<A HREF="https://lists.berlios.de/mailman/listinfo/gpsd-dev">gem at rellim.com</A> &#160;Tel:+1(541)382-8588
</I>&gt;<i>
</I>&gt;<i> -----BEGIN PGP SIGNATURE-----
</I>&gt;<i> Version: GnuPG v1.4.3 (GNU/Linux)
</I>&gt;<i>
</I>&gt;<i> iD8DBQFNZAjbBmnRqz71OvMRAvSEAJ9vZ/TEmaY65QOifIXTnh1DUnSfVACgpAFN
</I>&gt;<i> fwv/7YaB4mVJnvLgXFzXpMQ=
</I>&gt;<i> =P5+v
</I>&gt;<i> -----END PGP SIGNATURE-----
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Gpsd-dev mailing list
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/gpsd-dev">Gpsd-dev at lists.berlios.de</A>
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/gpsd-dev">https://lists.berlios.de/mailman/listinfo/gpsd-dev</A>
</I>&gt;<i>
</I>
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="008571.html">[Gpsd-dev] gpsd/ntp combination....
</A></li>
	<LI>Next message: <A HREF="008575.html">[Gpsd-dev] gpsd/ntp combination....
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8573">[ date ]</a>
              <a href="thread.html#8573">[ thread ]</a>
              <a href="subject.html#8573">[ subject ]</a>
              <a href="author.html#8573">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/gpsd-dev">More information about the Gpsd-dev
mailing list</a><br>
</body></html>
