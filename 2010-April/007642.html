<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Gpsd-dev] [Gpsd-users]  Preparing for 2.93 point release
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/gpsd-dev/2010-April/index.html" >
   <LINK REL="made" HREF="mailto:gpsd-dev%40lists.berlios.de?Subject=Re%3A%20%5BGpsd-dev%5D%20%5BGpsd-users%5D%20%20Preparing%20for%202.93%20point%20release&In-Reply-To=%3Calpine.DEB.1.10.1004082341500.23077%40org-pc51.fy.chalmers.se%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="007595.html">
   <LINK REL="Next"  HREF="007644.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Gpsd-dev] [Gpsd-users]  Preparing for 2.93 point release</H1>
    <B>H&#229;kan Johansson</B> 
    <A HREF="mailto:gpsd-dev%40lists.berlios.de?Subject=Re%3A%20%5BGpsd-dev%5D%20%5BGpsd-users%5D%20%20Preparing%20for%202.93%20point%20release&In-Reply-To=%3Calpine.DEB.1.10.1004082341500.23077%40org-pc51.fy.chalmers.se%3E"
       TITLE="[Gpsd-dev] [Gpsd-users]  Preparing for 2.93 point release">f96hajo at chalmers.se
       </A><BR>
    <I>Thu Apr  8 23:50:55 CEST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="007595.html">[Gpsd-dev] Preparing for 2.93 point release
</A></li>
        <LI>Next message: <A HREF="007644.html">[Gpsd-dev] [Gpsd-users]  Preparing for 2.93 point release
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7642">[ date ]</a>
              <a href="thread.html#7642">[ thread ]</a>
              <a href="subject.html#7642">[ subject ]</a>
              <a href="author.html#7642">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
The recent fix for gpsmon eating 100% CPU has some problem:

For an oncore it works, quits with 'Device went offline' on gpsd exit

For a garmin 18 lvc in nmea mode (no clue how to put it in another mode), 
gpsmon quits after about 2s with: 'Read error from device' or
'select(2) failed' (only seen once)

The 'select(2) failed' happens if gpsmon is started too early, i.e. gpsd 
is started, but has not found the GPS yet.  Also seen for the oncore.

For an EM406A (sirfstariii) in nmea mode (using -b), the problem is the 
same as with the garmin.  In sirf mode, gpsmon works (= does not 
self-exit after ~2s of operation).

Sorry for the inconvenience,
H&#229;kan


On Tue, 6 Apr 2010, H&#229;kan Johansson wrote:

&gt;<i>
</I>&gt;&gt;<i> * Ji?&#237; Techet &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/gpsd-dev">techet at gmail.com</A>&gt; has reported gpsd eating 100% of
</I>&gt;&gt;<i>  CPU under some circumstances, and given a recipe for reproducing
</I>&gt;&gt;<i>  the problem. I think this may be identical to Berlios tracker
</I>&gt;&gt;<i>  bug #14638: 100% cpu when Bluetooth gps device vanishes, which I
</I>&gt;&gt;<i>  couldn't resolve because it wasn't clear how to reproduce it.  It's
</I>&gt;&gt;<i>  going to be my top priority before release.
</I>&gt;<i>
</I>&gt;<i> There is a similar (infinite select()) issue in gpsmon, triggered via:
</I>&gt;<i>
</I>&gt;<i> start gpsd
</I>&gt;<i> start gpsmon
</I>&gt;<i> stop/kill/ctrl-c gpsd
</I>&gt;<i> gpsmon now runs at 100% cpu.
</I>&gt;<i>
</I>&gt;<i> I just tested and saw that cgps, that also had a variant of this now seems
</I>&gt;<i> ok.
</I>&gt;<i>
</I>&gt;<i> Cheers,
</I>&gt;<i> H&#229;kan
</I></PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="007595.html">[Gpsd-dev] Preparing for 2.93 point release
</A></li>
	<LI>Next message: <A HREF="007644.html">[Gpsd-dev] [Gpsd-users]  Preparing for 2.93 point release
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7642">[ date ]</a>
              <a href="thread.html#7642">[ thread ]</a>
              <a href="subject.html#7642">[ subject ]</a>
              <a href="author.html#7642">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/gpsd-dev">More information about the Gpsd-dev
mailing list</a><br>
</body></html>
