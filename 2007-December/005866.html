<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Gpsd-dev] splint failure on tsip.c
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/gpsd-dev/2007-December/index.html" >
   <LINK REL="made" HREF="mailto:gpsd-dev%40lists.berlios.de?Subject=Re%3A%20%5BGpsd-dev%5D%20splint%20failure%20on%20tsip.c&In-Reply-To=%3C20071217215108.GA22588%40thyrsus.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="005858.html">
   <LINK REL="Next"  HREF="005867.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Gpsd-dev] splint failure on tsip.c</H1>
    <B>Eric S. Raymond</B> 
    <A HREF="mailto:gpsd-dev%40lists.berlios.de?Subject=Re%3A%20%5BGpsd-dev%5D%20splint%20failure%20on%20tsip.c&In-Reply-To=%3C20071217215108.GA22588%40thyrsus.com%3E"
       TITLE="[Gpsd-dev] splint failure on tsip.c">esr at thyrsus.com
       </A><BR>
    <I>Mon Dec 17 22:51:08 CET 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="005858.html">[Gpsd-dev] splint failure on tsip.c
</A></li>
        <LI>Next message: <A HREF="005867.html">[Gpsd-dev] splint failure on tsip.c
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5866">[ date ]</a>
              <a href="thread.html#5866">[ thread ]</a>
              <a href="subject.html#5866">[ subject ]</a>
              <a href="author.html#5866">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Mick Durkin &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/gpsd-dev">mick.durkin at saunalahti.fi</A>&gt;:
&gt;<i> In change 4546, you modified gpsd.h-tail so that the macro definition of 
</I>&gt;<i> rintf() has its source operand cast to double.
</I>
That was a patch from Debian that I took because it seemed harmless and
didn't break my regression tests.
 
&gt;<i> When I &quot;make splint&quot; I get a complaint about exactly that change from tsip.c 
</I>&gt;<i> like this:
</I>&gt;<i> 
</I>&gt;<i> tsip.c: (in function tsip_analyze)
</I>&gt;<i> tsip.c:202:58: Function rintf expects arg 1 to be float gets double: 
</I>&gt;<i> (double)f2
</I>&gt;<i>   To make float and double types equivalent, use +floatdouble.
</I>&gt;<i> tsip.c:275:51: Function rintf expects arg 1 to be float gets double: 
</I>&gt;<i> (double)f1
</I>&gt;<i> tsip.c:411:47: Function rintf expects arg 1 to be float gets double: 
</I>&gt;<i> (double)f1
</I>
Odd.  My splint doesn't complain about this.  Which version are you
running?

Looking at the patch, I think it's actually incorrect; the cast, if it's
going to be there at all, should be (float) rather than (double).  
Accordingly I'm going to back it out.  

Er, bzed, do you have any explanation for this?
-- 
		&lt;a href=&quot;<A HREF="http://www.catb.org/~esr/">http://www.catb.org/~esr/</A>&quot;&gt;Eric S. Raymond&lt;/a&gt;

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="005858.html">[Gpsd-dev] splint failure on tsip.c
</A></li>
	<LI>Next message: <A HREF="005867.html">[Gpsd-dev] splint failure on tsip.c
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5866">[ date ]</a>
              <a href="thread.html#5866">[ thread ]</a>
              <a href="subject.html#5866">[ subject ]</a>
              <a href="author.html#5866">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/gpsd-dev">More information about the Gpsd-dev
mailing list</a><br>
</body></html>
