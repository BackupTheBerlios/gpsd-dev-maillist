<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Gpsd-dev] PPS poll (proof-of-concept)
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/gpsd-dev/2009-November/index.html" >
   <LINK REL="made" HREF="mailto:gpsd-dev%40lists.berlios.de?Subject=Re%3A%20%5BGpsd-dev%5D%20PPS%20poll%20%28proof-of-concept%29&In-Reply-To=%3Calpine.DEB.1.10.0911292053520.5651%40org-pc51.fy.chalmers.se%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="007165.html">
   <LINK REL="Next"  HREF="007168.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Gpsd-dev] PPS poll (proof-of-concept)</H1>
    <B>H&#229;kan Johansson</B> 
    <A HREF="mailto:gpsd-dev%40lists.berlios.de?Subject=Re%3A%20%5BGpsd-dev%5D%20PPS%20poll%20%28proof-of-concept%29&In-Reply-To=%3Calpine.DEB.1.10.0911292053520.5651%40org-pc51.fy.chalmers.se%3E"
       TITLE="[Gpsd-dev] PPS poll (proof-of-concept)">f96hajo at chalmers.se
       </A><BR>
    <I>Sun Nov 29 21:13:39 CET 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="007165.html">[Gpsd-dev] PPS poll (proof-of-concept)
</A></li>
        <LI>Next message: <A HREF="007168.html">[Gpsd-dev] test_libgps fails
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7166">[ date ]</a>
              <a href="thread.html#7166">[ thread ]</a>
              <a href="subject.html#7166">[ subject ]</a>
              <a href="author.html#7166">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
Hi Gary,

&gt;<i> Someone was just noting that OpenBSD has no TIOCMIWAIT and therefore
</I>&gt;<i> no gpsd PPS support.  This might be an option.
</I>
Should not be too hard, perhaps even being somewhat CPU friendly. 
Especially if the smallest possible and effective usleep on such platforms 
is better than the acceptance margins for cycle in the normal 
gpsd_ppsmonitor code.  One could then replace ioctl(TIOCMIWAIT) by a 
coarse pulse-search loop made CPU-friendly by small usleep calls, half a 
millisecond or so at present.

&gt;<i> I notice that recent Linux kernels have a PPS driver.  Have you
</I>&gt;<i> looked at that?
</I>
Sort of, I've compiled and tested some earlier versions.  At some point 
when I looked, I got the feeling it only handles DCD and not CTS.  Most of 
my units use CTS (limitations of the serial converters)...

Cheers,
H&#229;kan
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="007165.html">[Gpsd-dev] PPS poll (proof-of-concept)
</A></li>
	<LI>Next message: <A HREF="007168.html">[Gpsd-dev] test_libgps fails
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7166">[ date ]</a>
              <a href="thread.html#7166">[ thread ]</a>
              <a href="subject.html#7166">[ subject ]</a>
              <a href="author.html#7166">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/gpsd-dev">More information about the Gpsd-dev
mailing list</a><br>
</body></html>
