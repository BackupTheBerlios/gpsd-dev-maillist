<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Gpsd-dev] PPS
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/gpsd-dev/2009-November/index.html" >
   <LINK REL="made" HREF="mailto:gpsd-dev%40lists.berlios.de?Subject=Re%3A%20%5BGpsd-dev%5D%20PPS&In-Reply-To=%3Calpine.LNX.1.10.0911121039490.26857%40catbert.rellim.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="007048.html">
   <LINK REL="Next"  HREF="007053.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Gpsd-dev] PPS</H1>
    <B>Gary E. Miller</B> 
    <A HREF="mailto:gpsd-dev%40lists.berlios.de?Subject=Re%3A%20%5BGpsd-dev%5D%20PPS&In-Reply-To=%3Calpine.LNX.1.10.0911121039490.26857%40catbert.rellim.com%3E"
       TITLE="[Gpsd-dev] PPS">gem at rellim.com
       </A><BR>
    <I>Thu Nov 12 19:45:48 CET 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="007048.html">[Gpsd-dev] PPS
</A></li>
        <LI>Next message: <A HREF="007053.html">[Gpsd-dev] PPS
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7051">[ date ]</a>
              <a href="thread.html#7051">[ thread ]</a>
              <a href="subject.html#7051">[ subject ]</a>
              <a href="author.html#7051">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Yo H&#229;kan!

On Thu, 12 Nov 2009, H&#229;kan Johansson wrote:

&gt;<i> &gt; Show me some PPS logs and maybe I'll change my mind.
</I>&gt;<i>
</I>&gt;<i> Causing some filesystem write load (e.g. untar of linux kernel tree and a
</I>&gt;<i> simultaneous 'make clean' elsewhere) was able to trigger the termination
</I>&gt;<i> again.  (attachment)
</I>
Are you running both ntpd and gpsd at nice -20?  That would help.

Those are SOO bad that using that data to slew ntpd would cause ntpd to
invalidate the source.  In other words, we could accept it, but ntpd
never would.

Can we agree then that the thing is to reject those pulses but not
terminate?

&gt;<i> Finding one which moves its period by that much in a second will be hard, but
</I>&gt;<i> clocks with static frequency errors that large are plenty:
</I>
I think you are confusing ppm (parts per minute) and pps, parts per
second.  You are show frequency errors up to 300ppm.  Over one second
that is only a shift of 5pps.  The new code allows for a shift of
20x that, so the new code will handle all your examples.

&gt;<i> If pps_monitor at least is not terminated before they are disciplined, it's no
</I>&gt;<i> disaster, as they will be ok once disciplined.
</I>
Yep, can we all agree just to never terminate the moitor code?  If the
CD/RI never change the the ioctl() never returns and the code put no load
on a non PPS system.

RGDS
GARY
- ---------------------------------------------------------------------------
Gary E. Miller Rellim 109 NW Wilmington Ave., Suite E, Bend, OR 97701
	<A HREF="https://lists.berlios.de/mailman/listinfo/gpsd-dev">gem at rellim.com</A>  Tel:+1(541)382-8588

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.3 (GNU/Linux)

iD8DBQFK/FfeBmnRqz71OvMRAhT9AJ9fk1td/nyf+Nrk0U3INGll9h3ReACfQWiP
cUBX2/Epy12EQlv/WRqxpY4=
=erNk
-----END PGP SIGNATURE-----
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="007048.html">[Gpsd-dev] PPS
</A></li>
	<LI>Next message: <A HREF="007053.html">[Gpsd-dev] PPS
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7051">[ date ]</a>
              <a href="thread.html#7051">[ thread ]</a>
              <a href="subject.html#7051">[ subject ]</a>
              <a href="author.html#7051">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/gpsd-dev">More information about the Gpsd-dev
mailing list</a><br>
</body></html>
