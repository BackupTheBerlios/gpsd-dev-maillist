<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Gpsd-dev] ntpshm.c PPS bad usec reference
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/gpsd-dev/2009-November/index.html" >
   <LINK REL="made" HREF="mailto:gpsd-dev%40lists.berlios.de?Subject=Re%3A%20%5BGpsd-dev%5D%20ntpshm.c%20PPS%20bad%20usec%20reference&In-Reply-To=%3Calpine.LNX.1.10.0911061438280.553%40catbert.rellim.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="007005.html">
   <LINK REL="Next"  HREF="006982.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Gpsd-dev] ntpshm.c PPS bad usec reference</H1>
    <B>Gary E. Miller</B> 
    <A HREF="mailto:gpsd-dev%40lists.berlios.de?Subject=Re%3A%20%5BGpsd-dev%5D%20ntpshm.c%20PPS%20bad%20usec%20reference&In-Reply-To=%3Calpine.LNX.1.10.0911061438280.553%40catbert.rellim.com%3E"
       TITLE="[Gpsd-dev] ntpshm.c PPS bad usec reference">gem at rellim.com
       </A><BR>
    <I>Fri Nov  6 23:47:57 CET 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="007005.html">[Gpsd-dev] ntpshm.c PPS bad usec reference
</A></li>
        <LI>Next message: <A HREF="006982.html">[Gpsd-dev] ntpshm.c PPS bad usec reference
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7009">[ date ]</a>
              <a href="thread.html#7009">[ thread ]</a>
              <a href="subject.html#7009">[ subject ]</a>
              <a href="author.html#7009">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Yo Miroslav!

On Thu, 5 Nov 2009, Miroslav Lichvar wrote:

&gt;<i> Ok, it's in the attachment.
</I>
I'll take a look at it.  Since the PPS used to work fine for a large
number of users I will look first at what broke it as opposed to how
to make any serious changes.  Eric wants to get 2.40 out and at this
stage we need to just rifle shoot things.

&gt;<i> It includes also the change to use the
</I>&gt;<i> fixed precision -20.
</I>
No way we are going to get -20 out of any gpsd PPS!  In any case that
is just a starting point and ntpd will calculate the observed precision
regardless of what we tell it.  There is NO POINT setting the precision
in gpsd. As the gpsd code already notes:

    /* setting the precision here does not seem to help anything, too
       hard to calculate properly anyway.  Let ntpd figure it out.
       Any NMEA will be about -1 or -2.
       Garmin GPS-18/USB is around -6 or -7.
    */

- From the ntpd doc:

        &quot;In NTP precision is determined automatically, and it is
        measured as a power of two.

You guys need to read the archive for WHY the ntpshm code is the way
it is before trying to improve it.

RGDS
GARY
- ---------------------------------------------------------------------------
Gary E. Miller Rellim 109 NW Wilmington Ave., Suite E, Bend, OR 97701
	<A HREF="https://lists.berlios.de/mailman/listinfo/gpsd-dev">gem at rellim.com</A>  Tel:+1(541)382-8588

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.3 (GNU/Linux)

iD8DBQFK9KegBmnRqz71OvMRAv7zAJ9neDCUlduALxj9uaESS9oEeY/fWgCfQqjl
ztn56EeVGY8dFxxMC8R6DbI=
=Meyl
-----END PGP SIGNATURE-----


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="007005.html">[Gpsd-dev] ntpshm.c PPS bad usec reference
</A></li>
	<LI>Next message: <A HREF="006982.html">[Gpsd-dev] ntpshm.c PPS bad usec reference
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7009">[ date ]</a>
              <a href="thread.html#7009">[ thread ]</a>
              <a href="subject.html#7009">[ subject ]</a>
              <a href="author.html#7009">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/gpsd-dev">More information about the Gpsd-dev
mailing list</a><br>
</body></html>
