<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Gpsd-dev] Cosmic Background Radiation Bufferbloat Detector
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/gpsd-dev/2011-April/index.html" >
   <LINK REL="made" HREF="mailto:gpsd-dev%40lists.berlios.de?Subject=Re%3A%20%5BGpsd-dev%5D%20Cosmic%20Background%20Radiation%20Bufferbloat%20Detector&In-Reply-To=%3C20110412024808.B802920C2E7%40snark.thyrsus.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="009288.html">
   <LINK REL="Next"  HREF="009294.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Gpsd-dev] Cosmic Background Radiation Bufferbloat Detector</H1>
    <B>Eric Raymond</B> 
    <A HREF="mailto:gpsd-dev%40lists.berlios.de?Subject=Re%3A%20%5BGpsd-dev%5D%20Cosmic%20Background%20Radiation%20Bufferbloat%20Detector&In-Reply-To=%3C20110412024808.B802920C2E7%40snark.thyrsus.com%3E"
       TITLE="[Gpsd-dev] Cosmic Background Radiation Bufferbloat Detector">esr at snark.thyrsus.com
       </A><BR>
    <I>Tue Apr 12 04:48:08 CEST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="009288.html">[Gpsd-dev] Updated pre-3.0 task list
</A></li>
        <LI>Next message: <A HREF="009294.html">[Gpsd-dev] Cosmic Background Radiation Bufferbloat Detector
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9292">[ date ]</a>
              <a href="thread.html#9292">[ thread ]</a>
              <a href="subject.html#9292">[ subject ]</a>
              <a href="author.html#9292">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>One of the things I work on other than GPSD is the Bufferbloat project
aiming at solving Internet perfornce problems caused by over-buffering and
poor queue management.  Dave Taht of that project is currently my houseguest
here at World Domination Central and we've been brainstorming ways to
write bufferbloat diagnostic tools.

Dave has an idea for what he calls the Cosmic Background Radiation Bufferbloat
Detector.  His idea is to compare NTP notifications to a high-precision local
time reference so he can use the propagation time of NTP packets as a 
latency measurement.

It would be quite easy for me to write a small client that would get time
from gpsd over the new shared-memory export (to reduce latency) and log
it along with system time.  The question is what ntpd report to compare
this with - especially considering that ntpd may be modifying system time.

Dave Taht thinks that rawstats logging looks promising for this purpose.
But, looking at the documentation on rawstats, I find I don't know what the
fields mean.  I see this:

   0928 2132.543 128.4.1.1 128.4.1.20 3102453281.584327000 3102453281.58622800031 02453332.540806000 3102453332.541458000

   The first two fields show the date (Modified Julian Day) and time
   (seconds and fraction past UTC midnight). The next two fields show
   the remote peer or clock address followed by the local address in
   dotted-quad notation, The final four fields show the originate,
   receive, transmit and final NTP timestamps in order. The timestamp
   values are as received and before processing by the various data
   smoothing and mitigation algorithms.

What are these originate, receive, transmit and final NTP timestamps?  Do
you have recommendations about using these, possibly in combination with
a GPS, to mesure link latency?
-- 
		&lt;a href=&quot;<A HREF="http://www.catb.org/~esr/">http://www.catb.org/~esr/</A>&quot;&gt;Eric S. Raymond&lt;/a&gt;

No one is bound to obey an unconstitutional law and no courts are bound
to enforce it.  	-- 16 Am. Jur. Sec. 177 late 2d, Sec 256

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="009288.html">[Gpsd-dev] Updated pre-3.0 task list
</A></li>
	<LI>Next message: <A HREF="009294.html">[Gpsd-dev] Cosmic Background Radiation Bufferbloat Detector
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9292">[ date ]</a>
              <a href="thread.html#9292">[ thread ]</a>
              <a href="subject.html#9292">[ subject ]</a>
              <a href="author.html#9292">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/gpsd-dev">More information about the Gpsd-dev
mailing list</a><br>
</body></html>
