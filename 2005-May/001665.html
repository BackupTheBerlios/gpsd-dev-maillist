<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Gpsd-dev] Gpsd lies about time.
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/gpsd-dev/2005-May/index.html" >
   <LINK REL="made" HREF="mailto:gpsd-dev%40lists.berlios.de?Subject=Re%3A%20%5BGpsd-dev%5D%20Gpsd%20lies%20about%20time.&In-Reply-To=%3CPine.BSO.4.61.0505151632030.26220%40pyxis.cns.ualberta.ca%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001663.html">
   <LINK REL="Next"  HREF="001667.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Gpsd-dev] Gpsd lies about time.</H1>
    <B>Chris Kuethe</B> 
    <A HREF="mailto:gpsd-dev%40lists.berlios.de?Subject=Re%3A%20%5BGpsd-dev%5D%20Gpsd%20lies%20about%20time.&In-Reply-To=%3CPine.BSO.4.61.0505151632030.26220%40pyxis.cns.ualberta.ca%3E"
       TITLE="[Gpsd-dev] Gpsd lies about time.">ckuethe at ualberta.ca
       </A><BR>
    <I>Mon May 16 00:41:16 CEST 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="001663.html">[Gpsd-dev] Gpsd lies about time.
</A></li>
        <LI>Next message: <A HREF="001667.html">[Gpsd-dev] Gpsd lies about time.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1665">[ date ]</a>
              <a href="thread.html#1665">[ thread ]</a>
              <a href="subject.html#1665">[ subject ]</a>
              <a href="author.html#1665">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Are you resetting the GPS in between these tests? In the middle of a
timing run, do you see a time jump? If so, what might be happening is
that the GPS is kicking out GPS time until the UTC corrections from the
almanac are downloaded... Certainly the PPS Time message from SiRF chips
will do that.

Failing that, the time-honoured ;) tradition of printf-ing every relevant
value every time your program touches it might be used.

CK

On Sun, 15 May 2005, Remco Treffkorn wrote:

&gt;<i>
</I>&gt;<i> Gpsd compiled with sirf and gps in sirf mode, time difference from normal = x.
</I>&gt;<i> Gpsg without sirf support, gps in nmea mode, time difference from normal = y.
</I>&gt;<i>
</I>&gt;<i> x - y ~ 12 seconds.
</I>&gt;<i>
</I>&gt;<i> Gpsd should show identical time when different drivers are used.
</I>&gt;<i> I am not ready to believe this is a gps firmware bug (but then I don't know
</I>&gt;<i> how old it is).
</I>&gt;<i>
</I>&gt;<i> The 12 second value is eyeballed only.
</I>&gt;<i>
</I>&gt;<i> Additionally, the nmea time is close to normal, only off by the expected
</I>&gt;<i> amount.
</I>&gt;<i>
</I>&gt;<i> I suggest there is a bug in the sirf time handling. Maybe it's a documentation
</I>&gt;<i> problem, and we are correcting a time for leap seconds that is already
</I>&gt;<i> corrected?
</I>&gt;<i> The number 12 is just too tasty to not come to that conclusion. So, it's
</I>&gt;<i> probably wrong ;-)
</I>&gt;<i>
</I>&gt;<i> Cheers,
</I>&gt;<i> Remco
</I>&gt;<i>
</I>&gt;<i> -- 
</I>&gt;<i> Remco Treffkorn (RT445)
</I>&gt;<i> HAM DC2XT
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/gpsd-dev">remco at rvt.com</A>   (831) 685-1201
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Gpsd-dev mailing list
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/gpsd-dev">Gpsd-dev at lists.berlios.de</A>
</I>&gt;<i> <A HREF="http://lists.berlios.de/mailman/listinfo/gpsd-dev">http://lists.berlios.de/mailman/listinfo/gpsd-dev</A>
</I>&gt;<i>
</I>
-- 
Chris Kuethe, GCIA: Secure Systems Specialist - U of A CNS
       office: 157 General Services Bldg.    +1.780.492.8135
               chris.kuethe@[pyxis.cns.]ualberta.ca

      GDB has a 'break' feature; why doesn't it have 'fix' too?


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001663.html">[Gpsd-dev] Gpsd lies about time.
</A></li>
	<LI>Next message: <A HREF="001667.html">[Gpsd-dev] Gpsd lies about time.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1665">[ date ]</a>
              <a href="thread.html#1665">[ thread ]</a>
              <a href="subject.html#1665">[ subject ]</a>
              <a href="author.html#1665">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/gpsd-dev">More information about the Gpsd-dev
mailing list</a><br>
</body></html>
