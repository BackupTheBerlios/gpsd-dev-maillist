<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Gpsd-dev] Big change -- FIONREAD is no longer used
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/gpsd-dev/2005-June/index.html" >
   <LINK REL="made" HREF="mailto:gpsd-dev%40lists.berlios.de?Subject=Re%3A%20%5BGpsd-dev%5D%20Big%20change%20--%20FIONREAD%20is%20no%20longer%20used&In-Reply-To=%3C17985.213.84.187.156.1119978081.squirrel%40213.84.187.156%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002278.html">
   <LINK REL="Next"  HREF="002260.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Gpsd-dev] Big change -- FIONREAD is no longer used</H1>
    <B>Rob Janssen</B> 
    <A HREF="mailto:gpsd-dev%40lists.berlios.de?Subject=Re%3A%20%5BGpsd-dev%5D%20Big%20change%20--%20FIONREAD%20is%20no%20longer%20used&In-Reply-To=%3C17985.213.84.187.156.1119978081.squirrel%40213.84.187.156%3E"
       TITLE="[Gpsd-dev] Big change -- FIONREAD is no longer used">gpsd at xs4all.nl
       </A><BR>
    <I>Tue Jun 28 19:01:21 CEST 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="002278.html">[Gpsd-dev] Re: Big change -- FIONREAD is no longer used
</A></li>
        <LI>Next message: <A HREF="002260.html">[Gpsd-dev] Big change -- FIONREAD is no longer used
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2258">[ date ]</a>
              <a href="thread.html#2258">[ thread ]</a>
              <a href="subject.html#2258">[ subject ]</a>
              <a href="author.html#2258">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>&gt;<i> The svn head code no longer relies on the FIONREAD ioctl.  Instead, I
</I>&gt;<i> have changed it to use non-blocking file descriptors everywhere.
</I>
I am seeing some weird problems.

First, the nonblocking i/o does not seem to work when done this way.
Try an strace on the gpsd process, it is clearly blocking in the reads.

Second, it looks like data is consistently getting lost.  Even when I look
with sirfmon via the daemon, some fields remain empty.  But I also see
trouble getting a valid fix or satellite info on the other receivers.



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002278.html">[Gpsd-dev] Re: Big change -- FIONREAD is no longer used
</A></li>
	<LI>Next message: <A HREF="002260.html">[Gpsd-dev] Big change -- FIONREAD is no longer used
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2258">[ date ]</a>
              <a href="thread.html#2258">[ thread ]</a>
              <a href="subject.html#2258">[ subject ]</a>
              <a href="author.html#2258">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/gpsd-dev">More information about the Gpsd-dev
mailing list</a><br>
</body></html>
