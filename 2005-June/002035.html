<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Gpsd-dev] Rob Janssen's upset screed
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/gpsd-dev/2005-June/index.html" >
   <LINK REL="made" HREF="mailto:gpsd-dev%40lists.berlios.de?Subject=Re%3A%20%5BGpsd-dev%5D%20Rob%20Janssen%27s%20upset%20screed&In-Reply-To=%3C20773.213.84.187.156.1118214408.squirrel%40213.84.187.156%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002030.html">
   <LINK REL="Next"  HREF="002033.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Gpsd-dev] Rob Janssen's upset screed</H1>
    <B>Rob Janssen</B> 
    <A HREF="mailto:gpsd-dev%40lists.berlios.de?Subject=Re%3A%20%5BGpsd-dev%5D%20Rob%20Janssen%27s%20upset%20screed&In-Reply-To=%3C20773.213.84.187.156.1118214408.squirrel%40213.84.187.156%3E"
       TITLE="[Gpsd-dev] Rob Janssen's upset screed">gpsd at xs4all.nl
       </A><BR>
    <I>Wed Jun  8 09:06:48 CEST 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="002030.html">[Gpsd-dev] Rob Janssen's upset screed
</A></li>
        <LI>Next message: <A HREF="002033.html">[Gpsd-dev] Rob Janssen's upset screed
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2035">[ date ]</a>
              <a href="thread.html#2035">[ thread ]</a>
              <a href="subject.html#2035">[ subject ]</a>
              <a href="author.html#2035">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>&gt;<i> A couple of other notes: while building gpsd on my openbsd zaurus, I found
</I>&gt;<i> that
</I>&gt;<i>
</I>&gt;<i> * the SiRF code doesn't compile with --disable-ntpshm: there is a
</I>&gt;<i> reference to session-&gt;time_seen not wrapped in #ifdef NTPSHM_ENABLE
</I>
Ok, you can simply ifdef that.

&gt;<i> * most things that touch threads (like callbacks and anything that
</I>&gt;<i> goes near a pthread_t) won't compile unless &lt;pthread.h&gt; is included.
</I>
I believe it is only included when functionality that requires it is
enabled.  Currently that is PPS and callbacks.
When those two are not enabled there should be no calls to pthread functions.
When there are, we need to ifdef them.

&gt;<i> * while on the topic of threads, at least on openbsd, using -lpthread
</I>&gt;<i> is wrong. The pthreads(3) and gcc-local(1) manpages say to just use
</I>&gt;<i> the -pthread compiler option to make gcc do the right thing.
</I>
I think someone with knowledge about autoconf should step in and fix this.
I have added the pthread checks by simply copying something from another
library check, and later merged it with the checks that were done for
callbacks.  But the result could be completely wrong.
I suppose autoconf has the proper code to check what pthread flags to use,
we should use that.


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002030.html">[Gpsd-dev] Rob Janssen's upset screed
</A></li>
	<LI>Next message: <A HREF="002033.html">[Gpsd-dev] Rob Janssen's upset screed
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2035">[ date ]</a>
              <a href="thread.html#2035">[ thread ]</a>
              <a href="subject.html#2035">[ subject ]</a>
              <a href="author.html#2035">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/gpsd-dev">More information about the Gpsd-dev
mailing list</a><br>
</body></html>
