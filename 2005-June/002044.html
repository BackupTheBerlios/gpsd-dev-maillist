<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Gpsd-dev] Re: Setting the timezone
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/gpsd-dev/2005-June/index.html" >
   <LINK REL="made" HREF="mailto:gpsd-dev%40lists.berlios.de?Subject=Re%3A%20%5BGpsd-dev%5D%20Re%3A%20Setting%20the%20timezone&In-Reply-To=%3CPine.LNX.4.63.0506081016240.22651%40catbert.rellim.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002039.html">
   <LINK REL="Next"  HREF="002045.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Gpsd-dev] Re: Setting the timezone</H1>
    <B>Gary E. Miller</B> 
    <A HREF="mailto:gpsd-dev%40lists.berlios.de?Subject=Re%3A%20%5BGpsd-dev%5D%20Re%3A%20Setting%20the%20timezone&In-Reply-To=%3CPine.LNX.4.63.0506081016240.22651%40catbert.rellim.com%3E"
       TITLE="[Gpsd-dev] Re: Setting the timezone">gem at rellim.com
       </A><BR>
    <I>Wed Jun  8 19:32:28 CEST 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="002039.html">[Gpsd-dev] Setting the timezone
</A></li>
        <LI>Next message: <A HREF="002045.html">[Gpsd-dev] Re: Setting the timezone
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2044">[ date ]</a>
              <a href="thread.html#2044">[ thread ]</a>
              <a href="subject.html#2044">[ subject ]</a>
              <a href="author.html#2044">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Yo Eric!

On Wed, 8 Jun 2005, Eric S. Raymond wrote:

&gt;<i> I think we may be able to end-run this, on Linux at least.  TZ isn't
</I>&gt;<i> set under Linux.  Instead, I have a vague recollection that when tzset()
</I>&gt;<i> is called the C library chases a hardlink...ah, yes, Google found me
</I>&gt;<i> a description at &lt;<A HREF="http://www.linuxsa.org.au/tips/time.html">http://www.linuxsa.org.au/tips/time.html</A>&gt;:
</I>
Maybe your linux, but not mine, and that is not exactly a standard.

But back to your tzset() issue.  Here is what the first line of MY man page
says:

	The tzset() function initializes the tzname variable  from
        the  TZ  environment variable.

I think you will find that is much more the common practice under
Unix as a whole.

FInding all the static and dynamic places that TZ is set or stored would
be a huge problem.  Programs like cups will also check the env() vars
ZONE and TIMEZONE if TZ is unset.

Every time a program starts it keeps its own snapshot of the environment
(includeing (TZ) in private memory.

Even if you found and changed all the clues that programs look for
TZ info, you still face another problem.  Most programs (daemone!)
determine TZ at startup and then never recheck it again.

Even if you can solve the setting of TZ, your have the other problems like:
	1. should you do this?
	2. can you determine the TZ from lat/lon/data?

In #1, I for one would not want this.  I prefer to keep my TZ on home
local time even when on another continent.  Others prefer to always use
GMT.  So an option to enable/disable is in order.

In #2, the TZ lines are very funky and dynamic.  Take a look at the TZ that
goes down the middle of Hells Canyon.

RGDS
GARY
- ---------------------------------------------------------------------------
Gary E. Miller Rellim 20340 Empire Blvd, Suite E-3, Bend, OR 97701
	<A HREF="https://lists.berlios.de/mailman/listinfo/gpsd-dev">gem at rellim.com</A>  Tel:+1(541)382-8588 Fax: +1(541)382-8676

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.2.3 (GNU/Linux)

iD8DBQFCpyuw8KZibdeR3qURAohdAJ0Yxes2jM/Ez0u2q4tduF3hMDj49gCcDsgK
MsadfY50RWa3P61gVuQLlvQ=
=2Tu8
-----END PGP SIGNATURE-----


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002039.html">[Gpsd-dev] Setting the timezone
</A></li>
	<LI>Next message: <A HREF="002045.html">[Gpsd-dev] Re: Setting the timezone
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2044">[ date ]</a>
              <a href="thread.html#2044">[ thread ]</a>
              <a href="subject.html#2044">[ subject ]</a>
              <a href="author.html#2044">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/gpsd-dev">More information about the Gpsd-dev
mailing list</a><br>
</body></html>
