<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Gpsd-dev] Re: Setting the timezone
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/gpsd-dev/2005-June/index.html" >
   <LINK REL="made" HREF="mailto:gpsd-dev%40lists.berlios.de?Subject=Re%3A%20%5BGpsd-dev%5D%20Re%3A%20Setting%20the%20timezone&In-Reply-To=%3CPine.LNX.4.63.0506081103540.22651%40catbert.rellim.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002045.html">
   <LINK REL="Next"  HREF="002042.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Gpsd-dev] Re: Setting the timezone</H1>
    <B>Gary E. Miller</B> 
    <A HREF="mailto:gpsd-dev%40lists.berlios.de?Subject=Re%3A%20%5BGpsd-dev%5D%20Re%3A%20Setting%20the%20timezone&In-Reply-To=%3CPine.LNX.4.63.0506081103540.22651%40catbert.rellim.com%3E"
       TITLE="[Gpsd-dev] Re: Setting the timezone">gem at rellim.com
       </A><BR>
    <I>Wed Jun  8 20:16:08 CEST 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="002045.html">[Gpsd-dev] Re: Setting the timezone
</A></li>
        <LI>Next message: <A HREF="002042.html">[Gpsd-dev] Re: [Gpsd-commit-watch] r2585 - trunk
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2046">[ date ]</a>
              <a href="thread.html#2046">[ thread ]</a>
              <a href="subject.html#2046">[ subject ]</a>
              <a href="author.html#2046">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Yo Eric!

On Wed, 8 Jun 2005, Eric S. Raymond wrote:

&gt;<i> &gt; 	The tzset() function initializes the tzname variable  from
</I>&gt;<i> &gt;         the  TZ  environment variable.
</I>
&gt;<i> Mine says that too.  But still, TZ is not set on my system, so tzset()
</I>&gt;<i> falls back to the /etc/localtime hardlink. Is it set on yours?
</I>
Yes, TZ is set.  And for some users on my systems it is PDT and for others
it is EDT.  At the same time.  On thers the system us UTC and he users
are all over the map.

&gt;<i> If not, check to see if /etc/localtime has 2 links in its inode.
</I>
Nope.  Mine is a softlink like this:

	/etc/localtime -&gt; /usr/share/zoneinfo/US/Pacific

&gt;<i> If so, I'll
</I>&gt;<i> bet your system works exactly as my source describes.
</I>
In theory yes, on my machines, no.

&gt;<i> &gt; Every time a program starts it keeps its own snapshot of the environment
</I>&gt;<i> &gt; (includeing (TZ) in private memory.
</I>&gt;<i>
</I>&gt;<i> So if TZ is actually set, we're screwed.  But I knew that.
</I>
Yep.

&gt;<i> &gt; 	1. should you do this?
</I>&gt;<i>
</I>&gt;<i> Policy question.  It would be up to the user whether or not to run the
</I>&gt;<i> specialized client to do this.
</I>
That works for me, I can safely ignore it.

In practice, you really want the TZ set at boot up and/or login.
Having the time jump around in the logs makes them hard to read.  Worse
yet jumpy time breaks make/cron/at, etc.

So can you get a gps fix fast enough on startup to not drive the user
crazy waiting for his system to boot or login?

The only way I see this working is if the GPS is started at bootup and
the system has a fixed TZ.  Then when a user logs in he can run a one
time process in his user login script that sets the users TZ based
on lat/lon.

&gt;<i> &gt;     2. can you determine the TZ from lat/lon/data?
</I>&gt;<i>
</I>&gt;<i> This is the big problem.
</I>
Yep.

RGDS
GARY
- ---------------------------------------------------------------------------
Gary E. Miller Rellim 20340 Empire Blvd, Suite E-3, Bend, OR 97701
	<A HREF="https://lists.berlios.de/mailman/listinfo/gpsd-dev">gem at rellim.com</A>  Tel:+1(541)382-8588 Fax: +1(541)382-8676
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.2.3 (GNU/Linux)

iD8DBQFCpzXr8KZibdeR3qURAu1+AJsHLlUoBXkmMLZPBz69J/TiI0bZ0QCgkZJz
yR74ys0SBn3vxmX0hlR9lAs=
=I3GT
-----END PGP SIGNATURE-----


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002045.html">[Gpsd-dev] Re: Setting the timezone
</A></li>
	<LI>Next message: <A HREF="002042.html">[Gpsd-dev] Re: [Gpsd-commit-watch] r2585 - trunk
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2046">[ date ]</a>
              <a href="thread.html#2046">[ thread ]</a>
              <a href="subject.html#2046">[ subject ]</a>
              <a href="author.html#2046">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/gpsd-dev">More information about the Gpsd-dev
mailing list</a><br>
</body></html>
