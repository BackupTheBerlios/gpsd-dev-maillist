<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Gpsd-dev] Compiling GPSD for la Fonera 2
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/gpsd-dev/2009-June/index.html" >
   <LINK REL="made" HREF="mailto:gpsd-dev%40lists.berlios.de?Subject=Re%3A%20%5BGpsd-dev%5D%20Compiling%20GPSD%20for%20la%20Fonera%202&In-Reply-To=%3CBAY141-W2922E31CD99D64375EB743DC3E0%40phx.gbl%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="006749.html">
   <LINK REL="Next"  HREF="006752.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Gpsd-dev] Compiling GPSD for la Fonera 2</H1>
    <B>Marcos RQ</B> 
    <A HREF="mailto:gpsd-dev%40lists.berlios.de?Subject=Re%3A%20%5BGpsd-dev%5D%20Compiling%20GPSD%20for%20la%20Fonera%202&In-Reply-To=%3CBAY141-W2922E31CD99D64375EB743DC3E0%40phx.gbl%3E"
       TITLE="[Gpsd-dev] Compiling GPSD for la Fonera 2">strike_ut_ at hotmail.com
       </A><BR>
    <I>Mon Jun 15 21:15:31 CEST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="006749.html">[Gpsd-dev] new gps report
</A></li>
        <LI>Next message: <A HREF="006752.html">[Gpsd-dev] Compiling GPSD for la Fonera 2
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6751">[ date ]</a>
              <a href="thread.html#6751">[ thread ]</a>
              <a href="subject.html#6751">[ subject ]</a>
              <a href="author.html#6751">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
Hi there!

Problems compiling the clients of GPSD.
I need cgpxlogger for make it run into the Fonera.


But the problem comes when I have all compiled and ready to execute it to la Fonera.
I tryed  runnig the binary files on la Fonera, but nothing happens ( no errors, no response, no output), I have to do control+c to kill it.
Seems the binary files are not well compiled.

I'm using gpsd2.37
<A HREF="http://developer.berlios.de/project/showfiles.php?group_id=2116">http://developer.berlios.de/project/showfiles.php?group_id=2116</A>

For cross gpsd2.37 compilation for la fonera I have this script:
******************************************************
export PATH=/home/strike/fcompila/trunk/openwrt/staging_dir/toolchain-mips_gcc4.1.2/bin:/home/strike/fcompila/trunk/openwrt/staging_dir/toolchain-mips_gcc4.1.2/bin:/bin:/sbin:/usr/bin:/usr/sbin
PREFIX=/home/strike/fcompila/trunk/openwrt/staging_dir/toolchain-mips_gcc4.1.2/bin

export AR=$PREFIX/mips-linux-uclibc-ar
export AS=$PREFIX/mips-linux-uclibc-as
export LD=$PREFIX/mips-linux-uclibc-ld
export NM=$PREFIX/mips-linux-uclibc-nm
export CC=$PREFIX/mips-linux-uclibc-gcc
export CPP=$PREFIX/mips-linux-uclibc-cpp
export GCC=$PREFIX/mips-linux-uclibc-gcc
export CC=$PREFIX/mips-linux-uclibc-gcc
export CXX=$PREFIX/mips-linux-uclibc-g++
export RANLIB=$PREFIX/mips-linux-uclibc-ranlib
export CFLAGS=&quot;-Os -s&quot;
export LDFLAGS=&quot;-L/home/strike/fcompila/trunk/openwrt/staging_dir/toolchain-mips_gcc4.1.2/lib&quot;
export CPPFLAGS=&quot;-I/home/strike/fcompila/trunk/openwrt/staging_dir/toolchain-mips_gcc4.1.2/include&quot;

./configure --target=mips-uclibc-linux --host=mips-uclibc-linux --build=i386-pc-linux-gnu --disable-python --without-x --build=mips-linux-gnu  --disable-dependency-tracking --disable-pps --disable-shared
*******************************************************************************************

this is the output of configure :

strike at EXIA:~/soft-fon/gpsd-2.37$ sh xcom.sh 
checking for a BSD-compatible install... /usr/bin/install -c
checking whether build environment is sane... yes
checking for gawk... gawk
checking whether make sets $(MAKE)... yes
checking for mips-linux-strip... mips-linux-strip
checking whether ln -s works... yes
checking whether make sets $(MAKE)... (cached) yes
checking for a BSD-compatible install... /usr/bin/install -c
checking build system type... mips-unknown-linux-gnu
checking host system type... mips-unknown-linux-gnu
checking for style of include used by make... GNU
checking for mips-linux-gcc... /home/strike/FON3/trunk/openwrt/staging_dir/toolchain-mips_gcc4.1.2/bin/mips-linux-uclibc-gcc
checking for C compiler default output file name... a.out
checking whether the C compiler works... yes
checking whether we are cross compiling... yes
checking for suffix of executables... 
checking for suffix of object files... o
checking whether we are using the GNU C compiler... yes
checking whether /home/strike/FON3/trunk/openwrt/staging_dir/toolchain-mips_gcc4.1.2/bin/mips-linux-uclibc-gcc accepts -g... yes
checking for /home/strike/FON3/trunk/openwrt/staging_dir/toolchain-mips_gcc4.1.2/bin/mips-linux-uclibc-gcc option to accept ISO C89... none needed
checking dependency style of /home/strike/FON3/trunk/openwrt/staging_dir/toolchain-mips_gcc4.1.2/bin/mips-linux-uclibc-gcc... none
checking for a sed that does not truncate output... /bin/sed
checking for grep that handles long lines and -e... /bin/grep
checking for egrep... /bin/grep -E
checking for ld used by /home/strike/FON3/trunk/openwrt/staging_dir/toolchain-mips_gcc4.1.2/bin/mips-linux-uclibc-gcc... /home/strike/FON3/trunk/openwrt/staging_dir/toolchain-mips_gcc4.1.2/bin/mips-linux-uclibc-ld
checking if the linker (/home/strike/FON3/trunk/openwrt/staging_dir/toolchain-mips_gcc4.1.2/bin/mips-linux-uclibc-ld) is GNU ld... yes
checking for /home/strike/FON3/trunk/openwrt/staging_dir/toolchain-mips_gcc4.1.2/bin/mips-linux-uclibc-ld option to reload object files... -r
checking for BSD-compatible nm... /home/strike/FON3/trunk/openwrt/staging_dir/toolchain-mips_gcc4.1.2/bin/mips-linux-uclibc-nm
checking how to recognise dependent libraries... pass_all
checking how to run the C preprocessor... /home/strike/FON3/trunk/openwrt/staging_dir/toolchain-mips_gcc4.1.2/bin/mips-linux-uclibc-cpp
checking for ANSI C header files... yes
checking for sys/types.h... yes
checking for sys/stat.h... yes
checking for stdlib.h... yes
checking for string.h... yes
checking for memory.h... yes
checking for strings.h... yes
checking for inttypes.h... yes
checking for stdint.h... yes
checking for unistd.h... yes
checking dlfcn.h usability... yes
checking dlfcn.h presence... yes
checking for dlfcn.h... yes
checking whether we are using the GNU C++ compiler... yes
checking whether /home/strike/FON3/trunk/openwrt/staging_dir/toolchain-mips_gcc4.1.2/bin/mips-linux-uclibc-g++ accepts -g... yes
checking dependency style of /home/strike/FON3/trunk/openwrt/staging_dir/toolchain-mips_gcc4.1.2/bin/mips-linux-uclibc-g++... none
checking how to run the C++ preprocessor... /home/strike/FON3/trunk/openwrt/staging_dir/toolchain-mips_gcc4.1.2/bin/mips-linux-uclibc-g++ -E
checking for mips-linux-g77... no
checking for mips-linux-f77... no
checking for mips-linux-xlf... no
checking for mips-linux-frt... no
checking for mips-linux-pgf77... no
checking for mips-linux-cf77... no
checking for mips-linux-fort77... no
checking for mips-linux-fl32... no
checking for mips-linux-af77... no
checking for mips-linux-f90... no
checking for mips-linux-xlf90... no
checking for mips-linux-pgf90... no
checking for mips-linux-pghpf... no
checking for mips-linux-epcf90... no
checking for mips-linux-gfortran... no
checking for mips-linux-g95... no
checking for mips-linux-f95... no
checking for mips-linux-fort... no
checking for mips-linux-xlf95... no
checking for mips-linux-ifort... no
checking for mips-linux-ifc... no
checking for mips-linux-efc... no
checking for mips-linux-pgf95... no
checking for mips-linux-lf95... no
checking for mips-linux-ftn... no
checking for g77... no
checking for f77... no
checking for xlf... no
checking for frt... no
checking for pgf77... no
checking for cf77... no
checking for fort77... no
checking for fl32... no
checking for af77... no
checking for f90... no
checking for xlf90... no
checking for pgf90... no
checking for pghpf... no
checking for epcf90... no
checking for gfortran... no
checking for g95... no
checking for f95... no
checking for fort... no
checking for xlf95... no
checking for ifort... no
checking for ifc... no
checking for efc... no
checking for pgf95... no
checking for lf95... no
checking for ftn... no
checking whether we are using the GNU Fortran 77 compiler... no
checking whether  accepts -g... no
checking the maximum length of command line arguments... 32768
checking command to parse /home/strike/FON3/trunk/openwrt/staging_dir/toolchain-mips_gcc4.1.2/bin/mips-linux-uclibc-nm output from /home/strike/FON3/trunk/openwrt/staging_dir/toolchain-mips_gcc4.1.2/bin/mips-linux-uclibc-gcc object... ok
checking for objdir... .libs
checking for mips-linux-ar... /home/strike/FON3/trunk/openwrt/staging_dir/toolchain-mips_gcc4.1.2/bin/mips-linux-uclibc-ar
checking for mips-linux-ranlib... /home/strike/FON3/trunk/openwrt/staging_dir/toolchain-mips_gcc4.1.2/bin/mips-linux-uclibc-ranlib
checking for mips-linux-strip... (cached) mips-linux-strip
checking if /home/strike/FON3/trunk/openwrt/staging_dir/toolchain-mips_gcc4.1.2/bin/mips-linux-uclibc-gcc supports -fno-rtti -fno-exceptions... no
checking for /home/strike/FON3/trunk/openwrt/staging_dir/toolchain-mips_gcc4.1.2/bin/mips-linux-uclibc-gcc option to produce PIC... -fPIC
checking if /home/strike/FON3/trunk/openwrt/staging_dir/toolchain-mips_gcc4.1.2/bin/mips-linux-uclibc-gcc PIC flag -fPIC works... yes
checking if /home/strike/FON3/trunk/openwrt/staging_dir/toolchain-mips_gcc4.1.2/bin/mips-linux-uclibc-gcc static flag -static works... yes
checking if /home/strike/FON3/trunk/openwrt/staging_dir/toolchain-mips_gcc4.1.2/bin/mips-linux-uclibc-gcc supports -c -o file.o... yes
checking whether the /home/strike/FON3/trunk/openwrt/staging_dir/toolchain-mips_gcc4.1.2/bin/mips-linux-uclibc-gcc linker (/home/strike/FON3/trunk/openwrt/staging_dir/toolchain-mips_gcc4.1.2/bin/mips-linux-uclibc-ld) supports shared libraries... yes
checking whether -lc should be explicitly linked in... no
checking dynamic linker characteristics... GNU/Linux ld.so
checking how to hardcode library paths into programs... immediate
checking whether stripping libraries is possible... yes
checking if libtool supports shared libraries... yes
checking whether to build shared libraries... yes
checking whether to build static libraries... yes
configure: creating libtool
appending configuration tag &quot;CXX&quot; to libtool
checking for ld used by /home/strike/FON3/trunk/openwrt/staging_dir/toolchain-mips_gcc4.1.2/bin/mips-linux-uclibc-g++... /home/strike/FON3/trunk/openwrt/staging_dir/toolchain-mips_gcc4.1.2/bin/mips-linux-uclibc-ld
checking if the linker (/home/strike/FON3/trunk/openwrt/staging_dir/toolchain-mips_gcc4.1.2/bin/mips-linux-uclibc-ld) is GNU ld... yes
checking whether the /home/strike/FON3/trunk/openwrt/staging_dir/toolchain-mips_gcc4.1.2/bin/mips-linux-uclibc-g++ linker (/home/strike/FON3/trunk/openwrt/staging_dir/toolchain-mips_gcc4.1.2/bin/mips-linux-uclibc-ld) supports shared libraries... yes
checking for /home/strike/FON3/trunk/openwrt/staging_dir/toolchain-mips_gcc4.1.2/bin/mips-linux-uclibc-g++ option to produce PIC... -fPIC
checking if /home/strike/FON3/trunk/openwrt/staging_dir/toolchain-mips_gcc4.1.2/bin/mips-linux-uclibc-g++ PIC flag -fPIC works... yes
checking if /home/strike/FON3/trunk/openwrt/staging_dir/toolchain-mips_gcc4.1.2/bin/mips-linux-uclibc-g++ static flag -static works... yes
checking if /home/strike/FON3/trunk/openwrt/staging_dir/toolchain-mips_gcc4.1.2/bin/mips-linux-uclibc-g++ supports -c -o file.o... yes
checking whether the /home/strike/FON3/trunk/openwrt/staging_dir/toolchain-mips_gcc4.1.2/bin/mips-linux-uclibc-g++ linker (/home/strike/FON3/trunk/openwrt/staging_dir/toolchain-mips_gcc4.1.2/bin/mips-linux-uclibc-ld) supports shared libraries... yes
checking dynamic linker characteristics... GNU/Linux ld.so
checking how to hardcode library paths into programs... immediate
appending configuration tag &quot;F77&quot; to libtool
checking whether we are using the GNU C++ compiler... (cached) yes
checking whether /home/strike/FON3/trunk/openwrt/staging_dir/toolchain-mips_gcc4.1.2/bin/mips-linux-uclibc-g++ accepts -g... (cached) yes
checking dependency style of /home/strike/FON3/trunk/openwrt/staging_dir/toolchain-mips_gcc4.1.2/bin/mips-linux-uclibc-g++... (cached) none
checking whether byte ordering is bigendian... yes
.
.
.
==========================================
gpsd 2.37
------------------------------------------
    Protocols
    ---------
Ashtech                 : yes
Earthmate               : no
EverMore                : no
FV-18                   : no
Garmin                  : yes
Garmin Simple Text      : no
iTrax                   : no
NMEA                    : yes
NTRIP                   : yes
Navcom                  : yes
RTCM104                 : yes
SiRF                    : yes
Trimble TSIP            : yes
Tripmate                : no
True North              : no
UBX                     : yes
GPSclock                : yes
    Daemon Features
    ---------------
NTP SHM                 : no
NTP PPS                 : no
PPS input on            : DCD
Fixed port speed        : no
Priv-drop user          : nobody
Enable shared libraries : yes
Enable DBUS support     : no
Enable X11 support      : no
Enable Python support   : no
Limited max clients     : no
Limited max devices     : no
Allow device reconfig   : yes
Squelch logging/hexdump : no
Build ncurses programs  : no
------------------------------------------
configure: creating ./config.status
config.status: creating Makefile
config.status: creating gpsd.spec
config.status: creating libgps.pc
config.status: creating libgpsd.pc
config.status: creating gpsd_config.h
config.status: executing depfiles commands
Configure finished, type 'make' to build.
************************************************************
************************************************************

And then run make and all binary files are build without errors, pass all  files to la Fonera 2, and nothing happens.
( I exped an error or something) 

I don't know what is going on.
If do you have a better script for configure the cross compiling environment, or do you see a mistake , or even any of you have cgpxlogger compiled for mips.
Any help will be apreciated.

Thanks!


_________________________________________________________________
Ll&#233;vate Messenger en el m&#243;vil a todas partes &#161;Con&#233;ctate!
<A HREF="http://www.microsoft.com/spain/windowsmobile/messenger/default.mspx">http://www.microsoft.com/spain/windowsmobile/messenger/default.mspx</A>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/gpsd-dev/attachments/20090615/a09f05c9/attachment.html">https://lists.berlios.de/pipermail/gpsd-dev/attachments/20090615/a09f05c9/attachment.html</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="006749.html">[Gpsd-dev] new gps report
</A></li>
	<LI>Next message: <A HREF="006752.html">[Gpsd-dev] Compiling GPSD for la Fonera 2
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6751">[ date ]</a>
              <a href="thread.html#6751">[ thread ]</a>
              <a href="subject.html#6751">[ subject ]</a>
              <a href="author.html#6751">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/gpsd-dev">More information about the Gpsd-dev
mailing list</a><br>
</body></html>
