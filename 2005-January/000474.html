<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Gpsd-dev] Yet another bug in GSV parsing fixed
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/gpsd-dev/2005-January/index.html" >
   <LINK REL="made" HREF="mailto:gpsd-dev%40lists.berlios.de?Subject=Re%3A%20%5BGpsd-dev%5D%20Yet%20another%20bug%20in%20GSV%20parsing%20fixed&In-Reply-To=%3C200501052306.j05N6B1k011028%40snark.thyrsus.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000473.html">
   <LINK REL="Next"  HREF="000475.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Gpsd-dev] Yet another bug in GSV parsing fixed</H1>
    <B>Eric S. Raymond</B> 
    <A HREF="mailto:gpsd-dev%40lists.berlios.de?Subject=Re%3A%20%5BGpsd-dev%5D%20Yet%20another%20bug%20in%20GSV%20parsing%20fixed&In-Reply-To=%3C200501052306.j05N6B1k011028%40snark.thyrsus.com%3E"
       TITLE="[Gpsd-dev] Yet another bug in GSV parsing fixed">esr at snark.thyrsus.com
       </A><BR>
    <I>Thu Jan  6 00:06:11 CET 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="000473.html">[Gpsd-dev] loco-d
</A></li>
        <LI>Next message: <A HREF="000475.html">[Gpsd-dev] New document on how to fix NMEA 0183
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#474">[ date ]</a>
              <a href="thread.html#474">[ thread ]</a>
              <a href="subject.html#474">[ subject ]</a>
              <a href="author.html#474">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>This one was nasty.  It turns out that the old field() code would
return the last field of a sentences, as opposed to something useful
like the empty string, if you gave it an index greater than the number
of fields in the sentence.  The result was that the new GSV parsing
code was tacking a duplicate of the last satellite tuple onto the
output array.

I still don't know what's causing Petter's jumping-satellites bug -- 
this seems unlikely to have been it, though I'd love to be wrong about
that.

Fixing the GSV parser to deal with damaged GSV sequences has exposed
a lot of fragility and bad assumptions in the underlying code.  I'm
not sure we're at the end of that discovery yet.  On the other hand,
the new parser is much simpler than the old one, which seems to be
progress in the right direction.
-- 
		&lt;a href=&quot;<A HREF="http://www.catb.org/~esr/">http://www.catb.org/~esr/</A>&quot;&gt;Eric S. Raymond&lt;/a&gt;

In the absence of any evidence tending to show that possession 
or use of a 'shotgun having a barrel of less than eighteen inches 
in length' at this time has some reasonable relationship to the 
preservation or efficiency of a well regulated militia, we cannot 
say that the Second Amendment guarantees the right to keep and bear 
such an instrument. [...] The Militia comprised all males 
physically capable of acting in concert for the common defense.  
        -- Majority Supreme Court opinion in &quot;U.S. vs. Miller&quot; (1939)

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000473.html">[Gpsd-dev] loco-d
</A></li>
	<LI>Next message: <A HREF="000475.html">[Gpsd-dev] New document on how to fix NMEA 0183
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#474">[ date ]</a>
              <a href="thread.html#474">[ thread ]</a>
              <a href="subject.html#474">[ subject ]</a>
              <a href="author.html#474">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/gpsd-dev">More information about the Gpsd-dev
mailing list</a><br>
</body></html>
