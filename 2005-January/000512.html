<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Gpsd-dev] Writing a long-lasting gpsd client in python?
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/gpsd-dev/2005-January/index.html" >
   <LINK REL="made" HREF="mailto:gpsd-dev%40lists.berlios.de?Subject=Re%3A%20%5BGpsd-dev%5D%20Writing%20a%20long-lasting%20gpsd%20client%20in%20python%3F&In-Reply-To=%3CE1Co7Ne-0001v3-WF%40saruman.uio.no%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000511.html">
   <LINK REL="Next"  HREF="000513.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Gpsd-dev] Writing a long-lasting gpsd client in python?</H1>
    <B>Petter Reinholdtsen</B> 
    <A HREF="mailto:gpsd-dev%40lists.berlios.de?Subject=Re%3A%20%5BGpsd-dev%5D%20Writing%20a%20long-lasting%20gpsd%20client%20in%20python%3F&In-Reply-To=%3CE1Co7Ne-0001v3-WF%40saruman.uio.no%3E"
       TITLE="[Gpsd-dev] Writing a long-lasting gpsd client in python?">pere at hungry.com
       </A><BR>
    <I>Mon Jan 10 22:47:19 CET 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="000511.html">[Gpsd-dev] Time to remove configure.in from svn?
</A></li>
        <LI>Next message: <A HREF="000513.html">[Gpsd-dev] Writing a long-lasting gpsd client in python?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#512">[ date ]</a>
              <a href="thread.html#512">[ thread ]</a>
              <a href="subject.html#512">[ subject ]</a>
              <a href="author.html#512">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I'm trying to write a long-lasting gpsd client in python.  I want it
to connect to the gpsd, and fetch data from it forever.  If the gpsd
process dies and is started again, the client should reconnect
automatically and continue reading data.  This do not work with the
python library included with gpsd.

I would like to get something like this working, even if the server
disappears and reappear again.

  #!/usr/bin/env python
  import sys
  import gps
  session = gps.gps(verbose=1)
  session.query(&quot;w+x\n&quot;)
  while True:
      try:
          session.poll()
      except Exception, e:
          sys.stderr.write(&quot;Exception: %s.\n&quot; % repr(e))
          raise

Is the correct fix to change the gps library to handle this, or should
I change my program to handle this?

(The C library is also unable to reconnect to the server.  It would be
a lot more useful if it was. :)

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000511.html">[Gpsd-dev] Time to remove configure.in from svn?
</A></li>
	<LI>Next message: <A HREF="000513.html">[Gpsd-dev] Writing a long-lasting gpsd client in python?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#512">[ date ]</a>
              <a href="thread.html#512">[ thread ]</a>
              <a href="subject.html#512">[ subject ]</a>
              <a href="author.html#512">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/gpsd-dev">More information about the Gpsd-dev
mailing list</a><br>
</body></html>
