<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Gpsd-dev] GPS date fail due to week counter rollover (not a gpsd bug)
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/gpsd-dev/2011-January/index.html" >
   <LINK REL="made" HREF="mailto:gpsd-dev%40lists.berlios.de?Subject=Re%3A%20%5BGpsd-dev%5D%20GPS%20date%20fail%20due%20to%20week%20counter%20rollover%20%28not%20a%0A%20gpsd%20bug%29&In-Reply-To=%3C4D2CB5FC.6060907%40navlost.eu%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="008487.html">
   <LINK REL="Next"  HREF="008490.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Gpsd-dev] GPS date fail due to week counter rollover (not a gpsd bug)</H1>
    <B>Diego Berge</B> 
    <A HREF="mailto:gpsd-dev%40lists.berlios.de?Subject=Re%3A%20%5BGpsd-dev%5D%20GPS%20date%20fail%20due%20to%20week%20counter%20rollover%20%28not%20a%0A%20gpsd%20bug%29&In-Reply-To=%3C4D2CB5FC.6060907%40navlost.eu%3E"
       TITLE="[Gpsd-dev] GPS date fail due to week counter rollover (not a gpsd bug)">gpsd at navlost.eu
       </A><BR>
    <I>Tue Jan 11 20:56:44 CET 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="008487.html">[Gpsd-dev] source classification - (usb/serial/block)
</A></li>
        <LI>Next message: <A HREF="008490.html">[Gpsd-dev] GPS date fail due to week counter rollover (not a gpsd bug)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8489">[ date ]</a>
              <a href="thread.html#8489">[ thread ]</a>
              <a href="subject.html#8489">[ subject ]</a>
              <a href="author.html#8489">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

On 18/12/10 14:52, Greg Troxel wrote:

&gt;&gt;&gt;<i>   If there are GPS receivers that support getting time at powerup to get
</I>&gt;&gt;&gt;<i>   the above right, help them.
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>   Have gpsd disambiguate 2-digit years using the local clock.  But since
</I>&gt;&gt;&gt;<i>   we release often relative to 100-year rollover, that's not a worry and
</I>&gt;&gt;&gt;<i>   the current &quot;assume 20XX&quot; seems fine.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Combining these: Up to now, we've had a policy of not trusting the system 
</I>&gt;&gt;<i> clock.  But maybe we could trust it to a limited extent at gpsd startup.  
</I>
   As an alternative, if your receiver outputs, and gpsd captures, the
UTC message (page 18.4 of the navigation message), you're in luck. In
such case you can use the leap seconds adjustment (&#916;tLS, &#916;tLSF)  to
either determine (by means of a lookup table) or estimate (by relying on
the fact that the Earth rotation rate is slowing down) the rough year.

   I haven't thought this through completely, but I think it should be
close enough to disambiguate adequately for the foreseeable future and
more deterministic than relying on the local clock, assuming you have
one at all. The disadvantage is that probably not all receivers output
the requisite information.

   Comments?


Regards,
Diego Berge.
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.10 (GNU/Linux)
Comment: Using GnuPG with Mozilla - <A HREF="http://enigmail.mozdev.org/">http://enigmail.mozdev.org/</A>

iEYEARECAAYFAk0stfwACgkQmlKEtSWrbj03XgCeOlHyFR9aq+eWDPelfJKSdPyn
yIAAn1l2c3MgdvpE2Mni6fV/VjRIdzr4
=/FHc
-----END PGP SIGNATURE-----

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="008487.html">[Gpsd-dev] source classification - (usb/serial/block)
</A></li>
	<LI>Next message: <A HREF="008490.html">[Gpsd-dev] GPS date fail due to week counter rollover (not a gpsd bug)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8489">[ date ]</a>
              <a href="thread.html#8489">[ thread ]</a>
              <a href="subject.html#8489">[ subject ]</a>
              <a href="author.html#8489">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/gpsd-dev">More information about the Gpsd-dev
mailing list</a><br>
</body></html>
