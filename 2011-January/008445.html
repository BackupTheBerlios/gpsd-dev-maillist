<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Gpsd-dev] Remaining work on subframe reporting
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/gpsd-dev/2011-January/index.html" >
   <LINK REL="made" HREF="mailto:gpsd-dev%40lists.berlios.de?Subject=Re%3A%20%5BGpsd-dev%5D%20Remaining%20work%20on%20subframe%20reporting&In-Reply-To=%3Calpine.LNX.1.00.1101051603360.3735%40catbert.rellim.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="008444.html">
   <LINK REL="Next"  HREF="008446.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Gpsd-dev] Remaining work on subframe reporting</H1>
    <B>Gary E. Miller</B> 
    <A HREF="mailto:gpsd-dev%40lists.berlios.de?Subject=Re%3A%20%5BGpsd-dev%5D%20Remaining%20work%20on%20subframe%20reporting&In-Reply-To=%3Calpine.LNX.1.00.1101051603360.3735%40catbert.rellim.com%3E"
       TITLE="[Gpsd-dev] Remaining work on subframe reporting">gem at rellim.com
       </A><BR>
    <I>Thu Jan  6 01:30:14 CET 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="008444.html">[Gpsd-dev] Remaining work on subframe reporting
</A></li>
        <LI>Next message: <A HREF="008446.html">[Gpsd-dev] Remaining work on subframe reporting
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8445">[ date ]</a>
              <a href="thread.html#8445">[ thread ]</a>
              <a href="subject.html#8445">[ subject ]</a>
              <a href="author.html#8445">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Yo Eric!

On Wed, 5 Jan 2011, Eric Raymond wrote:

&gt;<i> Recent progresss on subframe reporting has been excellent.
</I>
Glad someone noticed.

&gt;<i> 1. Are we now reporting the complete set of subframes, or is there more
</I>&gt;<i> information still to be extracted?
</I>
Yes, but probably not remotely in the final form and no guarantees of
completeness, correctness, splint-ness, etc.

&gt;<i> 2. I'm always concerned about numerical stability in reports of float
</I>&gt;<i> quantities. There are two problems here: (a) Repeatability for regression
</I>&gt;<i> testing, and (b) Lossless reporting for clients who would prefer to do
</I>&gt;<i> their own scaling in order to avoid (for example) issues with IEEE754
</I>&gt;<i> conformance or the lack of it on their platform.
</I>
Yep, and I have been torn over how much or how little post processing to
do.  Prolly makes sense to dump both the raw and massaged data and that
would be easy.  Harder is to dump in a way to not trigger the float
regression issues you rightly bring up.

And then beyond that, there are the many questions of how many decimal
places to report on each floating point value and to report in
semi-circles as the IS-GPS-200E calls for, or radians as many people
seem to be expecting.

&gt;<i> 3. The output JSON needs to be documented on the gpsd(8) manual page.
</I>
Probably WAY too much clutter, maybe a gpsd-json(8) page?  In any case
not much point until the content is settled, and I fear that will be
a while....

I also have a lot of issues on JSON encoding:

What floating point formats work?

How do I encode a string that includes random double quotes in it (the
system message)?

How do I encode arrays?

Should I encode arrays (a[0], a[1],...) instead of naming the varables
as does the IS-GPS-200E (ERD1, ERD2,... ERD25)?

Is it OK to have class:SUBFRAME where the first part is fixed and
the second part is variable or should there be a sub class for each
different data set?  An example of that is Omega0 in subframe 3 and in
subframe 5 that have different precisions.

If sub classes are used, how would they look?

&gt;<i> 4. Support in the client-side library. Now that we can ship JSON subframes
</I>&gt;<i> up the pipe to a client, the client lib needs to be able to parse those
</I>&gt;<i> back into C structs.
</I>
Yeah, but like the doc, until the JSON is settled that would be a tad
premature.

RGDS
GARY
- ---------------------------------------------------------------------------
Gary E. Miller Rellim 109 NW Wilmington Ave., Suite E, Bend, OR 97701
	<A HREF="https://lists.berlios.de/mailman/listinfo/gpsd-dev">gem at rellim.com</A>  Tel:+1(541)382-8588
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.3 (GNU/Linux)

iD8DBQFNJQ0ZBmnRqz71OvMRApeRAKCFb1xM6C0NFFlDIwCMq59T7FRtowCgnJo5
LAEyzNkIR2liZffqB+ki5b4=
=v0Qj
-----END PGP SIGNATURE-----


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="008444.html">[Gpsd-dev] Remaining work on subframe reporting
</A></li>
	<LI>Next message: <A HREF="008446.html">[Gpsd-dev] Remaining work on subframe reporting
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8445">[ date ]</a>
              <a href="thread.html#8445">[ thread ]</a>
              <a href="subject.html#8445">[ subject ]</a>
              <a href="author.html#8445">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/gpsd-dev">More information about the Gpsd-dev
mailing list</a><br>
</body></html>
