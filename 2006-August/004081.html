<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Gpsd-dev] the buffering patch at last
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/gpsd-dev/2006-August/index.html" >
   <LINK REL="made" HREF="mailto:gpsd-dev%40lists.berlios.de?Subject=Re%3A%20%5BGpsd-dev%5D%20the%20buffering%20patch%20at%20last&In-Reply-To=%3Cp06230974c103ca52f67b%40%5B192.168.11.2%5D%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004079.html">
   <LINK REL="Next"  HREF="004084.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Gpsd-dev] the buffering patch at last</H1>
    <B>Robin L Darroch</B> 
    <A HREF="mailto:gpsd-dev%40lists.berlios.de?Subject=Re%3A%20%5BGpsd-dev%5D%20the%20buffering%20patch%20at%20last&In-Reply-To=%3Cp06230974c103ca52f67b%40%5B192.168.11.2%5D%3E"
       TITLE="[Gpsd-dev] the buffering patch at last">robin at spade-men.com
       </A><BR>
    <I>Sat Aug 12 20:26:44 CEST 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="004079.html">[Gpsd-dev] Init script for gpsd
</A></li>
        <LI>Next message: <A HREF="004084.html">[Gpsd-dev] the buffering patch at last
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4081">[ date ]</a>
              <a href="thread.html#4081">[ thread ]</a>
              <a href="subject.html#4081">[ subject ]</a>
              <a href="author.html#4081">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi everyone,

Well, tonight I can't sleep... but the bonus is that has given me 
time to put into action my plans for a per-client-buffering setting 
with compile-time default option... as well as the opportunity to 
wait while my GPS dangling out the window (but inside the cyclone 
screen) by an extra USB extender cable tries to catch enough view of 
the sky to allow me to test from my old Power Mac G4.

In short, I think it works.  Individual clients can send j=0 or j=1 
commands to tell the server they want buffered results (jitter=OFF) 
or cleared-at-start-of-cycle results (jitter=ON), respectively. 
Furthermore, the server admin can still use the --disable-casoc and 
--enable-casoc command-line parameters for the ./configure script to 
determine whether that server will default to j=0 or j=1.  This 
allows individual server admins to choose default behaviour that 
gives backward compatibility with older servers using either logic.

As in my last message posted on this subject several weeks ago, I 
believe the default from configure.ac *should* be J=1 as the default.

Naturally, I would appreciate testing on all fronts.  Attached is a 
patch file which seems to give the desired behaviour here.  It 
includes a patch for cgps to compare the difference - simply type &quot;j&quot; 
in cgps to toggle between modes.  Also, for general info (to those 
who haven't followed this issue so far), it only affects GPS units 
running in NMEA mode, so you shouldn't see any difference at all in 
behaviour if you use a binary mode connection with your GPS.

Following momentarily will be a patch to fix a syntax error in zodiac.c

Cheers,
Robin
-- 

-------------------------------------------------------------------------
  Robin L. Darroch - PO Box 2715, South Hedland WA 6722 - +61 421 503 966
       <A HREF="https://lists.berlios.de/mailman/listinfo/gpsd-dev">robin at darroch.id.au</A> - <A HREF="https://lists.berlios.de/mailman/listinfo/gpsd-dev">robin at nyca.org.au</A> - <A HREF="https://lists.berlios.de/mailman/listinfo/gpsd-dev">robin at spade-men.com</A>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: persession_casoc.patch
Type: application/octet-stream
Size: 17106 bytes
Desc: not available
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/gpsd-dev/attachments/20060813/b31226f7/attachment.obj">https://lists.berlios.de/pipermail/gpsd-dev/attachments/20060813/b31226f7/attachment.obj</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="004079.html">[Gpsd-dev] Init script for gpsd
</A></li>
	<LI>Next message: <A HREF="004084.html">[Gpsd-dev] the buffering patch at last
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4081">[ date ]</a>
              <a href="thread.html#4081">[ thread ]</a>
              <a href="subject.html#4081">[ subject ]</a>
              <a href="author.html#4081">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/gpsd-dev">More information about the Gpsd-dev
mailing list</a><br>
</body></html>
