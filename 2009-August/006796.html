<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Gpsd-dev] gpsmon infinite loop on terminating gpsd
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/gpsd-dev/2009-August/index.html" >
   <LINK REL="made" HREF="mailto:gpsd-dev%40lists.berlios.de?Subject=Re%3A%20%5BGpsd-dev%5D%20gpsmon%20infinite%20loop%20on%20terminating%20gpsd&In-Reply-To=%3Calpine.DEB.1.10.0908151812200.21391%40org-pc51.fy.chalmers.se%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="006795.html">
   <LINK REL="Next"  HREF="006813.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Gpsd-dev] gpsmon infinite loop on terminating gpsd</H1>
    <B>H&#229;kan Johansson</B> 
    <A HREF="mailto:gpsd-dev%40lists.berlios.de?Subject=Re%3A%20%5BGpsd-dev%5D%20gpsmon%20infinite%20loop%20on%20terminating%20gpsd&In-Reply-To=%3Calpine.DEB.1.10.0908151812200.21391%40org-pc51.fy.chalmers.se%3E"
       TITLE="[Gpsd-dev] gpsmon infinite loop on terminating gpsd">f96hajo at chalmers.se
       </A><BR>
    <I>Sat Aug 15 18:17:22 CEST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="006795.html">[Gpsd-dev] Where to donate GPS fixture
</A></li>
        <LI>Next message: <A HREF="006813.html">[Gpsd-dev] gpsmon infinite loop on terminating gpsd
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6796">[ date ]</a>
              <a href="thread.html#6796">[ thread ]</a>
              <a href="subject.html#6796">[ subject ]</a>
              <a href="author.html#6796">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
Hello,

perhaps this is already known:  when running a gpsd and then starting just 
'./gpsmon' to monitor the raw data, and then terminating gpsd, the gpsmon 
program goes into an infinite loop.  I've not dug into it deep enough to 
understand the failure, but at least in gpsmon.c's main function, readpkt 
seem to return the length of the last seen packet (before the socket 
went EOF) continuously...

Also, starting './gpsmon' without a running gpsd leads to an assertation 
failure:
lt-gpsmon: gpsmon.c:326: command: Assertion `write(session.gpsdata.gps_fd, 
buf, strlen(buf)) != -1' failed.

Haakan

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="006795.html">[Gpsd-dev] Where to donate GPS fixture
</A></li>
	<LI>Next message: <A HREF="006813.html">[Gpsd-dev] gpsmon infinite loop on terminating gpsd
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6796">[ date ]</a>
              <a href="thread.html#6796">[ thread ]</a>
              <a href="subject.html#6796">[ subject ]</a>
              <a href="author.html#6796">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/gpsd-dev">More information about the Gpsd-dev
mailing list</a><br>
</body></html>
