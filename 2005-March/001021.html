<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Gpsd-dev] Re: [Gpsd-commit-watch] r2109 - trunk
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/gpsd-dev/2005-March/index.html" >
   <LINK REL="made" HREF="mailto:gpsd-dev%40lists.berlios.de?Subject=Re%3A%20%5BGpsd-dev%5D%20Re%3A%20%5BGpsd-commit-watch%5D%20r2109%20-%20trunk&In-Reply-To=%3C15745.213.84.187.156.1111695346.squirrel%40213.84.187.156%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001019.html">
   <LINK REL="Next"  HREF="001039.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Gpsd-dev] Re: [Gpsd-commit-watch] r2109 - trunk</H1>
    <B>Rob Janssen</B> 
    <A HREF="mailto:gpsd-dev%40lists.berlios.de?Subject=Re%3A%20%5BGpsd-dev%5D%20Re%3A%20%5BGpsd-commit-watch%5D%20r2109%20-%20trunk&In-Reply-To=%3C15745.213.84.187.156.1111695346.squirrel%40213.84.187.156%3E"
       TITLE="[Gpsd-dev] Re: [Gpsd-commit-watch] r2109 - trunk">gpsd at xs4all.nl
       </A><BR>
    <I>Thu Mar 24 21:15:46 CET 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="001019.html">[Gpsd-dev] Re: [Gpsd-commit-watch] r2109 - trunk
</A></li>
        <LI>Next message: <A HREF="001039.html">[Gpsd-dev] Re: [Gpsd-commit-watch] r2109 - trunk
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1021">[ date ]</a>
              <a href="thread.html#1021">[ thread ]</a>
              <a href="subject.html#1021">[ subject ]</a>
              <a href="author.html#1021">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>&gt;<i> Newer SiRF chips have UTC time in packet 41 -- unfortunately this isn't
</I>&gt;<i> reliable at firmware level 231 which is what everybody has.
</I>&gt;<i>
</I>&gt;&gt;<i> The offset (the figure 13) should appear in the Almanac data.  You can
</I>&gt;&gt;<i> enable Almanac messages (message 0x08) and get it from there, but it can
</I>&gt;&gt;<i> take a couple of minutes before it comes by, so this is not very useful.
</I>&gt;<i>
</I>&gt;<i> Ah.  But I think I can *poll* for message 8.  Or do I have to wait for
</I>&gt;<i> a satellite to ship one?
</I>
My only knowledge about the almanac data is that it is a table of
parameters sent by the satellites at 50bps, requiring about 5 minutes to
complete, and that it contains the offset somewhere.
Other info I would have to google from the net too...

&gt;&gt;<i> The receiver stores almanac data in backed-up memory so it is usually
</I>&gt;&gt;<i> less
</I>&gt;&gt;<i> of a problem, but I don't think there is a command to read it from
</I>&gt;&gt;<i> there.
</I>&gt;<i>
</I>&gt;<i> What a botch!
</I>
It is not meant to be easy.  This is a commonality with all GPS programming.
In all my experiments with GPS and when reading about it on the net, I
always found that many things that you would at first expect to be simple
are (made to be) complex, and actual implementations are often quite
different from what you would expect.  Not to say that they are lacking.

When I first looked at what you have written about the subject, I noticed
a familiar pattern :-)

Of course, some things really *are* difficult.  For example, the seemingly
easy task of calculating the height above sea level becomes complicated
once  you have understood that the earth is not a sphere, and is not
homogenous.  So the &quot;sea level&quot; is not a sphere, not an ellipsoid as
approximated by WGS-84 but a much more complicated shape with bulges.

Furthermode, when you drive by a roadsign that says &quot;ALT 100m ASL&quot; and you
expect your GPS to give you 100m +/- 10%, you really aren't expecting 10%
accuracy.  GPS only knows the distance from the center of the earth, and
10m is only 0.00015% of the earth radius.  So you actually expect to know
the earth's shape with 0.00015% accuracy, which makes things a little
harder.

But other things, like the complicated time system used by GPS (who would
think of week%1024 plus floating seconds?) and the strange handling (or
non-handling) of leap seconds just seem to be done to make things
complicated that were easy at first.

Rob


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001019.html">[Gpsd-dev] Re: [Gpsd-commit-watch] r2109 - trunk
</A></li>
	<LI>Next message: <A HREF="001039.html">[Gpsd-dev] Re: [Gpsd-commit-watch] r2109 - trunk
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1021">[ date ]</a>
              <a href="thread.html#1021">[ thread ]</a>
              <a href="subject.html#1021">[ subject ]</a>
              <a href="author.html#1021">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/gpsd-dev">More information about the Gpsd-dev
mailing list</a><br>
</body></html>
