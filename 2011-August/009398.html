<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Gpsd-dev] Time to ship?
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/gpsd-dev/2011-August/index.html" >
   <LINK REL="made" HREF="mailto:gpsd-dev%40lists.berlios.de?Subject=Re%3A%20%5BGpsd-dev%5D%20Time%20to%20ship%3F&In-Reply-To=%3C1312708223.94471.YahooMailNeo%40web32503.mail.mud.yahoo.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="009397.html">
   <LINK REL="Next"  HREF="009401.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Gpsd-dev] Time to ship?</H1>
    <B>Michael R. Davis</B> 
    <A HREF="mailto:gpsd-dev%40lists.berlios.de?Subject=Re%3A%20%5BGpsd-dev%5D%20Time%20to%20ship%3F&In-Reply-To=%3C1312708223.94471.YahooMailNeo%40web32503.mail.mud.yahoo.com%3E"
       TITLE="[Gpsd-dev] Time to ship?">mrdvt92 at yahoo.com
       </A><BR>
    <I>Sun Aug  7 11:10:23 CEST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="009397.html">[Gpsd-dev] Time to ship?
</A></li>
        <LI>Next message: <A HREF="009401.html">[Gpsd-dev] Time to ship?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9398">[ date ]</a>
              <a href="thread.html#9398">[ thread ]</a>
              <a href="subject.html#9398">[ subject ]</a>
              <a href="author.html#9398">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>&gt;<i> From: Bernd Zeimetz <A HREF="https://lists.berlios.de/mailman/listinfo/gpsd-dev">bernd at bzed.de</A>
</I>&gt;<i> Smells like there is a wrong prefix passed from scons to the distutils.sysconfig
</I>&gt;<i> call. 
</I>
The&#160;gpsd SCons configuration is not using the prefix correctly.&#160; I have no idea where to start but, this needs to be fixed before we ship.

Per Bernd, this patch needs to be applied but it breaks rpm build until the SCons conf is corrected.

This is a no-go issue.

Thanks,
Mike

---

diff --git a/packaging/rpm/gpsd.spec.in b/packaging/rpm/gpsd.spec.in
index 29f1f2c..16fa4a3 100644
--- a/packaging/rpm/gpsd.spec.in
+++ b/packaging/rpm/gpsd.spec.in
@@ -112,9 +112,8 @@ the CGI scripts at <A HREF="http://localhost/gpsd/.">http://localhost/gpsd/.</A>
&#160;%setup -q
&#160;%build
-### KLUDGE ALERT prefix should be %{_prefix} not /
&#160;scons %{_smp_mflags}&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; \
-&#160;&#160; prefix=/&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; \
+&#160;&#160; prefix=%{_prefix}&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; \
&#160;&#160;&#160; bindir=%{_bindir}&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; \
&#160;&#160;&#160; includedir=%{_includedir} \
&#160;&#160;&#160; libdir=%{_libdir}&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; \

---


mrdvt92

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="009397.html">[Gpsd-dev] Time to ship?
</A></li>
	<LI>Next message: <A HREF="009401.html">[Gpsd-dev] Time to ship?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9398">[ date ]</a>
              <a href="thread.html#9398">[ thread ]</a>
              <a href="subject.html#9398">[ subject ]</a>
              <a href="author.html#9398">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/gpsd-dev">More information about the Gpsd-dev
mailing list</a><br>
</body></html>
