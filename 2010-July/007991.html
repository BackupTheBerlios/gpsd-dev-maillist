<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Gpsd-dev] Fedora Packaging Patches more questions.
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/gpsd-dev/2010-July/index.html" >
   <LINK REL="made" HREF="mailto:gpsd-dev%40lists.berlios.de?Subject=Re%3A%20%5BGpsd-dev%5D%20Fedora%20Packaging%20Patches%20more%20questions.&In-Reply-To=%3C4C30B06B.8060001%40bzed.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="007990.html">
   <LINK REL="Next"  HREF="007992.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Gpsd-dev] Fedora Packaging Patches more questions.</H1>
    <B>Bernd Zeimetz</B> 
    <A HREF="mailto:gpsd-dev%40lists.berlios.de?Subject=Re%3A%20%5BGpsd-dev%5D%20Fedora%20Packaging%20Patches%20more%20questions.&In-Reply-To=%3C4C30B06B.8060001%40bzed.de%3E"
       TITLE="[Gpsd-dev] Fedora Packaging Patches more questions.">bernd at bzed.de
       </A><BR>
    <I>Sun Jul  4 18:01:47 CEST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="007990.html">[Gpsd-dev] Fedora Packaging Patches more questions.
</A></li>
        <LI>Next message: <A HREF="007992.html">[Gpsd-dev] Fedora Packaging Patches more questions.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7991">[ date ]</a>
              <a href="thread.html#7991">[ thread ]</a>
              <a href="subject.html#7991">[ subject ]</a>
              <a href="author.html#7991">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 07/04/2010 05:36 PM, Michael R. Davis wrote:
&gt;<i> Bernd,
</I>&gt;<i> There's a BSD specific section to the gpsd.hotplug.wrapper &quot;if [ -r /etc/default/gpsd ]; then&quot; what should we do about that?
</I>
Thats not BSD specific, but thats what Debian and Ubuntu uses.
Is there any /etc/default replacement in your distro?

<A HREF="https://lists.berlios.de/mailman/listinfo/gpsd-dev">bzed at think</A> ~% cat /etc/default/gpsd
# Default settings for gpsd.
# Please do not edit this file directly - use `dpkg-reconfigure gpsd' to
# change the options.
START_DAEMON=&quot;true&quot;
GPSD_OPTIONS=&quot;-b&quot;
DEVICES=&quot;&quot;
USBAUTO=&quot;true&quot;
GPSD_SOCKET=&quot;/var/run/gpsd.sock&quot;
<A HREF="https://lists.berlios.de/mailman/listinfo/gpsd-dev">bzed at think</A> ~%

The file is generated from the admin's answers to the debconf questions which
are presented while installing the package. If is read by the hotplug wrapper to
have an easy way to disable to wrapper...


&gt;<i> 
</I>&gt;<i> GPSD Folks,
</I>&gt;<i> Can anyone verify that these non-packaging changes from Fedora are correct (more portable)?  If so, they need to be commited.
</I>&gt;<i> Thanks,
</I>&gt;<i> Mike
</I>&gt;<i> 
</I>&gt;<i> gpsd.hotplug.wrapper
</I>&gt;<i> 
</I>&gt;<i> &lt; if [ &quot;$ACTION&quot; = &quot;remove&quot; ] ; then
</I>&gt;&gt;<i> if [ &quot;$ACTION&quot; == &quot;remove&quot; ] ; then
</I>&gt;<i> 
</I>&gt;<i> &lt;   if echo $DEVLINKS | grep -q /dev/gps; then
</I>&gt;&gt;<i>   if [ $(echo $DEVLINKS | grep -q /dev/gps) ] ; then
</I>&gt;<i> 
</I>&gt;<i> &lt;         count=$(( $count + 1 ))
</I>&gt;&gt;<i>         let count=count+1
</I>&gt;<i> 
</I>
Both changes above are buggy and were fixed in the gpsd repository. Fedora
should sync that from the file in git.

&gt;<i> setup.py
</I>&gt;<i> &lt; version_out = os.popen(MAKE + &quot; -s version&quot;)
</I>&gt;&gt;<i> version_out = os.popen(MAKE + &quot; --no-print-directory version&quot;)
</I>
No idea. -s should work well, I cound imagine that --no-print-directory prints
too much in weird cases.


-- 
 Bernd Zeimetz                            Debian GNU/Linux Developer
 <A HREF="http://bzed.de">http://bzed.de</A>                                <A HREF="http://www.debian.org">http://www.debian.org</A>
 GPG Fingerprints: 06C8 C9A2 EAAD E37E 5B2C BE93 067A AD04 C93B FF79
                   ECA1 E3F2 8E11 2432 D485 DD95 EB36 171A 6FF9 435F

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="007990.html">[Gpsd-dev] Fedora Packaging Patches more questions.
</A></li>
	<LI>Next message: <A HREF="007992.html">[Gpsd-dev] Fedora Packaging Patches more questions.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7991">[ date ]</a>
              <a href="thread.html#7991">[ thread ]</a>
              <a href="subject.html#7991">[ subject ]</a>
              <a href="author.html#7991">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/gpsd-dev">More information about the Gpsd-dev
mailing list</a><br>
</body></html>
