<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Gpsd-dev] linux pps support
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/gpsd-dev/2010-July/index.html" >
   <LINK REL="made" HREF="mailto:gpsd-dev%40lists.berlios.de?Subject=Re%3A%20%5BGpsd-dev%5D%20linux%20pps%20support&In-Reply-To=%3C20100721094735.GA1297%40localhost%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="008074.html">
   <LINK REL="Next"  HREF="008076.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Gpsd-dev] linux pps support</H1>
    <B>Miroslav Lichvar</B> 
    <A HREF="mailto:gpsd-dev%40lists.berlios.de?Subject=Re%3A%20%5BGpsd-dev%5D%20linux%20pps%20support&In-Reply-To=%3C20100721094735.GA1297%40localhost%3E"
       TITLE="[Gpsd-dev] linux pps support">mlichvar at redhat.com
       </A><BR>
    <I>Wed Jul 21 11:47:35 CEST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="008074.html">[Gpsd-dev] linux pps support
</A></li>
        <LI>Next message: <A HREF="008076.html">[Gpsd-dev] linux pps support
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8075">[ date ]</a>
              <a href="thread.html#8075">[ thread ]</a>
              <a href="subject.html#8075">[ subject ]</a>
              <a href="author.html#8075">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Tue, Jul 20, 2010 at 11:21:47AM -0700, Gary E. Miller wrote:
&gt;<i> On Tue, 20 Jul 2010, Greg Troxel wrote:
</I>&gt;<i> &gt; I'm very surprised ntpd doesn't have linux support, and I can see the
</I>&gt;<i> &gt; point of having gpsd handle everything.
</I>
ntpd works with LinuxPPS just fine. There were some issues like CLEAR
events reported when only ASSERT was requested which confused the ntpd
driver, but this was fixed and it should follow the PPSAPI RFC now.

&gt;<i> Well, linux kernel PPS support is only in the very latest kernels: 2.6.34
</I>
In vanilla, yes. But the LinuxPPS project has been around for several
years.

&gt;<i> Worse yet, the required header file is NOT shipped by the kernel, glibc,
</I>&gt;<i> or any other obvious manner yet.  Which is why I had not tried this
</I>&gt;<i> earlier and why there is no rush for nptd to do so either.
</I>
According to LinuxPPS maintainer the header is supposed to be packaged
in a pps-tools package. (Fedora ntpd and chrony packages have the
header file pulled directly from the pps-tools git though) 

While it makes perfect sense to add kernel PPS support to gpsd, so you
can do things like sawtooth correction with Oncore devices, it won't
be very useful unless you can pass the high resolution samples to the
NTP daemon.

I've filed a request in ntp bugzilla to extend the SHM protocol for
nanoseconds, but so far it was ignored. Chrony has a SOCK driver which
doesn't have this limitation, would you be interested in adding a
support for it?

-- 
Miroslav Lichvar

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="008074.html">[Gpsd-dev] linux pps support
</A></li>
	<LI>Next message: <A HREF="008076.html">[Gpsd-dev] linux pps support
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8075">[ date ]</a>
              <a href="thread.html#8075">[ thread ]</a>
              <a href="subject.html#8075">[ subject ]</a>
              <a href="author.html#8075">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/gpsd-dev">More information about the Gpsd-dev
mailing list</a><br>
</body></html>
