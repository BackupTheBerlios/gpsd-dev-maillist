<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Gpsd-dev] relocation error
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/gpsd-dev/2009-March/index.html" >
   <LINK REL="made" HREF="mailto:gpsd-dev%40lists.berlios.de?Subject=Re%3A%20%5BGpsd-dev%5D%20relocation%20error&In-Reply-To=%3C200903191006.50828.remco%40rvt.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="006592.html">
   <LINK REL="Next"  HREF="006597.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Gpsd-dev] relocation error</H1>
    <B>Remco Treffkorn</B> 
    <A HREF="mailto:gpsd-dev%40lists.berlios.de?Subject=Re%3A%20%5BGpsd-dev%5D%20relocation%20error&In-Reply-To=%3C200903191006.50828.remco%40rvt.com%3E"
       TITLE="[Gpsd-dev] relocation error">remco at rvt.com
       </A><BR>
    <I>Thu Mar 19 18:06:50 CET 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="006592.html">[Gpsd-dev] relocation error
</A></li>
        <LI>Next message: <A HREF="006597.html">[Gpsd-dev] relocation error
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6598">[ date ]</a>
              <a href="thread.html#6598">[ thread ]</a>
              <a href="subject.html#6598">[ subject ]</a>
              <a href="author.html#6598">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Thursday 19 March 2009, Clark Pope wrote:
&gt;<i> [sorry previous post was in html]
</I>&gt;<i>
</I>&gt;<i> I&#8217;m building an old version of gpsd (2.8) because my target OS is 2.6.9.
</I>&gt;<i> This is an embedded target powerpc405 so all I need is the gpsd executable.
</I>&gt;<i> I cross compile okay with:
</I>&gt;<i>
</I>&gt;<i> ./configure --prefix=/home/guest/temp/gpsd-2.8/install
</I>&gt;<i> --host=powerpc-405-linux-gnu --without-python --without-x
</I>&gt;<i>
</I>&gt;<i> When I run on the target it goes okay until I connect from a client (or
</I>&gt;<i> telnet and send r):
</I>&gt;<i>
</I>&gt;<i> root@(none):/root# ./gpsd -p /dev/ttyS1 -T n -s 4800 -D 2
</I>&gt;<i> gpsd: launching (Version 2.6)
</I>&gt;<i> gpsd: listening on port gpsd
</I>&gt;<i> gpsd: closed GPS
</I>&gt;<i> gpsd: opening GPS data source at /dev/ttyS1
</I>&gt;<i> gpsd: setting speed 4800, 8 bits, no parity
</I>&gt;<i> gpsd: gpsd_activate: opened GPS (5)
</I>&gt;<i> gpsd: &lt;= client: r
</I>&gt;<i> gpsd: &lt;= GPS:
</I>&gt;<i> $GPGGA,220226.000,3546.4622,N,07848.9284,W,1,08,1.2,149.4,M,-32.9,M,,0000*6
</I>&gt;<i>C ./gpsd: relocation error: /usr/lib/libgps.so.3: symbol __divdf3, version
</I>&gt;<i> GLIBC_2.3.2 not defined in file libc.so.6 with link time reference
</I>&gt;<i> root@(none):/root#
</I>&gt;<i>
</I>&gt;<i> my compile chain says its 2.3.3 so I&#8217;m not sure why the version here is
</I>&gt;<i> 2.3.2? I&#8217;m not very experienced with linking with shared libraries so any
</I>&gt;<i> help is appreciated.
</I>
I see this when the tool chain has different libs than the target. Make sure 
the glibc you link against when you build the binary is the same version as on 
the target.

This is one of the reasons why I avoid cross compiling. I prefer nfs/smb 
mounting a native development environment on the target machine, and do native 
builds. Works fine on 200MHz WRT54g wireless routers. Unless you have really 
perverse limitations it should work for you too.

Cheers,
Remco

-- 
Remco Treffkorn (RT445)
HAM DC2XT
<A HREF="https://lists.berlios.de/mailman/listinfo/gpsd-dev">remco at rvt.com</A>   (831) 685-1201


-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/gpsd-dev/attachments/20090319/3b1e322c/attachment.html">https://lists.berlios.de/pipermail/gpsd-dev/attachments/20090319/3b1e322c/attachment.html</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="006592.html">[Gpsd-dev] relocation error
</A></li>
	<LI>Next message: <A HREF="006597.html">[Gpsd-dev] relocation error
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6598">[ date ]</a>
              <a href="thread.html#6598">[ thread ]</a>
              <a href="subject.html#6598">[ subject ]</a>
              <a href="author.html#6598">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/gpsd-dev">More information about the Gpsd-dev
mailing list</a><br>
</body></html>
