<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Gpsd-dev] Other protocol requirements
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/gpsd-dev/2009-March/index.html" >
   <LINK REL="made" HREF="mailto:gpsd-dev%40lists.berlios.de?Subject=Re%3A%20%5BGpsd-dev%5D%20Other%20protocol%20requirements&In-Reply-To=%3C20090319202023.GB2028%40thyrsus.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="006601.html">
   <LINK REL="Next"  HREF="006624.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Gpsd-dev] Other protocol requirements</H1>
    <B>Eric S. Raymond</B> 
    <A HREF="mailto:gpsd-dev%40lists.berlios.de?Subject=Re%3A%20%5BGpsd-dev%5D%20Other%20protocol%20requirements&In-Reply-To=%3C20090319202023.GB2028%40thyrsus.com%3E"
       TITLE="[Gpsd-dev] Other protocol requirements">esr at thyrsus.com
       </A><BR>
    <I>Thu Mar 19 21:20:23 CET 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="006601.html">[Gpsd-dev] Other protocol requirements
</A></li>
        <LI>Next message: <A HREF="006624.html">[Gpsd-dev] Other protocol requirements
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6605">[ date ]</a>
              <a href="thread.html#6605">[ thread ]</a>
              <a href="subject.html#6605">[ subject ]</a>
              <a href="author.html#6605">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Remco Treffkorn &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/gpsd-dev">remco at rvt.com</A>&gt;:
&gt;<i> When designing any protocol one of the first questions is: How do I know I 
</I>&gt;<i> have enough data to start parsing it?
</I>&gt;<i> 
</I>&gt;<i> Since tcp/it does not guarantee that a single write will result in a single 
</I>&gt;<i> packet that subsequently results in a single read, a protocol with a clear 
</I>&gt;<i> indication of the end-of-data in band is the simplest solution.
</I>&gt;<i> Hence a single 'line' of text terminated by eol.
</I>&gt;<i> 
</I>&gt;<i> Another way of accomplishing this is a http style header with a content-
</I>&gt;<i> lenght, and that many bytes in the body. I have used this in the past, and it 
</I>&gt;<i> works well.
</I>&gt;<i> 
</I>&gt;<i> A project I am involved with currently uses xml stanzas to accomplish the 
</I>&gt;<i> same.
</I>&gt;<i> 
</I>&gt;<i> Any of the above enables you to know when you have a 'unit' of data, worth 
</I>&gt;<i> looking at.
</I>
I think XML is too heavyweight for this application.  I have considered
the fixed-length-header-with-data-length approach, though my model was re
IMAP than HTTP.  

I believe in this case both history and functional considerations push towards 
a simple fixed end-marker, either \r\n for simple commands or an SMTP-style
&quot;.\r\n&quot; with byte stuffing for multiline commands and responses.

The main &quot;functional consideration&quot; is simply that data volume per packet
is going to be relatively low.  This would make the overhead from more
elaborate schemes more obtrusive.  Given how many of outr users are 
embedded folks, I particularly want to avoid this.
-- 
		&lt;a href=&quot;<A HREF="http://www.catb.org/~esr/">http://www.catb.org/~esr/</A>&quot;&gt;Eric S. Raymond&lt;/a&gt;

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="006601.html">[Gpsd-dev] Other protocol requirements
</A></li>
	<LI>Next message: <A HREF="006624.html">[Gpsd-dev] Other protocol requirements
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6605">[ date ]</a>
              <a href="thread.html#6605">[ thread ]</a>
              <a href="subject.html#6605">[ subject ]</a>
              <a href="author.html#6605">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/gpsd-dev">More information about the Gpsd-dev
mailing list</a><br>
</body></html>
