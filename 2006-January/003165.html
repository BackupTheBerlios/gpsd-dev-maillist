<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Gpsd-dev] garmin usb pps question
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/gpsd-dev/2006-January/index.html" >
   <LINK REL="made" HREF="mailto:gpsd-dev%40lists.berlios.de?Subject=Re%3A%20%5BGpsd-dev%5D%20garmin%20usb%20pps%20question&In-Reply-To=%3C20060122183828.GA4107%40space.mit.edu%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003164.html">
   <LINK REL="Next"  HREF="003166.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Gpsd-dev] garmin usb pps question</H1>
    <B>Geoffrey B. Crew</B> 
    <A HREF="mailto:gpsd-dev%40lists.berlios.de?Subject=Re%3A%20%5BGpsd-dev%5D%20garmin%20usb%20pps%20question&In-Reply-To=%3C20060122183828.GA4107%40space.mit.edu%3E"
       TITLE="[Gpsd-dev] garmin usb pps question">gbc at space.mit.edu
       </A><BR>
    <I>Sun Jan 22 19:38:28 CET 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="003164.html">[Gpsd-dev] Sirf Badness
</A></li>
        <LI>Next message: <A HREF="003166.html">[Gpsd-dev] garmin usb pps question
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3165">[ date ]</a>
              <a href="thread.html#3165">[ thread ]</a>
              <a href="subject.html#3165">[ subject ]</a>
              <a href="author.html#3165">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I have a Garmin GPS18USB and would like to know what time it is.

I started investigating and learned that with PPS_ENABLE, GPSD duly
spawns a thread to monitor the carrier-detect line.  However, since
there's no physical carrier-detect line I guess I should not be too
surprised that the ioctls to query TIOCM_CAR fail (with an invalid
argument error on Linux FC4).

So my question at this point is whether anyone knows if this is

 a) an omission in gpsd (i.e. yes, USB must be handled differently,
    but no one has written that code yet),
 b) an omission or bug in the kernel drivers (i.e. they could or are
    intended to be providing an effective carrier-detect state change,
    but don't),
 c) an omission or design choice in the USB implementation of
    the Garmin GPS18 device (e.g. they could't figure out how to
    usefully translate the PPS into some USB protocol and didn't
    think anyone cared).
 d) this model doesn't do it, but some other USB device does.
    (Yes, I know a GPS18LV plugged into an RS-232 port would work.)

I don't need micro-second timing precision, but millisecond precision
would be nice, and I can imagine that the information necessary to
construct it might be in there somewhere....

Any answers or pointers would be appreciated, or let me know if more
detailed debugging is needed to answer the question.

-- 

		Geoff Crew
		<A HREF="https://lists.berlios.de/mailman/listinfo/gpsd-dev">gbc at space.mit.edu</A>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003164.html">[Gpsd-dev] Sirf Badness
</A></li>
	<LI>Next message: <A HREF="003166.html">[Gpsd-dev] garmin usb pps question
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3165">[ date ]</a>
              <a href="thread.html#3165">[ thread ]</a>
              <a href="subject.html#3165">[ subject ]</a>
              <a href="author.html#3165">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/gpsd-dev">More information about the Gpsd-dev
mailing list</a><br>
</body></html>
