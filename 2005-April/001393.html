<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Gpsd-dev] l10n of units in xgps
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/gpsd-dev/2005-April/index.html" >
   <LINK REL="made" HREF="mailto:gpsd-dev%40lists.berlios.de?Subject=Re%3A%20%5BGpsd-dev%5D%20l10n%20of%20units%20in%20xgps&In-Reply-To=%3CPine.LNX.4.62.0504141643420.8789%40catbert.rellim.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001392.html">
   <LINK REL="Next"  HREF="001394.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Gpsd-dev] l10n of units in xgps</H1>
    <B>Gary E. Miller</B> 
    <A HREF="mailto:gpsd-dev%40lists.berlios.de?Subject=Re%3A%20%5BGpsd-dev%5D%20l10n%20of%20units%20in%20xgps&In-Reply-To=%3CPine.LNX.4.62.0504141643420.8789%40catbert.rellim.com%3E"
       TITLE="[Gpsd-dev] l10n of units in xgps">gem at rellim.com
       </A><BR>
    <I>Fri Apr 15 01:50:16 CEST 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="001392.html">[Gpsd-dev] l10n of units in xgps
</A></li>
        <LI>Next message: <A HREF="001394.html">[Gpsd-dev] l10n of units in xgps
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1393">[ date ]</a>
              <a href="thread.html#1393">[ thread ]</a>
              <a href="subject.html#1393">[ subject ]</a>
              <a href="author.html#1393">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Yo Andreas!

Looks like we are mostly converged.  Let's wait overnight for those on
the dark side of the planet to chime in, then I'll commit something to
SVN later Friday.

I hate to depend on file placement.  That way lies madness.  The Linux
community can not agree, then you have *BSD*, OS X, embedded systems, etc.

There is localeconv(), that gives you a lot of stuff, but no
measurements.  Nothing else obvious to me is readily available.

I suspect we will just have to go on the string values of the environment
vars.  That should work in almost every case and the X resources can
handle the cornet cases.

RGDS
GARY
- ---------------------------------------------------------------------------
Gary E. Miller Rellim 20340 Empire Blvd, Suite E-3, Bend, OR 97701
	<A HREF="https://lists.berlios.de/mailman/listinfo/gpsd-dev">gem at rellim.com</A>  Tel:+1(541)382-8588 Fax: +1(541)382-8676

On Fri, 15 Apr 2005, Andreas Brauchli wrote:

&gt;<i> the one thing that matters now is to get the priorities working, once
</I>&gt;<i> these are fine we can always add more tests.
</I>&gt;<i> 1. priority is if LC_MEASUREMENT is set.
</I>&gt;<i> 2. priority goes to LANG
</I>&gt;<i>
</I>&gt;<i> does that make sense?:
</I>&gt;<i> if LC_MEASUREMENT != *_US&#185; &lt;-- or better look at what units it's using&#178;
</I>&gt;<i>     metric
</I>&gt;<i> elseif LANG != *_US || C || POSIX
</I>&gt;<i>     metric
</I>&gt;<i> else
</I>&gt;<i>     imperial
</I>&gt;<i>
</I>&gt;<i> &#185;. (could a locale be set to something else than en_US -&gt; de_US (doesn't
</I>&gt;<i> make much sense but is it possible?) in that case we'd better check for
</I>&gt;<i> a substring containing _US)
</I>&gt;<i> &#178;. someone posted the file containing those properties..but files aren't
</I>&gt;<i> always in the same place..is there a function to extract that?
</I>&gt;<i>
</I>&gt;<i> On Don, 2005-04-14 at 16:16 -0700, Gary E. Miller wrote:
</I>&gt;<i> &gt; -----BEGIN PGP SIGNED MESSAGE-----
</I>&gt;<i> &gt; Hash: SHA1
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Yo Andreas!
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Good input.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; So, now maybe:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; 	if LC_MEASUREMENT use it to determine metric/imperial
</I>&gt;<i> &gt; 	if LANG not &quot;en_US&quot;, &quot;C&quot;, or &quot;POSIX&quot;, use metric
</I>&gt;<i> &gt; 	else default to knots/meters?
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; RGDS
</I>&gt;<i> &gt; GARY
</I>&gt;<i> &gt; - ---------------------------------------------------------------------------
</I>&gt;<i> &gt; Gary E. Miller Rellim 20340 Empire Blvd, Suite E-3, Bend, OR 97701
</I>&gt;<i> &gt; 	<A HREF="https://lists.berlios.de/mailman/listinfo/gpsd-dev">gem at rellim.com</A>  Tel:+1(541)382-8588 Fax: +1(541)382-8676
</I>&gt;<i> &gt;
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Gpsd-dev mailing list
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/gpsd-dev">Gpsd-dev at lists.berlios.de</A>
</I>&gt;<i> <A HREF="http://lists.berlios.de/mailman/listinfo/gpsd-dev">http://lists.berlios.de/mailman/listinfo/gpsd-dev</A>
</I>&gt;<i>
</I>&gt;<i>
</I>-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.2.3 (GNU/Linux)

iD8DBQFCXwG78KZibdeR3qURAihzAJ9jk3Z1Xe9TGpDEKWeA/rmBD+rbJgCg3sEh
/7QRiS2FHS5d7uDChTVWBE0=
=1BhQ
-----END PGP SIGNATURE-----
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001392.html">[Gpsd-dev] l10n of units in xgps
</A></li>
	<LI>Next message: <A HREF="001394.html">[Gpsd-dev] l10n of units in xgps
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1393">[ date ]</a>
              <a href="thread.html#1393">[ thread ]</a>
              <a href="subject.html#1393">[ subject ]</a>
              <a href="author.html#1393">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/gpsd-dev">More information about the Gpsd-dev
mailing list</a><br>
</body></html>
