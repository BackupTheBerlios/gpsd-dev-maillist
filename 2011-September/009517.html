<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Gpsd-dev] user group support - working in 3.1?
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/gpsd-dev/2011-September/index.html" >
   <LINK REL="made" HREF="mailto:gpsd-dev%40lists.berlios.de?Subject=Re%3A%20%5BGpsd-dev%5D%20user%20group%20support%20-%20working%20in%203.1%3F&In-Reply-To=%3C4E6E9F75.7000203%40wildgooses.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="009514.html">
   <LINK REL="Next"  HREF="009519.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Gpsd-dev] user group support - working in 3.1?</H1>
    <B>Ed W</B> 
    <A HREF="mailto:gpsd-dev%40lists.berlios.de?Subject=Re%3A%20%5BGpsd-dev%5D%20user%20group%20support%20-%20working%20in%203.1%3F&In-Reply-To=%3C4E6E9F75.7000203%40wildgooses.com%3E"
       TITLE="[Gpsd-dev] user group support - working in 3.1?">lists at wildgooses.com
       </A><BR>
    <I>Tue Sep 13 02:10:29 CEST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="009514.html">[Gpsd-dev] user group support - working in 3.1?
</A></li>
        <LI>Next message: <A HREF="009519.html">[Gpsd-dev] user group support - working in 3.1?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9517">[ date ]</a>
              <a href="thread.html#9517">[ thread ]</a>
              <a href="subject.html#9517">[ subject ]</a>
              <a href="author.html#9517">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 10/09/2011 13:12, Eric Raymond wrote:
&gt;<i> You might try simply not setting the privilege-revocation user and
</I>&gt;<i> group; the default behavior is likely to work. 
</I>
Nope - this hasn't given me a workable situation

I recompile without setting user/group, now I get

logs:

Sep 13 00:02:18 localhost user.notice gpsd[3459]: gpsd:INFO: running
with effective group ID 0
Sep 13 00:02:18 localhost user.notice gpsd[3459]: gpsd:INFO: running
with effective user ID 65534

$ ls -al /dev/ttyS0
crw-------    1 root     root        4,  64 Sep 13 00:04 /dev/ttyS0

Note: userid 65534 == &quot;nobody&quot;


My startup options are:  &quot;-n -D 5 -G&quot;  (note there is no -N)


To recap, I set my compile time options to run as user=gpsd,
group=uucp.  However, at runtime, the user is set correctly, but the
group is unusually set to match that of ttyS0, which is running getty as
my login terminal, hence set to the group of the logged in user.

The bug appears to be because it's trying to use ttyS0 as a prototype in
the situation that a compile time group was given?  Is this a quick fix?

Thanks

Ed W

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="009514.html">[Gpsd-dev] user group support - working in 3.1?
</A></li>
	<LI>Next message: <A HREF="009519.html">[Gpsd-dev] user group support - working in 3.1?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9517">[ date ]</a>
              <a href="thread.html#9517">[ thread ]</a>
              <a href="subject.html#9517">[ subject ]</a>
              <a href="author.html#9517">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/gpsd-dev">More information about the Gpsd-dev
mailing list</a><br>
</body></html>
