<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Gpsd-dev] Old PPS code support broken in 3.x
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/gpsd-dev/2011-September/index.html" >
   <LINK REL="made" HREF="mailto:gpsd-dev%40lists.berlios.de?Subject=Re%3A%20%5BGpsd-dev%5D%20Old%20PPS%20code%20support%20broken%20in%203.x&In-Reply-To=%3Calpine.LNX.1.00.1109081712080.16152%40catbert.rellim.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="009494.html">
   <LINK REL="Next"  HREF="009497.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Gpsd-dev] Old PPS code support broken in 3.x</H1>
    <B>Gary E. Miller</B> 
    <A HREF="mailto:gpsd-dev%40lists.berlios.de?Subject=Re%3A%20%5BGpsd-dev%5D%20Old%20PPS%20code%20support%20broken%20in%203.x&In-Reply-To=%3Calpine.LNX.1.00.1109081712080.16152%40catbert.rellim.com%3E"
       TITLE="[Gpsd-dev] Old PPS code support broken in 3.x">gem at rellim.com
       </A><BR>
    <I>Fri Sep  9 02:22:14 CEST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="009494.html">[Gpsd-dev] Old PPS code support broken in 3.x
</A></li>
        <LI>Next message: <A HREF="009497.html">[Gpsd-dev] Old PPS code support broken in 3.x
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9495">[ date ]</a>
              <a href="thread.html#9495">[ thread ]</a>
              <a href="subject.html#9495">[ subject ]</a>
              <a href="author.html#9495">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Yo Eric!

On Thu, 8 Sep 2011, Eric Raymond wrote:

&gt;<i> &gt; On my list, but unless someone comes up with a patch I'm not going to
</I>&gt;<i> &gt; look at this until my kid is back in school.
</I>&gt;<i>
</I>&gt;<i> I don't understand what's going on here.  I thought we shipped 3.x with
</I>&gt;<i> working PPS. Didn't we?  What &quot;old&quot; code is veing referred to here?
</I>
There are two ways to get PPS data into gpsd so gpsd can send it out
to ntpd.  One way using kernel PPS and one using ioctl()s.

When the priviledge dropping code was moved earlier in the startup process
these two functions, and more (ntpd and chronyd interfaces), were broken.

Just before 3.0 you fixed the priv dropping for the ntpd and chronyd
interfaces and the kernel PPS interface.  The old ioctl() method for
determining the time stamp of the PPS did did not get fixed.  Since the
kernel PPS is so much better I have not used the old method and forgot
to test before going live.

Now it seems the RedHat refuses to support kernel PPS, so this leaves
those users of 'almost linux' out in the cold until the cause of the
breakage is exactly determined and fixed.

IMHO, no  one in their right mind would use RedHat, but some poor folks
have no choice, except to change jobs, which is what I would do in
their circumstances.

I'm getting slammed by some personal things (good things!) so can't look
at this until next week.

RGDS
GARY
- ---------------------------------------------------------------------------
Gary E. Miller Rellim 109 NW Wilmington Ave., Suite E, Bend, OR 97701
	<A HREF="https://lists.berlios.de/mailman/listinfo/gpsd-dev">gem at rellim.com</A>  Tel:+1(541)382-8588

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.3 (GNU/Linux)

iD8DBQFOaVw7BmnRqz71OvMRAqoBAJwKQCULxA59b244IOQaK4ECMBIrsQCg23Zc
gGzCVBaDSfZLqXX+5IisMzM=
=Tj1W
-----END PGP SIGNATURE-----


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="009494.html">[Gpsd-dev] Old PPS code support broken in 3.x
</A></li>
	<LI>Next message: <A HREF="009497.html">[Gpsd-dev] Old PPS code support broken in 3.x
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9495">[ date ]</a>
              <a href="thread.html#9495">[ thread ]</a>
              <a href="subject.html#9495">[ subject ]</a>
              <a href="author.html#9495">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/gpsd-dev">More information about the Gpsd-dev
mailing list</a><br>
</body></html>
