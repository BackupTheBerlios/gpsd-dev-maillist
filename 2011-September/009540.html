<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Gpsd-dev] rpath madness
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/gpsd-dev/2011-September/index.html" >
   <LINK REL="made" HREF="mailto:gpsd-dev%40lists.berlios.de?Subject=Re%3A%20%5BGpsd-dev%5D%20rpath%20madness&In-Reply-To=%3CCAOSy7%2B8s%2BL_3Q%3DZTP4FBRoE88iDGU%3DhgW_EDLO2eCr%2Btkj2CsA%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="009538.html">
   <LINK REL="Next"  HREF="009541.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Gpsd-dev] rpath madness</H1>
    <B>Jon Schlueter</B> 
    <A HREF="mailto:gpsd-dev%40lists.berlios.de?Subject=Re%3A%20%5BGpsd-dev%5D%20rpath%20madness&In-Reply-To=%3CCAOSy7%2B8s%2BL_3Q%3DZTP4FBRoE88iDGU%3DhgW_EDLO2eCr%2Btkj2CsA%40mail.gmail.com%3E"
       TITLE="[Gpsd-dev] rpath madness">jon.schlueter at gmail.com
       </A><BR>
    <I>Wed Sep 28 13:44:31 CEST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="009538.html">[Gpsd-dev] rpath madness
</A></li>
        <LI>Next message: <A HREF="009541.html">[Gpsd-dev] rpath madness
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9540">[ date ]</a>
              <a href="thread.html#9540">[ thread ]</a>
              <a href="subject.html#9540">[ subject ]</a>
              <a href="author.html#9540">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Wed, Sep 28, 2011 at 4:55 AM, Bernd Zeimetz &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/gpsd-dev">bernd at bzed.de</A>&gt; wrote:
&gt;<i> On 09/28/2011 09:29 AM, Eric Raymond wrote:
</I>&gt;&gt;<i> Bernd Zeimetz &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/gpsd-dev">bernd at bzed.de</A>&gt;:
</I>&gt;&gt;&gt;<i> On 09/28/2011 06:13 AM, Eric Raymond wrote:
</I>&gt;&gt;&gt;&gt;<i> Jon Schlueter &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/gpsd-dev">jon.schlueter at gmail.com</A>&gt;:
</I>&gt;&gt;&gt;&gt;&gt;<i> An Ugly hack that breaks other things but allows it to compile is below
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> Don't do that. &#160;Instead, install the chrpath(1) tool on your
</I>&gt;&gt;&gt;&gt;<i> development system and the problem will vanish.
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> Why?
</I>&gt;&gt;&gt;<i> Adding the build directory to the compile time search path will not
</I>&gt;&gt;&gt;<i> break things. Paths added with -L won't end up in the runtime search
</I>&gt;&gt;&gt;<i> path. To add directories to the runtime search path, you need
</I>&gt;&gt;&gt;<i> -Wl,-rpath,/diretory on Linux and -R/directory on systems like Solaris.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Jon generally has a clue or six, and he said it broke something.
</I>&gt;<i>
</I>&gt;<i> Uhm - where? I'm just supporting what his patch does - although -L. is
</I>&gt;<i> probably not the best solution, replacing . with the real directory
</I>&gt;<i> sounds more appropriate. Otherwise I can't see any problems in using -L
</I>
I agree it should probably be something with the real directory instead of &quot;.&quot;

The other issue is if it is built in the local directory, and
attempted to be run from there will it actually run using the correct
libraries?

I think it might be a larger issue as well.

There are a couple of audiences who would build gpsd from source

package maintainers (build and install)
developers (anything and everything... build and run locally, install,
debug ect...)
power users who want a later version than a distro provides (build and install)
cross compile developers (build in cross compile environment, package?
and install on target system)

chrpath if it is needed to be able to correctly install things should
probably be checked for when starting to build
... chrpath is certainly needed if the app is destined to be
installed, but scons should be able to build the less optimal method
without it??

Jon

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="009538.html">[Gpsd-dev] rpath madness
</A></li>
	<LI>Next message: <A HREF="009541.html">[Gpsd-dev] rpath madness
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9540">[ date ]</a>
              <a href="thread.html#9540">[ thread ]</a>
              <a href="subject.html#9540">[ subject ]</a>
              <a href="author.html#9540">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/gpsd-dev">More information about the Gpsd-dev
mailing list</a><br>
</body></html>
