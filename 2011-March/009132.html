<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Gpsd-dev] Single-writer/many-reader consistency
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/gpsd-dev/2011-March/index.html" >
   <LINK REL="made" HREF="mailto:gpsd-dev%40lists.berlios.de?Subject=Re%3A%20%5BGpsd-dev%5D%20Single-writer/many-reader%20consistency&In-Reply-To=%3CAANLkTi%3DH06c_WbrV8Dtb4eW53sNk1Kf1FMNtABv96yW6%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="009131.html">
   <LINK REL="Next"  HREF="009136.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Gpsd-dev] Single-writer/many-reader consistency</H1>
    <B>tz</B> 
    <A HREF="mailto:gpsd-dev%40lists.berlios.de?Subject=Re%3A%20%5BGpsd-dev%5D%20Single-writer/many-reader%20consistency&In-Reply-To=%3CAANLkTi%3DH06c_WbrV8Dtb4eW53sNk1Kf1FMNtABv96yW6%40mail.gmail.com%3E"
       TITLE="[Gpsd-dev] Single-writer/many-reader consistency">thomas at mich.com
       </A><BR>
    <I>Sun Mar 27 14:09:08 CEST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="009131.html">[Gpsd-dev] Single-writer/many-reader consistency
</A></li>
        <LI>Next message: <A HREF="009136.html">[Gpsd-dev] Single-writer/many-reader consistency
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9132">[ date ]</a>
              <a href="thread.html#9132">[ thread ]</a>
              <a href="subject.html#9132">[ subject ]</a>
              <a href="author.html#9132">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>It also turns out that any stores have to be perceived by other
processors in the order they were made by any processor (It doesn't
guarantee the order two processors writing to the same space will get
to it, but it does guarantee the order of the stores will be perceived
the same across all processors)

Basically, writes (stores) are serialized.

8.2.3.7
Stores Are Seen in a Consistent Order by Other Processors
As noted in Section 8.2.3.5, the memory-ordering model allows stores by two
processors to be seen in different orders by those two processors.
However, any two
stores must appear to execute in the same order to all processors
other than those
performing the stores.

So if the instructions for the write are not reordered by the compiler
(or it is a string operation), reading processors will perceive the
stores in the correct order so memory barriers won't be needed on x86
at lesat of Pentium 3 vintage.

Other architectures might need other things.

Read section 8.2 to make sure I'm correct about this since I may have
missed some fine-print.

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="009131.html">[Gpsd-dev] Single-writer/many-reader consistency
</A></li>
	<LI>Next message: <A HREF="009136.html">[Gpsd-dev] Single-writer/many-reader consistency
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9132">[ date ]</a>
              <a href="thread.html#9132">[ thread ]</a>
              <a href="subject.html#9132">[ subject ]</a>
              <a href="author.html#9132">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/gpsd-dev">More information about the Gpsd-dev
mailing list</a><br>
</body></html>
