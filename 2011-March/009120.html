<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Gpsd-dev] Single-writer/many-reader consistency
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/gpsd-dev/2011-March/index.html" >
   <LINK REL="made" HREF="mailto:gpsd-dev%40lists.berlios.de?Subject=Re%3A%20%5BGpsd-dev%5D%20Single-writer/many-reader%20consistency&In-Reply-To=%3CAANLkTin2cfx1bq3LoVtbD9T%2BybACUD06Q5jBY%3Dq08pOR%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="009119.html">
   <LINK REL="Next"  HREF="009129.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Gpsd-dev] Single-writer/many-reader consistency</H1>
    <B>tz</B> 
    <A HREF="mailto:gpsd-dev%40lists.berlios.de?Subject=Re%3A%20%5BGpsd-dev%5D%20Single-writer/many-reader%20consistency&In-Reply-To=%3CAANLkTin2cfx1bq3LoVtbD9T%2BybACUD06Q5jBY%3Dq08pOR%40mail.gmail.com%3E"
       TITLE="[Gpsd-dev] Single-writer/many-reader consistency">thomas at mich.com
       </A><BR>
    <I>Sun Mar 27 01:30:10 CET 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="009119.html">[Gpsd-dev] Single-writer/many-reader consistency
</A></li>
        <LI>Next message: <A HREF="009129.html">[Gpsd-dev] Single-writer/many-reader consistency
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9120">[ date ]</a>
              <a href="thread.html#9120">[ thread ]</a>
              <a href="subject.html#9120">[ subject ]</a>
              <a href="author.html#9120">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Sat, Mar 26, 2011 at 8:20 PM, Eric Raymond &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/gpsd-dev">esr at thyrsus.com</A>&gt; wrote:
&gt;<i> tz &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/gpsd-dev">thomas at mich.com</A>&gt;:
</I>
&gt;&gt;<i> For readers, you could just do successive reads every 100 milliseconds
</I>&gt;&gt;<i> or even 10 milliseconds (if the cache takes longer than this there are
</I>&gt;&gt;<i> far worse problems) and find a set equal - without counters or
</I>&gt;&gt;<i> anything. &#160;Just memcmp.
</I>&gt;<i>
</I>&gt;<i> Sorry, I didn't understand this.
</I>
If the simplest thing is to add some kind of usleep between reads
(instead of semaphores, memory barriers, or all the other complex and
nonportable stuff) then why not just do that.  If after one system
tick the buffer has guaranteed to update any writes over the previous
system tick, you have the sync mechanism - two reads on different
ticks.

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="009119.html">[Gpsd-dev] Single-writer/many-reader consistency
</A></li>
	<LI>Next message: <A HREF="009129.html">[Gpsd-dev] Single-writer/many-reader consistency
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9120">[ date ]</a>
              <a href="thread.html#9120">[ thread ]</a>
              <a href="subject.html#9120">[ subject ]</a>
              <a href="author.html#9120">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/gpsd-dev">More information about the Gpsd-dev
mailing list</a><br>
</body></html>
