<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Gpsd-dev] Unacceptable intrusivemess by the OnCore driver
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/gpsd-dev/2011-March/index.html" >
   <LINK REL="made" HREF="mailto:gpsd-dev%40lists.berlios.de?Subject=Re%3A%20%5BGpsd-dev%5D%20Unacceptable%20intrusivemess%20by%20the%20OnCore%20driver&In-Reply-To=%3Calpine.DEB.1.10.1103240759550.21170%40org-pc51.fy.chalmers.se%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="008990.html">
   <LINK REL="Next"  HREF="008987.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Gpsd-dev] Unacceptable intrusivemess by the OnCore driver</H1>
    <B>H&#229;kan Johansson</B> 
    <A HREF="mailto:gpsd-dev%40lists.berlios.de?Subject=Re%3A%20%5BGpsd-dev%5D%20Unacceptable%20intrusivemess%20by%20the%20OnCore%20driver&In-Reply-To=%3Calpine.DEB.1.10.1103240759550.21170%40org-pc51.fy.chalmers.se%3E"
       TITLE="[Gpsd-dev] Unacceptable intrusivemess by the OnCore driver">f96hajo at chalmers.se
       </A><BR>
    <I>Thu Mar 24 08:05:32 CET 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="008990.html">[Gpsd-dev] Unacceptable intrusivemess by the OnCore driver
</A></li>
        <LI>Next message: <A HREF="008987.html">[Gpsd-dev] Unacceptable intrusivemess by the OnCore driver
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8991">[ date ]</a>
              <a href="thread.html#8991">[ thread ]</a>
              <a href="subject.html#8991">[ subject ]</a>
              <a href="author.html#8991">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
On Wed, 23 Mar 2011, Gary E. Miller wrote:

&gt;<i> -----BEGIN PGP SIGNED MESSAGE-----
</I>&gt;<i> Hash: SHA1
</I>&gt;<i>
</I>&gt;<i> Yo H&#229;kan!
</I>&gt;<i>
</I>&gt;<i> On Wed, 23 Mar 2011, H&#229;kan Johansson wrote:
</I>&gt;<i>
</I>&gt;&gt;<i> The (independent) use of pulse_delay_ns is also removed, while the code
</I>&gt;&gt;<i> potentially using it inside libgpsd_core.c is kept, as the ugly is the way to
</I>&gt;&gt;<i> get to the data, not the delay itself.  (An oncore device can be told to delay
</I>&gt;&gt;<i> the PPS pulse, thereby making it possible to timestamp several gps modules on
</I>&gt;&gt;<i> the same computer.  Multiple devices otherwise all make the interrupt at the
</I>&gt;&gt;<i> top of the second.)
</I>&gt;<i>
</I>&gt;<i> pulse_delay_ns mirrors the existing ntp_offset in the driver structure.  I
</I>&gt;<i> would suggest merely adding an element pps_offset in the driver structure.
</I>
Ok, then that function can also do the internal addition of the saw-tooth 
correction, after I've figured out the right sign for that.  (Sawtooth due 
to the gps module internal clock being about 10 MHz.  But it tells where 
that aligns with the real top-of-second.  My measurements so far were not 
accurate enough to see the improvement.)

Cheers,
H&#229;kan
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="008990.html">[Gpsd-dev] Unacceptable intrusivemess by the OnCore driver
</A></li>
	<LI>Next message: <A HREF="008987.html">[Gpsd-dev] Unacceptable intrusivemess by the OnCore driver
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8991">[ date ]</a>
              <a href="thread.html#8991">[ thread ]</a>
              <a href="subject.html#8991">[ subject ]</a>
              <a href="author.html#8991">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/gpsd-dev">More information about the Gpsd-dev
mailing list</a><br>
</body></html>
