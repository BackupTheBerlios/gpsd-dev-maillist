<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Gpsd-dev] [ntp:hackers] A lightweight synchronization mechanism for shared memory
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/gpsd-dev/2011-March/index.html" >
   <LINK REL="made" HREF="mailto:gpsd-dev%40lists.berlios.de?Subject=Re%3A%20%5BGpsd-dev%5D%20%5Bntp%3Ahackers%5D%20A%20lightweight%20synchronization%0A%20mechanism%20for%20shared%20memory&In-Reply-To=%3CAANLkTinW2%3Dw0jTmfCJ7khaDVSuNO3KRZejoyWpKvaKo7%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="009070.html">
   <LINK REL="Next"  HREF="009052.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Gpsd-dev] [ntp:hackers] A lightweight synchronization mechanism for shared memory</H1>
    <B>tz</B> 
    <A HREF="mailto:gpsd-dev%40lists.berlios.de?Subject=Re%3A%20%5BGpsd-dev%5D%20%5Bntp%3Ahackers%5D%20A%20lightweight%20synchronization%0A%20mechanism%20for%20shared%20memory&In-Reply-To=%3CAANLkTinW2%3Dw0jTmfCJ7khaDVSuNO3KRZejoyWpKvaKo7%40mail.gmail.com%3E"
       TITLE="[Gpsd-dev] [ntp:hackers] A lightweight synchronization mechanism for shared memory">thomas at mich.com
       </A><BR>
    <I>Fri Mar 25 19:54:50 CET 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="009070.html">[Gpsd-dev] [ntp:hackers] A lightweight synchronization mechanism for shared memory
</A></li>
        <LI>Next message: <A HREF="009052.html">[Gpsd-dev] [ntp:hackers] A lightweight synchronization mechanism for shared memory
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9074">[ date ]</a>
              <a href="thread.html#9074">[ thread ]</a>
              <a href="subject.html#9074">[ subject ]</a>
              <a href="author.html#9074">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Fri, Mar 25, 2011 at 2:20 PM, Terje Mathisen &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/gpsd-dev">terje at tmsw.no</A>&gt; wrote:
&gt;<i> Gary E. Miller wrote:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> -----BEGIN PGP SIGNED MESSAGE-----
</I>&gt;&gt;<i> Hash: SHA1
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Yo dave!
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> On Fri, 25 Mar 2011, Dave Hart wrote:
</I>&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> My recollection is that MIPS R4000, Alpha, or both do not support
</I>&gt;&gt;&gt;<i> byte-wide access, instead emitting load aligned destination word into
</I>&gt;&gt;&gt;<i> register, twiddle the byte into the register, then store aligned
</I>&gt;&gt;&gt;<i> destination word. &#160;By &quot;word&quot; I mean unsigned int, essentially, or
</I>&gt;&gt;&gt;<i> possibly 32-bit on 64-bit processors.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Having actually programmed MIPS and Alpha I can comfirm this misfeature.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> It was a PITA to work around.
</I>&gt;<i>
</I>&gt;<i> The original Alpha had this PITA feature, by the time of the '164 they had
</I>&gt;<i> to add 8 and 16-bit load/store ops.
</I>&gt;<i>
</I>&gt;<i> The main problem was in the drivers for memory-mapped interfaces with 8 or
</I>&gt;<i> 16-bit read/write registers, the workaround was supposed to be a special set
</I>&gt;<i> of (aliased) memory-mapped pages where a 32-bit access would in fact only
</I>&gt;<i> touch 8 or 16 bits.
</I>&gt;<i>
</I>&gt;<i> Anyway, using 32-bit accesses exclusively is much safer.
</I>
doing u32s would help - probably on all architectures I can think of,
but does the cache matter in a uniprocessor system?  Even if the cache
to ram is random, if both the read and write occur on the same core,
they will see the same cache values.

The upside is that on multicore systems, the clockspeed is usually
higher so other mechanisms aren't as burdensome, but on lighter
single-core systems the simpler versions are intrinsically reliable.

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="009070.html">[Gpsd-dev] [ntp:hackers] A lightweight synchronization mechanism for shared memory
</A></li>
	<LI>Next message: <A HREF="009052.html">[Gpsd-dev] [ntp:hackers] A lightweight synchronization mechanism for shared memory
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9074">[ date ]</a>
              <a href="thread.html#9074">[ thread ]</a>
              <a href="subject.html#9074">[ subject ]</a>
              <a href="author.html#9074">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/gpsd-dev">More information about the Gpsd-dev
mailing list</a><br>
</body></html>
