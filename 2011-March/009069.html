<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Gpsd-dev] A lightweight synchronization mechanism for shared memory
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/gpsd-dev/2011-March/index.html" >
   <LINK REL="made" HREF="mailto:gpsd-dev%40lists.berlios.de?Subject=Re%3A%20%5BGpsd-dev%5D%20A%20lightweight%20synchronization%20mechanism%20for%20shared%0A%20memory&In-Reply-To=%3Calpine.LNX.1.00.1103251023120.17732%40catbert.rellim.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="009035.html">
   <LINK REL="Next"  HREF="009031.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Gpsd-dev] A lightweight synchronization mechanism for shared memory</H1>
    <B>Gary E. Miller</B> 
    <A HREF="mailto:gpsd-dev%40lists.berlios.de?Subject=Re%3A%20%5BGpsd-dev%5D%20A%20lightweight%20synchronization%20mechanism%20for%20shared%0A%20memory&In-Reply-To=%3Calpine.LNX.1.00.1103251023120.17732%40catbert.rellim.com%3E"
       TITLE="[Gpsd-dev] A lightweight synchronization mechanism for shared memory">gem at rellim.com
       </A><BR>
    <I>Fri Mar 25 18:24:57 CET 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="009035.html">[Gpsd-dev] A lightweight synchronization mechanism for shared memory
</A></li>
        <LI>Next message: <A HREF="009031.html">[Gpsd-dev] &quot;bookend synchronization&quot;. does not (always) work
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9069">[ date ]</a>
              <a href="thread.html#9069">[ thread ]</a>
              <a href="subject.html#9069">[ subject ]</a>
              <a href="author.html#9069">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Yo Eric!

On Fri, 25 Mar 2011, Eric Raymond wrote:

&gt;<i> tz &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/gpsd-dev">thomas at mich.com</A>&gt;:
</I>&gt;<i> &gt; If write copies the whole structure in reverse, with the last byte
</I>&gt;<i> &gt; being the end sentinel, and reads copy the whole structure forward
</I>&gt;<i> &gt; with the first byte being the start sentinel, then you can't have read
</I>&gt;<i> &gt; get the same value for both sentinels (barring wraparound) if an
</I>&gt;<i> &gt; intervening write occurs during any part of the copy.
</I>&gt;<i>
</I>&gt;<i> Bingo.  Both forward copy and backward copy are easy to write; this'll work.
</I>&gt;<i> And it's even OK if they're interruptible.  Thanks; you fixed the bug.
</I>
That certainly will not work on Alpha, do to the strange way it access
RAM.  I suspect similar on MIPs.

Just because you can write to cache in any order you have no control
on the order that local caches are flushed to main RAM and then to the
adjacent CPUs caches.

RGDS
GARY
- ---------------------------------------------------------------------------
Gary E. Miller Rellim 109 NW Wilmington Ave., Suite E, Bend, OR 97701
	<A HREF="https://lists.berlios.de/mailman/listinfo/gpsd-dev">gem at rellim.com</A>  Tel:+1(541)382-8588

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.3 (GNU/Linux)

iD8DBQFNjM/uBmnRqz71OvMRAvtyAJ9Qc2ZrqpZcTeobcQBBAq0KGoJx/wCeO3sW
ixXff+RnXTj8GHc7kMbhYrk=
=FfZk
-----END PGP SIGNATURE-----


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="009035.html">[Gpsd-dev] A lightweight synchronization mechanism for shared memory
</A></li>
	<LI>Next message: <A HREF="009031.html">[Gpsd-dev] &quot;bookend synchronization&quot;. does not (always) work
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9069">[ date ]</a>
              <a href="thread.html#9069">[ thread ]</a>
              <a href="subject.html#9069">[ subject ]</a>
              <a href="author.html#9069">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/gpsd-dev">More information about the Gpsd-dev
mailing list</a><br>
</body></html>
