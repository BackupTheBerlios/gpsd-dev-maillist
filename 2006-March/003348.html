<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Gpsd-dev] Re: [Gpsd-users] Altitude not always being reported
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/gpsd-dev/2006-March/index.html" >
   <LINK REL="made" HREF="mailto:gpsd-dev%40lists.berlios.de?Subject=Re%3A%20%5BGpsd-dev%5D%20Re%3A%20%5BGpsd-users%5D%20Altitude%20not%20always%20being%20reported&In-Reply-To=%3C200603241050.05997.remco%40rvt.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003347.html">
   <LINK REL="Next"  HREF="003335.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Gpsd-dev] Re: [Gpsd-users] Altitude not always being reported</H1>
    <B>Remco Treffkorn</B> 
    <A HREF="mailto:gpsd-dev%40lists.berlios.de?Subject=Re%3A%20%5BGpsd-dev%5D%20Re%3A%20%5BGpsd-users%5D%20Altitude%20not%20always%20being%20reported&In-Reply-To=%3C200603241050.05997.remco%40rvt.com%3E"
       TITLE="[Gpsd-dev] Re: [Gpsd-users] Altitude not always being reported">remco at rvt.com
       </A><BR>
    <I>Fri Mar 24 19:50:05 CET 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="003347.html">[Gpsd-dev] Re: [Gpsd-users] Altitude not always being reported
</A></li>
        <LI>Next message: <A HREF="003335.html">[Gpsd-dev] COMPLEMENT OF THE SASON
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3348">[ date ]</a>
              <a href="thread.html#3348">[ thread ]</a>
              <a href="subject.html#3348">[ subject ]</a>
              <a href="author.html#3348">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Friday 24 March 2006 10:30, Rob Janssen wrote:
&gt;<i> &gt; Ok, the problem is here to see. Libgps is linked as a collection of .o
</I>&gt;<i> &gt; files,
</I>&gt;<i> &gt; not as a library. If you name an archive (library) on the command line,
</I>&gt;<i> &gt; all
</I>&gt;<i> &gt; the modules in it get linked in, needed or not. If you use the -l flag,
</I>&gt;<i> &gt; only
</I>&gt;<i> &gt; needed symbols are pulled from the archive.
</I>&gt;<i>
</I>&gt;<i> I don;t think this is how the linker works.  Or at least, traditionally,
</I>&gt;<i> worked.
</I>&gt;<i>
</I>&gt;<i> When you specify a .o file it is always linked.
</I>&gt;<i> When you specify a .a file it is scanned as a library and only those
</I>&gt;<i> modules that satisfy an unresolved external are linked.
</I>&gt;<i>
</I>&gt;<i> (in the first versions, this was even being done in a single pass only, so
</I>&gt;<i> highlevel functions needed to be at the start of the .a file so they would
</I>&gt;<i> pull in lowlevel functions from later .o files in the library.  later this
</I>&gt;<i> was solved by adding a special file that serves as a toc, using ranlib)
</I>&gt;<i>
</I>&gt;<i> The -l flag basically does this:
</I>&gt;<i> - it adds &quot;lib&quot; before and &quot;.a&quot; after the name specified, so -lc becomes
</I>&gt;<i> libc.a
</I>&gt;<i> - it adds support for a &quot;library search path&quot;: the library is looked for
</I>&gt;<i> in a number of places, while normal .a files must be referenced exactly
</I>&gt;<i>
</I>&gt;<i> Other than this, there is nothing magic about -l.
</I>&gt;<i> So, for a project with local libraries that are not necessarily installed
</I>&gt;<i> in the wellknown system locations, it is quite normal for the local
</I>&gt;<i> libraries to be explicitly named without -l, while the system libraries
</I>&gt;<i> like libm, libncurses etc are linked using -lm, -lncurses etc.
</I>&gt;<i>
</I>
I remember it differently (early sysV ld), but may very well be wrong.
The problem remains, just the cause changes. If you are correct, ld on OSX is 
broken.

What version of ld is this?

Cheers,
Remco

-- 
Remco Treffkorn (RT445)
HAM DC2XT
<A HREF="https://lists.berlios.de/mailman/listinfo/gpsd-dev">remco at rvt.com</A>   (831) 685-1201

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003347.html">[Gpsd-dev] Re: [Gpsd-users] Altitude not always being reported
</A></li>
	<LI>Next message: <A HREF="003335.html">[Gpsd-dev] COMPLEMENT OF THE SASON
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3348">[ date ]</a>
              <a href="thread.html#3348">[ thread ]</a>
              <a href="subject.html#3348">[ subject ]</a>
              <a href="author.html#3348">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/gpsd-dev">More information about the Gpsd-dev
mailing list</a><br>
</body></html>
