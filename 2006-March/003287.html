<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Gpsd-dev] Re: The state of gpsd
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/gpsd-dev/2006-March/index.html" >
   <LINK REL="made" HREF="mailto:gpsd-dev%40lists.berlios.de?Subject=Re%3A%20%5BGpsd-dev%5D%20Re%3A%20The%20state%20of%20gpsd&In-Reply-To=%3C2flwtf2iple.fsf%40saruman.uio.no%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003286.html">
   <LINK REL="Next"  HREF="003291.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Gpsd-dev] Re: The state of gpsd</H1>
    <B>Petter Reinholdtsen</B> 
    <A HREF="mailto:gpsd-dev%40lists.berlios.de?Subject=Re%3A%20%5BGpsd-dev%5D%20Re%3A%20The%20state%20of%20gpsd&In-Reply-To=%3C2flwtf2iple.fsf%40saruman.uio.no%3E"
       TITLE="[Gpsd-dev] Re: The state of gpsd">pere at hungry.com
       </A><BR>
    <I>Fri Mar 10 11:03:25 CET 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="003286.html">[Gpsd-dev] The state of gpsd
</A></li>
        <LI>Next message: <A HREF="003291.html">[Gpsd-dev] Re: The state of gpsd
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3287">[ date ]</a>
              <a href="thread.html#3287">[ thread ]</a>
              <a href="subject.html#3287">[ subject ]</a>
              <a href="author.html#3287">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>[Rob Janssen]
&gt;<i> The issue is: a thread is created using the pthread library to
</I>&gt;<i> monitor the PPS input, and when it finds it cannot do so (usually
</I>&gt;<i> because the USB serial device does not implement TIOCMIWAIT). the
</I>&gt;<i> thread just terminates.  But it seems the pthread library closes the
</I>&gt;<i> file descriptor in this case.
</I>
That is very strange.  As far as I know, pthreads will not close file
descriptors on thread exit.  I looked at the code to try to figure out
if the thread is exiting in some strange way.  It seem to only return
from the thread function, so nothing strange there.

&gt;<i> Anyone with knowledge about pthread?
</I>
I got a nice book, Multithreading Programming Techniques, at least. :)
Checking the section on pthreads, I see nothing indicating that file
descriptors are closed when exiting a thread.  Did you try to run in
valgrind and see if anything useful is reported?  What about running
it in gdb and breaking on close() to figure out the backtrace when the
file descriptor is closed?


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003286.html">[Gpsd-dev] The state of gpsd
</A></li>
	<LI>Next message: <A HREF="003291.html">[Gpsd-dev] Re: The state of gpsd
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3287">[ date ]</a>
              <a href="thread.html#3287">[ thread ]</a>
              <a href="subject.html#3287">[ subject ]</a>
              <a href="author.html#3287">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/gpsd-dev">More information about the Gpsd-dev
mailing list</a><br>
</body></html>
