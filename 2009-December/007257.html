<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Gpsd-dev] recent PPS
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/gpsd-dev/2009-December/index.html" >
   <LINK REL="made" HREF="mailto:gpsd-dev%40lists.berlios.de?Subject=Re%3A%20%5BGpsd-dev%5D%20recent%20PPS&In-Reply-To=%3C4B1A8E76.6080006%40wildgooses.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="007171.html">
   <LINK REL="Next"  HREF="007261.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Gpsd-dev] recent PPS</H1>
    <B>Ed W</B> 
    <A HREF="mailto:gpsd-dev%40lists.berlios.de?Subject=Re%3A%20%5BGpsd-dev%5D%20recent%20PPS&In-Reply-To=%3C4B1A8E76.6080006%40wildgooses.com%3E"
       TITLE="[Gpsd-dev] recent PPS">lists at wildgooses.com
       </A><BR>
    <I>Sat Dec  5 17:46:46 CET 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="007171.html">[Gpsd-dev] recent PPS
</A></li>
        <LI>Next message: <A HREF="007261.html">[Gpsd-dev] recent PPS
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7257">[ date ]</a>
              <a href="thread.html#7257">[ thread ]</a>
              <a href="subject.html#7257">[ subject ]</a>
              <a href="author.html#7257">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Miroslav Lichvar wrote:
&gt;<i> On Mon, Nov 30, 2009 at 11:42:25AM -0800, Gary E. Miller wrote:
</I>&gt;<i>   
</I>&gt;&gt;<i> As we have discussed previously I see no need for a wider tolerance to
</I>&gt;&gt;<i> accept PPS pulses and I did not see that your logs showed a need either.
</I>&gt;&gt;<i>     
</I>&gt;<i>
</I>&gt;<i> Well, the logs show a difference, syncing directly to the PPS source
</I>&gt;<i> without switching to NMEA. You may argue it's not that important, but
</I>&gt;<i> considering it costs only four lines of code and noise filtering stays
</I>&gt;<i> at 1000 ppm, it's useful.
</I>&gt;<i>
</I>&gt;<i>   
</I>
It's clear that both of you are coming from different directions.  Gary 
seems to be saying that under a certain very precise configuration, then 
*usually* the ntp daemon will *eventually* converge and by implication 
discounting that it's &quot;bad&quot; that manual intervention may be required in 
some corner cases.  By inference I believe Gary is implying it's better 
not to change the code unless a clear limitation is seen in the current 
code?

Miroslav is coming from the point of view that speed of lockon and 
robustness to always converge is an advantage worth patching for?

Personally I have a need for a solution for an embedded appliance which 
will have very intermittent internet connectivity and will need to sync 
time sometimes from a very inaccurate clock and make use of various 
intermittently connected time sources (eg dynamically connected internet 
or gps). 

The best solution from my research seems to be chrony with Miroslav's 
latest patches and a patched version of gpsd with Miroslav's patches. 
This seems to sync very quickly and reliably even from a range of bad 
clock situations.  Remember that for an appliance which is turned on and 
off regularly (think your adsl router), you really don't want to be 
waiting 2 hours for something to converge and be ready to work and it 
really wants to be up and in business in less than single digit minutes.

I hope we can figure out some compromise which works here?

Cheers

Ed W
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/gpsd-dev/attachments/20091205/75a695da/attachment.html">https://lists.berlios.de/pipermail/gpsd-dev/attachments/20091205/75a695da/attachment.html</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="007171.html">[Gpsd-dev] recent PPS
</A></li>
	<LI>Next message: <A HREF="007261.html">[Gpsd-dev] recent PPS
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7257">[ date ]</a>
              <a href="thread.html#7257">[ thread ]</a>
              <a href="subject.html#7257">[ subject ]</a>
              <a href="author.html#7257">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/gpsd-dev">More information about the Gpsd-dev
mailing list</a><br>
</body></html>
