<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Gpsd-dev] oncore pps delay
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/gpsd-dev/2009-December/index.html" >
   <LINK REL="made" HREF="mailto:gpsd-dev%40lists.berlios.de?Subject=Re%3A%20%5BGpsd-dev%5D%20oncore%20pps%20delay&In-Reply-To=%3Calpine.LNX.1.10.0912081611130.8853%40catbert.rellim.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="007271.html">
   <LINK REL="Next"  HREF="007277.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Gpsd-dev] oncore pps delay</H1>
    <B>Gary E. Miller</B> 
    <A HREF="mailto:gpsd-dev%40lists.berlios.de?Subject=Re%3A%20%5BGpsd-dev%5D%20oncore%20pps%20delay&In-Reply-To=%3Calpine.LNX.1.10.0912081611130.8853%40catbert.rellim.com%3E"
       TITLE="[Gpsd-dev] oncore pps delay">gem at rellim.com
       </A><BR>
    <I>Wed Dec  9 01:23:54 CET 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="007271.html">[Gpsd-dev] oncore pps delay
</A></li>
        <LI>Next message: <A HREF="007277.html">[Gpsd-dev] oncore pps delay
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7276">[ date ]</a>
              <a href="thread.html#7276">[ thread ]</a>
              <a href="subject.html#7276">[ subject ]</a>
              <a href="author.html#7276">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Yo H&#229;kan!

On Tue, 8 Dec 2009, H&#229;kan Johansson wrote:

&gt;<i> &gt; You changed the fudge from 0.16 to 0.175.  If you think about it you
</I>&gt;<i> &gt; will realize that the fudge is very serial speed dependent, so we need
</I>&gt;<i> &gt; to document the serial speed that applies to that fudge.  What speed is
</I>&gt;<i> &gt; that for?
</I>&gt;<i>
</I>&gt;<i> This is for 9600 bps, the only speed my oncore UT+ supports.  There is some
</I>&gt;<i> other oncore model (e.g. GT) which switches to 4800 bps when put into NMEA
</I>&gt;<i> mode, but I cannot do that.
</I>
Noted in the driver code. svn 6765.

&gt;<i> The speed-dependent adjustment in the sirf is cool.  Is the value at 38400
</I>&gt;<i> which does not fit the series perhaps dependent on the module emitting more or
</I>&gt;<i> longer messages at that speed?
</I>
It is not well tested and varies for unkown reasons. In 38400 the
gpsd init of the SiRF adds more messages, thus the non-obvious fudge
scaling.  There are also some side effects of the speed changing code
that I am tracking down.

&gt;<i>   Could a speed-correction offset be calculated
</I>&gt;<i> on the number of bytes emitted from the device, perhaps including several
</I>&gt;<i> messages, from the start of the reporting-cycle or so?
</I>
Ideally that is a nice idea.  Not sure how to get the number of chars
so far in the current cycle.  In the SiRF you can enable a PPS message
which will be the first in the cycle, so that may be sufficient.

Now that 2.90 is out, any tweaks you want to discuss again on the PPS?

Gotta say that so far my PPS results have been really good.  Only thing
I am chasing is that SiRF leap seconds will go nuts now and again.  Doing
some testing for ways to speed convergence might show something valuable.

RGDS
GARY
- ---------------------------------------------------------------------------
Gary E. Miller Rellim 109 NW Wilmington Ave., Suite E, Bend, OR 97701
	<A HREF="https://lists.berlios.de/mailman/listinfo/gpsd-dev">gem at rellim.com</A>  Tel:+1(541)382-8588

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.3 (GNU/Linux)

iD8DBQFLHu4dBmnRqz71OvMRAozVAKCMYewt4u7IO6ll6+nOjFM5LPoReQCfdatp
1nzu8P6ukjCwA0kxxfUDEOw=
=0n7/
-----END PGP SIGNATURE-----
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="007271.html">[Gpsd-dev] oncore pps delay
</A></li>
	<LI>Next message: <A HREF="007277.html">[Gpsd-dev] oncore pps delay
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7276">[ date ]</a>
              <a href="thread.html#7276">[ thread ]</a>
              <a href="subject.html#7276">[ subject ]</a>
              <a href="author.html#7276">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/gpsd-dev">More information about the Gpsd-dev
mailing list</a><br>
</body></html>
