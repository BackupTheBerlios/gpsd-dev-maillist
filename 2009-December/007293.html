<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Gpsd-dev] MinGW/Win32 port
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/gpsd-dev/2009-December/index.html" >
   <LINK REL="made" HREF="mailto:gpsd-dev%40lists.berlios.de?Subject=Re%3A%20%5BGpsd-dev%5D%20MinGW/Win32%20port&In-Reply-To=%3C4B3BE920.8000801%40adsllc.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="007292.html">
   <LINK REL="Next"  HREF="007294.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Gpsd-dev] MinGW/Win32 port</H1>
    <B>David Ludlow</B> 
    <A HREF="mailto:gpsd-dev%40lists.berlios.de?Subject=Re%3A%20%5BGpsd-dev%5D%20MinGW/Win32%20port&In-Reply-To=%3C4B3BE920.8000801%40adsllc.com%3E"
       TITLE="[Gpsd-dev] MinGW/Win32 port">davel at adsllc.com
       </A><BR>
    <I>Thu Dec 31 00:58:24 CET 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="007292.html">[Gpsd-dev] BU-303 switch to Trimble TSIP
</A></li>
        <LI>Next message: <A HREF="007294.html">[Gpsd-dev] MinGW/Win32 port
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7293">[ date ]</a>
              <a href="thread.html#7293">[ thread ]</a>
              <a href="subject.html#7293">[ subject ]</a>
              <a href="author.html#7293">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I've spent the last few days working on a MinGW port of the gpsd
package.  I've made pretty good progress and have a somewhat functional
gpsd.exe and gpspipe.exe, as tested on Wine and WinXP.  The code is
based on the gpsd-2.90 release.

The applicable files are available here:
<A HREF="http://adsllc.fedorapeople.org/gpsd-2.90-mingw/">http://adsllc.fedorapeople.org/gpsd-2.90-mingw/</A>

It's clearly not a finished product, and is probably broken in many
ways, but it's a start.  I'd like to get opinions on the structure of
things before I do much more polishing &amp; fixing.

The basic summary of the changes are:

A. Added win32_compat.* files to compartmentalize as much as possible. 
There are still many empty stubs here.
B. Update a bunch of #include stuff to make step A work.
C. Added a serial_win32.c file that is used instead of serial.c as
necessary.
D. Sped up the select() timeout in the main loop on Win32.
E. Added a conditional gps_handle to gps_data_t.
F. Passed the whole gps_data_t* structure in some places instead of just
the fd so gps_handle would be available.
G. The &quot;boolean&quot; token used by the JSON stuff is already defined in
Win32.  Renamed to &quot;booleanval&quot;.
H. Created a socket_t that is a SOCKET on Win32 and an int otherwise.
I. Added NSIS installer support.

I'm looking for:

1. Advice on structural changes I can make to improve the odds of
mainline integration.
2. Advice on the Win32 API code, as that's not my speciality. 
Fortunately, there's really very little of it.
3. Other interested parties.
4. Other thoughts and opinions.

Thanks!


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="007292.html">[Gpsd-dev] BU-303 switch to Trimble TSIP
</A></li>
	<LI>Next message: <A HREF="007294.html">[Gpsd-dev] MinGW/Win32 port
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7293">[ date ]</a>
              <a href="thread.html#7293">[ thread ]</a>
              <a href="subject.html#7293">[ subject ]</a>
              <a href="author.html#7293">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/gpsd-dev">More information about the Gpsd-dev
mailing list</a><br>
</body></html>
