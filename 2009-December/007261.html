<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Gpsd-dev] recent PPS
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/gpsd-dev/2009-December/index.html" >
   <LINK REL="made" HREF="mailto:gpsd-dev%40lists.berlios.de?Subject=Re%3A%20%5BGpsd-dev%5D%20recent%20PPS&In-Reply-To=%3Calpine.LNX.1.10.0912052045340.8675%40catbert.rellim.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="007257.html">
   <LINK REL="Next"  HREF="007266.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Gpsd-dev] recent PPS</H1>
    <B>Gary E. Miller</B> 
    <A HREF="mailto:gpsd-dev%40lists.berlios.de?Subject=Re%3A%20%5BGpsd-dev%5D%20recent%20PPS&In-Reply-To=%3Calpine.LNX.1.10.0912052045340.8675%40catbert.rellim.com%3E"
       TITLE="[Gpsd-dev] recent PPS">gem at rellim.com
       </A><BR>
    <I>Sun Dec  6 05:55:39 CET 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="007257.html">[Gpsd-dev] recent PPS
</A></li>
        <LI>Next message: <A HREF="007266.html">[Gpsd-dev] recent PPS
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7261">[ date ]</a>
              <a href="thread.html#7261">[ thread ]</a>
              <a href="subject.html#7261">[ subject ]</a>
              <a href="author.html#7261">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Yo Ed!

On Sat, 5 Dec 2009, Ed W wrote:

&gt;<i>  Well, the logs show a difference, syncing directly to the PPS source
</I>&gt;<i> without switching to NMEA. You may argue it's not that important, but
</I>&gt;<i> considering it costs only four lines of code and noise filtering stays
</I>&gt;<i> at 1000 ppm, it's useful.
</I>
Not sure what you are saying here.  We always need the NMEA to get the
PPS to work.  And I am not worried about the code cost, but the chance
of getting bad fixes.

&gt;<i> It's clear that both of you are coming from different directions.&#160; Gary
</I>&gt;<i> seems to be saying that under a certain very precise configuration, then
</I>&gt;<i> *usually* the ntp daemon will *eventually* converge and by implication
</I>&gt;<i> discounting that it's &quot;bad&quot; that manual intervention may be required in
</I>&gt;<i> some corner cases.&#160;
</I>
If by *usually* you mean *always*, and by *eventually* you mean *a minute
or two*, and that manual intervention should never be required then you
understand me.

&gt;<i> By inference I believe Gary is implying it's better
</I>&gt;<i> not to change the code unless a clear limitation is seen in the current
</I>&gt;<i> code?
</I>
Yes, or put another way, I want it shown that there is a clear advantage
to the new code.

&gt;<i> Miroslav is coming from the point of view that speed of lockon and
</I>&gt;<i> robustness to always converge is an advantage worth patching for?
</I>
I also have to go with that statement, pretty much everyone wants that.

&gt;<i> The best solution from my research seems to be chrony with Miroslav's
</I>&gt;<i> latest patches and a patched version of gpsd with Miroslav's patches. This
</I>&gt;<i> seems to sync very quickly and reliably even from a range of bad clock
</I>&gt;<i> situations.
</I>
What is the difference you see between the gpsd with patches and that
without?

&gt;<i> Remember that for an appliance which is turned on and off
</I>&gt;<i> regularly (think your adsl router), you really don't want to be waiting 2
</I>&gt;<i> hours for something to converge and be ready to work and it really wants
</I>&gt;<i> to be up and in business in less than single digit minutes.
</I>
I have a hard time believing it takes you two hours.  Not sure how that
can be possible. gpsd should be reporting to the ntpd/chrony the correct
time within a few hundred milliseconds by a few seconds after first
fix and the correct PPS time within a minute after the system clock is
stable to the NMEA time.

Can you provide logs to show what you are seeing?

RGDS
GARY
- ---------------------------------------------------------------------------
Gary E. Miller Rellim 109 NW Wilmington Ave., Suite E, Bend, OR 97701
	<A HREF="https://lists.berlios.de/mailman/listinfo/gpsd-dev">gem at rellim.com</A>  Tel:+1(541)382-8588

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.3 (GNU/Linux)

iD8DBQFLGzlPBmnRqz71OvMRAr8rAKCxDlvs11LbO70nIV5I+dlOmVqW1gCgp5u6
X//s7GIocikyS5k4pLXdwN8=
=mah1
-----END PGP SIGNATURE-----
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="007257.html">[Gpsd-dev] recent PPS
</A></li>
	<LI>Next message: <A HREF="007266.html">[Gpsd-dev] recent PPS
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7261">[ date ]</a>
              <a href="thread.html#7261">[ thread ]</a>
              <a href="subject.html#7261">[ subject ]</a>
              <a href="author.html#7261">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/gpsd-dev">More information about the Gpsd-dev
mailing list</a><br>
</body></html>
