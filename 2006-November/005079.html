<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Gpsd-dev] cgps patch, gpsd_typ
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/gpsd-dev/2006-November/index.html" >
   <LINK REL="made" HREF="mailto:gpsd-dev%40lists.berlios.de?Subject=Re%3A%20%5BGpsd-dev%5D%20cgps%20patch%2C%20gpsd_typ&In-Reply-To=%3C20061111162106.GA4318%40thyrsus.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="005077.html">
   <LINK REL="Next"  HREF="005084.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Gpsd-dev] cgps patch, gpsd_typ</H1>
    <B>Eric S. Raymond</B> 
    <A HREF="mailto:gpsd-dev%40lists.berlios.de?Subject=Re%3A%20%5BGpsd-dev%5D%20cgps%20patch%2C%20gpsd_typ&In-Reply-To=%3C20061111162106.GA4318%40thyrsus.com%3E"
       TITLE="[Gpsd-dev] cgps patch, gpsd_typ">esr at thyrsus.com
       </A><BR>
    <I>Sat Nov 11 17:21:06 CET 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="005077.html">[Gpsd-dev] cgps patch, gpsd_typ
</A></li>
        <LI>Next message: <A HREF="005084.html">[Gpsd-dev] cgps patch, gpsd_typ
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5079">[ date ]</a>
              <a href="thread.html#5079">[ thread ]</a>
              <a href="subject.html#5079">[ subject ]</a>
              <a href="author.html#5079">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Petr Slansky &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/gpsd-dev">slansky at usa.net</A>&gt;:
&gt;<i> I send patch to print more of gps_type string (20 wastoo short, we have space
</I>&gt;<i> to print more)
</I>
Merged.

I like this patch for increasing how much of a long subtype string we can 
display, but I like it more for getting rid of a magic number. The original
code used '20' twice, once as the dimension of an array and once as the
third argument of strcpy().  Using sizeof() in the second place is much better
style, as it

(a) ensures the constants won't be inconsistently changed. possibly leading
    to a buffer overrun, and

(b) better expresses what the strlcpy() is doing, which is &quot;copy as much as 
    we have room for&quot;.

Jeff and other code submitters, take note.
-- 
		&lt;a href=&quot;<A HREF="http://www.catb.org/~esr/">http://www.catb.org/~esr/</A>&quot;&gt;Eric S. Raymond&lt;/a&gt;

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="005077.html">[Gpsd-dev] cgps patch, gpsd_typ
</A></li>
	<LI>Next message: <A HREF="005084.html">[Gpsd-dev] cgps patch, gpsd_typ
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5079">[ date ]</a>
              <a href="thread.html#5079">[ thread ]</a>
              <a href="subject.html#5079">[ subject ]</a>
              <a href="author.html#5079">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/gpsd-dev">More information about the Gpsd-dev
mailing list</a><br>
</body></html>
