<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Gpsd-dev] Big patch coming, unless somebody says boo
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/gpsd-dev/2006-November/index.html" >
   <LINK REL="made" HREF="mailto:gpsd-dev%40lists.berlios.de?Subject=Re%3A%20%5BGpsd-dev%5D%20Big%20patch%20coming%2C%20unless%20somebody%20says%20boo&In-Reply-To=%3C20061129235126.GA26913%40thyrsus.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="005351.html">
   <LINK REL="Next"  HREF="005333.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Gpsd-dev] Big patch coming, unless somebody says boo</H1>
    <B>Eric S. Raymond</B> 
    <A HREF="mailto:gpsd-dev%40lists.berlios.de?Subject=Re%3A%20%5BGpsd-dev%5D%20Big%20patch%20coming%2C%20unless%20somebody%20says%20boo&In-Reply-To=%3C20061129235126.GA26913%40thyrsus.com%3E"
       TITLE="[Gpsd-dev] Big patch coming, unless somebody says boo">esr at thyrsus.com
       </A><BR>
    <I>Thu Nov 30 00:51:26 CET 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="005351.html">[Gpsd-dev] Another Garmin &quot;patch&quot;
</A></li>
        <LI>Next message: <A HREF="005333.html">[Gpsd-dev] Big patch coming, unless somebody says boo
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5332">[ date ]</a>
              <a href="thread.html#5332">[ thread ]</a>
              <a href="subject.html#5332">[ subject ]</a>
              <a href="author.html#5332">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Heads up, I'm working on a big patch. Possibly too big for 2.34.

I want to be able to write a C packet sniffer, for one of our test
programs, that doesn't drag in serial handling and drivers and all 
the rest of libgpsd_core.

So what the patch does is pull apart two data structures that are too
entangled at the moment.  The parts of the session structure that are
packet-sniffer scratch storage need to migrate out to their own
struct.  I'm thinking maybe I might move that into a packet.h header
and collect all the associated magic definitions there, too.

This patch doesn't make any logic changes at all; it's the mechanical kind
of refactoring step where if it compiles at all you can be pretty sure
it's right.  Trivial changes, but lots of them and all over the place.

Consequently, if anybody is doing driver-level work, crossing with
this patch is liable to cause you some annoyance.  So here's how I'd
like to play it.

1. First, I'm going to finish the patch and regression-test the bejeezus out
of it.

2. Then I'm going to wait until about 3 or 4AM this morning, at which time
Gary and Chris (being three hours west of me) should be sound asleep.

3. While I'm waiting, if any committer tells me &quot;Stop!  You'll
crap in the middle of my troubleshooting!&quot;, I'll wait for a better 
day, possibly until after we ship 2.34.

4. Otherwise, I shall hope everyone has done their nightly commits
and bang this sucker in there.

It might be a good idea to svn up while you're drinking your 
morning beverage-of-choice tomorrow. :-)
-- 
		&lt;a href=&quot;<A HREF="http://www.catb.org/~esr/">http://www.catb.org/~esr/</A>&quot;&gt;Eric S. Raymond&lt;/a&gt;

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="005351.html">[Gpsd-dev] Another Garmin &quot;patch&quot;
</A></li>
	<LI>Next message: <A HREF="005333.html">[Gpsd-dev] Big patch coming, unless somebody says boo
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5332">[ date ]</a>
              <a href="thread.html#5332">[ thread ]</a>
              <a href="subject.html#5332">[ subject ]</a>
              <a href="author.html#5332">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/gpsd-dev">More information about the Gpsd-dev
mailing list</a><br>
</body></html>
