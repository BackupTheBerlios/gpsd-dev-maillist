<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Gpsd-dev] ntp-pps
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/gpsd-dev/2006-September/index.html" >
   <LINK REL="made" HREF="mailto:gpsd-dev%40lists.berlios.de?Subject=Re%3A%20%5BGpsd-dev%5D%20ntp-pps&In-Reply-To=%3CPine.LNX.4.64.0609131111550.21285%40catbert.rellim.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004315.html">
   <LINK REL="Next"  HREF="004327.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Gpsd-dev] ntp-pps</H1>
    <B>Gary E. Miller</B> 
    <A HREF="mailto:gpsd-dev%40lists.berlios.de?Subject=Re%3A%20%5BGpsd-dev%5D%20ntp-pps&In-Reply-To=%3CPine.LNX.4.64.0609131111550.21285%40catbert.rellim.com%3E"
       TITLE="[Gpsd-dev] ntp-pps">gem at rellim.com
       </A><BR>
    <I>Wed Sep 13 20:23:26 CEST 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="004315.html">[Gpsd-dev] ntp-pps
</A></li>
        <LI>Next message: <A HREF="004327.html">[Gpsd-dev] ntp-pps
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4316">[ date ]</a>
              <a href="thread.html#4316">[ thread ]</a>
              <a href="subject.html#4316">[ subject ]</a>
              <a href="author.html#4316">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Yo Eric!

On Wed, 13 Sep 2006, Eric S. Raymond wrote:

&gt;<i> Yes, I think this dignosis is correct and logically equivalent to the one
</I>&gt;<i> I just sent you.
</I>
Good.  Glad we are in sync.

&gt;<i> This will work when the PPS timing is as you describe, but the
</I>&gt;<i> latchmode logic I describe previously should be more robust
</I>&gt;<i> if PPS comes in at other times.
</I>
Agreed.  I also see anothre problem in the saniuty checks in the ntp-pps
code that makes assumptions about the relationship between fix time and
pps time.  After we get this I'll work on those.

For this one looks like we are thinking the same here and I'll porceed.
I wnted to be very careull before adding to the sessions structure.

&gt;<i> You need to add a new member to the session structure -- for the sake
</I>&gt;<i> of argument, we'll call it &quot;latchmode&quot;.
</I>
&gt;<i> This member has to be cleared at start of cycle. When a packet reports
</I>&gt;<i> a nonzero mode, set it, in libgpsd_core.c:gpsd_poll().
</I>
&gt;<i> In the PPS code, test latchmode.
</I>
Gotta fly up to PDX to pick up someone.  I'll see when I can fit this
in.

RGDS
GARY
- ---------------------------------------------------------------------------
Gary E. Miller Rellim 20340 Empire Blvd, Suite E-3, Bend, OR 97701
	<A HREF="https://lists.berlios.de/mailman/listinfo/gpsd-dev">gem at rellim.com</A>  Tel:+1(541)382-8588

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.3 (GNU/Linux)

iD8DBQFFCEyh8KZibdeR3qURAnvhAKDKuNWdy0e+Sd+BP95lbkf0W1o7TQCePJwB
Jr55TVtz1bZSzEi08L0lVpw=
=GBgb
-----END PGP SIGNATURE-----


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="004315.html">[Gpsd-dev] ntp-pps
</A></li>
	<LI>Next message: <A HREF="004327.html">[Gpsd-dev] ntp-pps
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4316">[ date ]</a>
              <a href="thread.html#4316">[ thread ]</a>
              <a href="subject.html#4316">[ subject ]</a>
              <a href="author.html#4316">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/gpsd-dev">More information about the Gpsd-dev
mailing list</a><br>
</body></html>
