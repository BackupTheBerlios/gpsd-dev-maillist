<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Gpsd-dev] Seg fault, pipe, PGRME
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/gpsd-dev/2006-September/index.html" >
   <LINK REL="made" HREF="mailto:gpsd-dev%40lists.berlios.de?Subject=Re%3A%20%5BGpsd-dev%5D%20Seg%20fault%2C%20pipe%2C%20PGRME&In-Reply-To=%3C014kiuVbl6004S02.1158874117%40cmsweb02.cms.usa.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004374.html">
   <LINK REL="Next"  HREF="004376.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Gpsd-dev] Seg fault, pipe, PGRME</H1>
    <B>Petr Slansky</B> 
    <A HREF="mailto:gpsd-dev%40lists.berlios.de?Subject=Re%3A%20%5BGpsd-dev%5D%20Seg%20fault%2C%20pipe%2C%20PGRME&In-Reply-To=%3C014kiuVbl6004S02.1158874117%40cmsweb02.cms.usa.net%3E"
       TITLE="[Gpsd-dev] Seg fault, pipe, PGRME">slansky at usa.net
       </A><BR>
    <I>Thu Sep 21 23:28:37 CEST 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="004374.html">[Gpsd-dev] License Problems
</A></li>
        <LI>Next message: <A HREF="004376.html">[Gpsd-dev] Seg fault, pipe, PGRME
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4375">[ date ]</a>
              <a href="thread.html#4375">[ thread ]</a>
              <a href="subject.html#4375">[ subject ]</a>
              <a href="author.html#4375">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Gentlemen,

I tried something special and I finished with segmentation fault. I tried to
run two gpsd on one PC and interconnect them with pipe, like this:

1) start first gpsd, it reads data from real gps
gpsd -N -D9 /dev/gps

2) create fifo
mkfifo /tmp/gps
gpspipe -r &gt;/tmp/gps

3) start second gpsd, with interface on TCP port 2222
gpsd -N -n -D9 -S2222 /tmp/gps

Second gpsd finish with Segmentation fault:

gpsd: Packet type 0 accepted 27 =
245047524d452c302e30302c302e30302c32382e38302a34440d0a
gpsd: Packet discard of 27, chars remaining is 135 =
24504645432c4750696e742c47534130312c44544d30302c5a444130312c524d4330312c474c4c30302c56544730302c47535630352a33420d0a404e4331303135313031300d0a24504d4f54472c5a44412c312a32460d0a245047524d43452a30450d0a24505352463130352c312a33450d0a24504653542a31310d0a1002068d0001008e1003
gpsd: GPS sent 135 new characters
gpsd: &lt;= GPS: $PGRME,0.00,0.00,28.80*4D
Segmentation fault

Is PGRME message gpsd killer?

I tried this strange configuration to see difference between binary and NMEA
output in the same time. It is possible that there is better way to do the
same thing. But as I get segmentation fault always after PGRME message I guess
that there is a bug in gpsd.

With regards,
Petr


---------------------------------
  Petr Slansky, <A HREF="https://lists.berlios.de/mailman/listinfo/gpsd-dev">slansky at usa.net</A>
---------------------------------



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="004374.html">[Gpsd-dev] License Problems
</A></li>
	<LI>Next message: <A HREF="004376.html">[Gpsd-dev] Seg fault, pipe, PGRME
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4375">[ date ]</a>
              <a href="thread.html#4375">[ thread ]</a>
              <a href="subject.html#4375">[ subject ]</a>
              <a href="author.html#4375">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/gpsd-dev">More information about the Gpsd-dev
mailing list</a><br>
</body></html>
