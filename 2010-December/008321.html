<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Gpsd-dev] PPS serial port support lost... ioctl-related change?
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/gpsd-dev/2010-December/index.html" >
   <LINK REL="made" HREF="mailto:gpsd-dev%40lists.berlios.de?Subject=Re%3A%20%5BGpsd-dev%5D%20PPS%20serial%20port%20support%20lost...%20ioctl-related%20change%3F&In-Reply-To=%3C4D0BFCFE.5070904%40radagast.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="008317.html">
   <LINK REL="Next"  HREF="008322.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Gpsd-dev] PPS serial port support lost... ioctl-related change?</H1>
    <B>Dave Platt</B> 
    <A HREF="mailto:gpsd-dev%40lists.berlios.de?Subject=Re%3A%20%5BGpsd-dev%5D%20PPS%20serial%20port%20support%20lost...%20ioctl-related%20change%3F&In-Reply-To=%3C4D0BFCFE.5070904%40radagast.org%3E"
       TITLE="[Gpsd-dev] PPS serial port support lost... ioctl-related change?">dplatt at radagast.org
       </A><BR>
    <I>Sat Dec 18 01:14:54 CET 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="008317.html">[Gpsd-dev] deheader
</A></li>
        <LI>Next message: <A HREF="008322.html">[Gpsd-dev] PPS serial port support lost... ioctl-related change?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8321">[ date ]</a>
              <a href="thread.html#8321">[ thread ]</a>
              <a href="subject.html#8321">[ subject ]</a>
              <a href="author.html#8321">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Eric Raymond wrote:

&gt;<i> I love this simplification and intend to keep it.  Someday I'll
</I>&gt;<i> probably take a fire ax, chop loose the whole bloated mass of autoconf
</I>&gt;<i> crud that is our build system, and replace it with scons or something.
</I>&gt;<i> But even this partial decoupling makes the code significantly easier
</I>&gt;<i> to read and is going to reduce our porting and long-term maintainance
</I>&gt;<i> problems.
</I>
Yes, it sounds like a good approach.  It does constrain the set of
potential targets for easy ports (i.e. those which comply with the
SUS) but that's probably a very reasonable choice.

&gt;<i> 
</I>&gt;<i> As for &lt;sys/ioctl.h&gt;...if we push the code onto a platform that doesn't have
</I>&gt;<i> that file, I *want* the build to break.  Loudly, 
</I>
&quot;with alarums and excursions&quot; :-)

&gt;<i>                                                rather than silently
</I>&gt;<i> disabling the feature and leaving someone like you head-scratching 
</I>&gt;<i> about the runtime behavior.
</I>
Yes, that was the notable thing about this particular hiccough.  The
code was all there, I was building it correctly (as far as I could
see), there were no compilation or run-time errors, and it ended up
meeting the &quot;Engineer's definition of Hell&quot; (all correctly designed,
perfectly implemented, precisely set up, and it doesn't work :-)

I spent some time convinced that it must have been due to something
I'd done wrong in cloning the git and running the autoconfiguration...
this is the first time I've dealt with that particular approach and
I was sure I'd goofed something up.  Took a while to convince myself
that it really *was* broken!

Silent failures are a bear... much better to get an immediate report
that an explosion has destroyed the well-house.

&gt;<i> I apologize for the transient inconvenience.
</I>
No huhu - that's the price for working on the bleeding edge and
not waiting for a stable release - it just comes with the
territory.

Next step... figure out why my SHM(0) NTP linkup is reporting
a huge offset from correct time (it's persisting at around
-165 to -170), while the SHM(1) PPS is matching external timeservers
quite well (within several milliseconds, via a standard consumer-
grade DSL).  I'm not sure whether this started going wonky when I
upgraded from 2.92, or whether it happened when I replaced the
old Oncore VP with a less-old Oncore UT+ - I think I'll roll
back to 2.92 briefly to figure that out.




</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="008317.html">[Gpsd-dev] deheader
</A></li>
	<LI>Next message: <A HREF="008322.html">[Gpsd-dev] PPS serial port support lost... ioctl-related change?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8321">[ date ]</a>
              <a href="thread.html#8321">[ thread ]</a>
              <a href="subject.html#8321">[ subject ]</a>
              <a href="author.html#8321">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/gpsd-dev">More information about the Gpsd-dev
mailing list</a><br>
</body></html>
