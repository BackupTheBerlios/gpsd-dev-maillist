<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Gpsd-dev] setting oncore timing parameters with gpsctl
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/gpsd-dev/2010-December/index.html" >
   <LINK REL="made" HREF="mailto:gpsd-dev%40lists.berlios.de?Subject=Re%3A%20%5BGpsd-dev%5D%20setting%20oncore%20timing%20parameters%20with%20gpsctl&In-Reply-To=%3Calpine.DEB.1.10.1012061734230.4200%40org-pc51.fy.chalmers.se%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="008258.html">
   <LINK REL="Next"  HREF="008271.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Gpsd-dev] setting oncore timing parameters with gpsctl</H1>
    <B>H&#229;kan Johansson</B> 
    <A HREF="mailto:gpsd-dev%40lists.berlios.de?Subject=Re%3A%20%5BGpsd-dev%5D%20setting%20oncore%20timing%20parameters%20with%20gpsctl&In-Reply-To=%3Calpine.DEB.1.10.1012061734230.4200%40org-pc51.fy.chalmers.se%3E"
       TITLE="[Gpsd-dev] setting oncore timing parameters with gpsctl">f96hajo at chalmers.se
       </A><BR>
    <I>Mon Dec  6 17:49:25 CET 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="008258.html">[Gpsd-dev] setting oncore timing parameters with gpsctl
</A></li>
        <LI>Next message: <A HREF="008271.html">[Gpsd-dev] setting oncore timing parameters with gpsctl
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8267">[ date ]</a>
              <a href="thread.html#8267">[ thread ]</a>
              <a href="subject.html#8267">[ subject ]</a>
              <a href="author.html#8267">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
On Sat, 4 Dec 2010, Eric Raymond wrote:

&gt;<i> H&#229;kan Johansson &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/gpsd-dev">f96hajo at chalmers.se</A>&gt;:
</I>&gt;&gt;<i> The attached patch adds an option -y opt=val to gpsctl for setting a
</I>&gt;&gt;<i> few device-specific parameters for motorola oncore devices.
</I>&gt;<i>
</I>&gt;<i> The implementation of this patch seems sound, but I am unhappy with
</I>&gt;<i> the architrecture. I do not want gpsctl to sprout a thicket of
</I>&gt;<i> non-orthogonal switches specific to individual device types - that
</I>&gt;<i> would be nearly as bad as the clutter of ad-hoc device-tweaking
</I>&gt;<i> utilities gpsctl replaced.
</I>&gt;<i>
</I>&gt;<i> What I would like to see is a patch that adds such timing parameters to the
</I>&gt;<i> general set of capabilities gpsctl knows about.  It's OK if they'they're
</I>&gt;<i> only implemented for Oncores initially as long as, in principle, it would
</I>&gt;<i> be possible to write them for other devices given the right control-code
</I>&gt;<i> information.
</I>&gt;<i>
</I>&gt;<i> Note: Doing it this way might require extending the basic driver table
</I>&gt;<i> model shared by gpsd and gpsctl.  I suggest you look at the gpsmon code
</I>&gt;<i> (and in particular the way struct monitor_object_t wraps the basic driver
</I>&gt;<i> table struct) for an example of how to do this cleanly.  It might be that
</I>&gt;<i> gpsctl needs its own extension layer now.
</I>
That sounds fair.  I got busy with othser stuff right now, so perhaps 
someone beats me to it.  But eventually I'll try.  :-)  In the meantime, a 
question and a general info request:

- How should the user-options look?  Like the -y opt=val, but such that
   opt is used uniformly when possible?,  Or like --poshold=...
   --ppsoffset=... etc?

- The poshold and ppsoffset are rather straigtforward in what they do,
   while the traim option already is a kind of simplificiation.  To make a
   more uniform scheme that can grow, it would be interestig to know what
   other or similar (obscure?) capabilities other gps units have that
   people might want to implement, even if it is not done right away.

Cheers,
H&#229;kan
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="008258.html">[Gpsd-dev] setting oncore timing parameters with gpsctl
</A></li>
	<LI>Next message: <A HREF="008271.html">[Gpsd-dev] setting oncore timing parameters with gpsctl
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8267">[ date ]</a>
              <a href="thread.html#8267">[ thread ]</a>
              <a href="subject.html#8267">[ subject ]</a>
              <a href="author.html#8267">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/gpsd-dev">More information about the Gpsd-dev
mailing list</a><br>
</body></html>
