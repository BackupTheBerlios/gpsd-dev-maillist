<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Gpsd-dev] Last 2 or 3 versions of gpsd, NMEA mode don't work well for Kismac, cgps or xgps
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/gpsd-dev/2006-June/index.html" >
   <LINK REL="made" HREF="mailto:gpsd-dev%40lists.berlios.de?Subject=Re%3A%20%5BGpsd-dev%5D%20Last%202%20or%203%20versions%20of%20gpsd%2C%20NMEA%20mode%20don%27t%20work%20well%20for%20Kismac%2C%20cgps%20or%20xgps&In-Reply-To=%3CBAF76184-FE71-4A95-A1C3-99D04CBB36A5%40nicholasfamilycentral.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003856.html">
   <LINK REL="Next"  HREF="003866.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Gpsd-dev] Last 2 or 3 versions of gpsd, NMEA mode don't work well for Kismac, cgps or xgps</H1>
    <B>Frank Nicholas</B> 
    <A HREF="mailto:gpsd-dev%40lists.berlios.de?Subject=Re%3A%20%5BGpsd-dev%5D%20Last%202%20or%203%20versions%20of%20gpsd%2C%20NMEA%20mode%20don%27t%20work%20well%20for%20Kismac%2C%20cgps%20or%20xgps&In-Reply-To=%3CBAF76184-FE71-4A95-A1C3-99D04CBB36A5%40nicholasfamilycentral.com%3E"
       TITLE="[Gpsd-dev] Last 2 or 3 versions of gpsd, NMEA mode don't work well for Kismac, cgps or xgps">frank at nicholasfamilycentral.com
       </A><BR>
    <I>Thu Jun 15 02:08:02 CEST 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="003856.html">[Gpsd-dev] Better test diff for serial.c
</A></li>
        <LI>Next message: <A HREF="003866.html">[Gpsd-dev] Last 2 or 3 versions of gpsd, NMEA mode don't work well for Kismac, cgps or xgps
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3861">[ date ]</a>
              <a href="thread.html#3861">[ thread ]</a>
              <a href="subject.html#3861">[ subject ]</a>
              <a href="author.html#3861">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I'm using a GlobalSat BT-318, Bluetooth GPS.  I reported on it in Vol  
1, #180, 4/8/05, of the Dev List.
Mfr's. Site:  <A HREF="http://www.globalsat.com.tw/english/products_detail.php?">http://www.globalsat.com.tw/english/products_detail.php?</A> 
main_id=21&amp;p_id=107

It's a Sirf II receiver, that defaults to NMEA.  gpsd has NEVER been  
able to detect or switch it to Sirf II, even-though the Palm &amp;  
Windows utilities are able to.  gpsd always detects it as a NMEA  
receiver.  First, if there's anything I can do to help that change,  
PLEASE let me know.  I'm willing to even loan it out, if need be, for  
testing, etc.  I think I would have better results with it in Sirf mode.

Kismac (an open source Mac Wardriving application) often reports no  
fix, or incorrect data (typically 1-2 seconds behind).  I don't know  
what commands it is using to get data from gpsd, but am wiling to  
look at the source code, if need be.

'cgps' &amp; 'xgps' are not consistent between the two.  cgps flashes a  
fix &amp; location once per second, then no fix or location, until the  
next second.  It was tough to catch the fix for the screenshot.  xgps  
has a constant location &amp; NO fix, but flashes 3D Fix &amp; no location,  
once per second.  I have screenshots of this, linked below.  I would  
have expected cgps &amp; xgps to produce the same results....

I've tested with a Mac tool called GPSUtility that talks to the  
receiver in NMEA.  It has a constant location &amp; fix.  It also has an  
output window, showing what it's receiving from the receiver.  Note  
that the output from the receiver is probably set to what gpsd  
configured.  gpsd had been run, and I'm assuming it set what  
statements/info the GPS would spit out in NMEA mode.

I've included links to screenshots of cgps, xgps &amp; GPSUtility.  I've  
also included the text output of gpsd &amp; GPSUtility, when running.   
The GPS is stationary on a window sill, during these tests.

<A HREF="http://www.mactundra.com/gps/cgps_No_fix.png">http://www.mactundra.com/gps/cgps_No_fix.png</A>
<A HREF="http://www.mactundra.com/gps/cgps_fix.png">http://www.mactundra.com/gps/cgps_fix.png</A>
<A HREF="http://www.mactundra.com/gps/xgps_fix.png">http://www.mactundra.com/gps/xgps_fix.png</A>
<A HREF="http://www.mactundra.com/gps/xgps_No_fix.png">http://www.mactundra.com/gps/xgps_No_fix.png</A>
<A HREF="http://www.mactundra.com/gps/gpsd.txt.bz2">http://www.mactundra.com/gps/gpsd.txt.bz2</A>
<A HREF="http://www.mactundra.com/gps/GPSUtility.png">http://www.mactundra.com/gps/GPSUtility.png</A>
<A HREF="http://www.mactundra.com/gps/GPSUtility.txt">http://www.mactundra.com/gps/GPSUtility.txt</A>

I'm able to easily build the released tarballs.  I can checkout SVN,  
but the autogen.sh script doesn't work for me (build environment  
issues).  I'm willing to run whatever tests or logs that will help in  
resolving this.  I'm also willing to patch the release tarballs, to  
try updates in SVN.

Ultimately, I'd like for gpsd to change it to Sirf mode, even if I  
have to pass a command to gpsd to make that happen.  This happening  
automatically would be GREAT.  Before that happens, there appears to  
be something wrong with either what the GPS is giving gpsd, in NMEA  
mode, or the way gpsd is interpreting the NMEA received from the GPS.

BTW - The GPS retains mode (NMEA/Sirf), as long as it has power.   
It's normal installation is in a vehicle, and it only has power when  
I flip a power switch.  The mode will default back to NMEA, without  
power for a few minutes.  I don't recall if I've set the GPS to Sirf,  
and then tried to use it with gpsd.

Thanks for taking the time to read through this.  Let me know what I  
can do!


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003856.html">[Gpsd-dev] Better test diff for serial.c
</A></li>
	<LI>Next message: <A HREF="003866.html">[Gpsd-dev] Last 2 or 3 versions of gpsd, NMEA mode don't work well for Kismac, cgps or xgps
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3861">[ date ]</a>
              <a href="thread.html#3861">[ thread ]</a>
              <a href="subject.html#3861">[ subject ]</a>
              <a href="author.html#3861">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/gpsd-dev">More information about the Gpsd-dev
mailing list</a><br>
</body></html>
