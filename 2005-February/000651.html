<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Gpsd-dev] The state of gpsd
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/gpsd-dev/2005-February/index.html" >
   <LINK REL="made" HREF="mailto:gpsd-dev%40lists.berlios.de?Subject=Re%3A%20%5BGpsd-dev%5D%20The%20state%20of%20gpsd&In-Reply-To=%3CPine.LNX.4.62.0502141617570.12438%40catbert.rellim.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000650.html">
   <LINK REL="Next"  HREF="000653.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Gpsd-dev] The state of gpsd</H1>
    <B>Gary E. Miller</B> 
    <A HREF="mailto:gpsd-dev%40lists.berlios.de?Subject=Re%3A%20%5BGpsd-dev%5D%20The%20state%20of%20gpsd&In-Reply-To=%3CPine.LNX.4.62.0502141617570.12438%40catbert.rellim.com%3E"
       TITLE="[Gpsd-dev] The state of gpsd">gem at rellim.com
       </A><BR>
    <I>Tue Feb 15 01:25:30 CET 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="000650.html">[Gpsd-dev] The state of gpsd
</A></li>
        <LI>Next message: <A HREF="000653.html">[Gpsd-dev] The state of gpsd
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#651">[ date ]</a>
              <a href="thread.html#651">[ thread ]</a>
              <a href="subject.html#651">[ subject ]</a>
              <a href="author.html#651">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Yo Eric!

On Mon, 14 Feb 2005, Eric S. Raymond wrote:

&gt;<i> &gt; I was hoping the zodiac method would bypass the NMEA layer unless
</I>&gt;<i> &gt; raw mode was requested by the client.  Seems not the case.
</I>&gt;<i>
</I>&gt;<i> Um...if I understand you correctly, it *is* the case.
</I>
No NMEA means no data in xpgs.

&gt;<i> &gt; For some reason the speed, track and mode are not getting to xgps properly.
</I>&gt;<i> &gt; Here is a sample NMEA generated by telnet to the local gpsd then
</I>&gt;<i> &gt; typing 'r'.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; $GPGSA,A,3,25,02,17,30,29,21,,,,,,,0.00,0.00,0.00*1E
</I>&gt;<i> &gt; $GPGGA,212504,4404.132742,N,12118.843595,W,3,06,0.00,1098.6,M,20.139149,M,,*6F
</I>&gt;<i> &gt; $GPRMC,212504,A,4404.132742,N,12118.843595,W,0.048993,150.636951,140205,,*00
</I>&gt;<i> &gt; $GPGSV,3,1,10,25,05,280,00,02,20,063,00,17,50,053,93,30,44,200,93$GPGSV,3,2,10,29,08,122,00,21,36,253,94,16,09,324,00,05,18,175,94$GPGSV,3,3,10,06,75,315,93,10,50,067,93,00,00,000,00,,00,00,000,00,*00
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; GPGSA: should the PDOP, HDOP and VDOP be blank instead of zero? Garmin
</I>&gt;<i> &gt; does not have them.
</I>&gt;<i>
</I>&gt;<i> I don't know what the NMEA standard says.  gpsd would prefer they be blank.
</I>
Any idea how to snag a copy of the real standard online?

A quick google leads me to believe that unknown values should be blank.

I'll work on a fix.

&gt;<i> &gt; GPGGA: should lat/lon be to 3 digits after the decimal?
</I>&gt;<i> &gt;        should HDOP be blank instead of zero?
</I>&gt;<i>
</I>&gt;<i> NMEA uses an odd nondedicimal encoding:  dddd.mmss -- the part to the
</I>&gt;<i> left is degrees, the part to the right is two digits of minutes followed
</I>&gt;<i> by two digits of seconds.  gpsd_binary_fix_dump() should do this.
</I>
Hmm, had not thought of that.  Something not right here, I'll fix it.

&gt;<i> &gt; GPGSV: Is it OK there is no newline in the GPGSV sentences?
</I>&gt;<i>
</I>&gt;<i> No, it needs to be there.
</I>
Fixed in my copy.  See diff below.

&gt;<i> Do you want commit access to the svn?
</I>
If you trust me.  I promise to stick to the garmin area for now.

RGDS
GARY
- ---------------------------------------------------------------------------
Gary E. Miller Rellim 20340 Empire Blvd, Suite E-3, Bend, OR 97701
	<A HREF="https://lists.berlios.de/mailman/listinfo/gpsd-dev">gem at rellim.com</A>  Tel:+1(541)382-8588 Fax: +1(541)382-8676

- --- libgpsd_core.c.DIST 2005-02-14 15:58:09.000000000 -0800
+++ libgpsd_core.c      2005-02-14 16:08:57.000000000 -0800
@@ -252,11 +252,11 @@
        else
            sprintf(bufp, &quot;,%02d,00,000,%02d,&quot;, session-&gt;gNMEAdata.PRN[i],
                    session-&gt;gNMEAdata.ss[i]);
- -       bufp += strlen(bufp);
        if (i % 4 == 3) {
- -           sprintf(bufp, &quot;*&quot;);
+           strcat(bufp, &quot;*&quot;);
            nmea_add_checksum(bufp);
        }
+       bufp += strlen(bufp);
     }
 }

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.2.3 (GNU/Linux)

iD8DBQFCEUGA8KZibdeR3qURAgJPAJ9tqoylEtx9noSZ+eUsUmHytIGTdwCeL+TQ
8EBS170CXYa0s78wql8q+VM=
=/kNT
-----END PGP SIGNATURE-----


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000650.html">[Gpsd-dev] The state of gpsd
</A></li>
	<LI>Next message: <A HREF="000653.html">[Gpsd-dev] The state of gpsd
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#651">[ date ]</a>
              <a href="thread.html#651">[ thread ]</a>
              <a href="subject.html#651">[ subject ]</a>
              <a href="author.html#651">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/gpsd-dev">More information about the Gpsd-dev
mailing list</a><br>
</body></html>
