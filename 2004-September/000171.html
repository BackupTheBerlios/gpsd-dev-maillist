<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Gpsd-dev] Earthmate not working
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/gpsd-dev/2004-September/index.html" >
   <LINK REL="made" HREF="mailto:gpsd-dev%40lists.berlios.de?Subject=Re%3A%20%5BGpsd-dev%5D%20Earthmate%20not%20working&In-Reply-To=%3C20040909013025.GA4799%40thyrsus.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000169.html">
   <LINK REL="Next"  HREF="000172.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Gpsd-dev] Earthmate not working</H1>
    <B>Eric S. Raymond</B> 
    <A HREF="mailto:gpsd-dev%40lists.berlios.de?Subject=Re%3A%20%5BGpsd-dev%5D%20Earthmate%20not%20working&In-Reply-To=%3C20040909013025.GA4799%40thyrsus.com%3E"
       TITLE="[Gpsd-dev] Earthmate not working">esr at thyrsus.com
       </A><BR>
    <I>Thu Sep  9 03:30:25 CEST 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="000169.html">[Gpsd-dev] Earthmate not working
</A></li>
        <LI>Next message: <A HREF="000172.html">[Gpsd-dev] Not working with TripMate, either
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#171">[ date ]</a>
              <a href="thread.html#171">[ thread ]</a>
              <a href="subject.html#171">[ subject ]</a>
              <a href="author.html#171">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Lonnie Mendez &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/gpsd-dev">lmendez19 at austin.rr.com</A>&gt;:
&gt;<i> &gt;Just out of curiousity, could that not be done in user land with libusb?
</I>&gt;<i> 
</I>&gt;<i> <A HREF="http://trans.civil.northwestern.edu/~jay/gpsd.html">http://trans.civil.northwestern.edu/~jay/gpsd.html</A>
</I>&gt;<i> 
</I>&gt;<i>    It has been done that way.  Unfortunately, in that implementation, when 
</I>&gt;<i> you perform interrupt reads in this fashion using libusb there is data loss. 
</I>&gt;<i> From what I remember, it was a lack of stream positioning.  libusb
</I>&gt;<i> is great for many things, but evidently not in serial applications
</I>&gt;<i> using interrupt reads.  With his (the author's) setup, it would only
</I>&gt;<i> return a complete nmea sentence if it was transmitted within the 30
</I>&gt;<i> byte packet and intact.
</I>&gt;<i>
</I>&gt;<i>    I tried a similiar method of constantly performing reads on the device 
</I>&gt;<i> while buffering the data to provide a constant stream... it came out 
</I>&gt;<i> garbled. I am not sure what the root cause of that was.  Probably due to 
</I>&gt;<i> libusbs bulk/interrupt read function being soo generic.
</I>
It sounds to me like you've identified a problem that needs to be fixed
at the libusb level.  And I think if you propose a new USB driver for the 
kernel, what you're going to get told is to solve it in libusb.  The kernel
folks are trying to exile as much stuff to userspace as possible.
-- 
		&lt;a href=&quot;<A HREF="http://www.catb.org/~esr/">http://www.catb.org/~esr/</A>&quot;&gt;Eric S. Raymond&lt;/a&gt;

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000169.html">[Gpsd-dev] Earthmate not working
</A></li>
	<LI>Next message: <A HREF="000172.html">[Gpsd-dev] Not working with TripMate, either
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#171">[ date ]</a>
              <a href="thread.html#171">[ thread ]</a>
              <a href="subject.html#171">[ subject ]</a>
              <a href="author.html#171">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/gpsd-dev">More information about the Gpsd-dev
mailing list</a><br>
</body></html>
