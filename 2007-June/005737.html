<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Gpsd-dev] gpsd seems to have stalled
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/gpsd-dev/2007-June/index.html" >
   <LINK REL="made" HREF="mailto:gpsd-dev%40lists.berlios.de?Subject=Re%3A%20%5BGpsd-dev%5D%20gpsd%20seems%20to%20have%20stalled&In-Reply-To=%3C200706261454.59561.remco%40rvt.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="005735.html">
   <LINK REL="Next"  HREF="005739.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Gpsd-dev] gpsd seems to have stalled</H1>
    <B>Remco Treffkorn</B> 
    <A HREF="mailto:gpsd-dev%40lists.berlios.de?Subject=Re%3A%20%5BGpsd-dev%5D%20gpsd%20seems%20to%20have%20stalled&In-Reply-To=%3C200706261454.59561.remco%40rvt.com%3E"
       TITLE="[Gpsd-dev] gpsd seems to have stalled">remco at rvt.com
       </A><BR>
    <I>Tue Jun 26 23:54:59 CEST 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="005735.html">[Gpsd-dev] gpsd seems to have stalled
</A></li>
        <LI>Next message: <A HREF="005739.html">[Gpsd-dev] gpsd seems to have stalled
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5737">[ date ]</a>
              <a href="thread.html#5737">[ thread ]</a>
              <a href="subject.html#5737">[ subject ]</a>
              <a href="author.html#5737">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Tuesday 26 June 2007, Chris Kuethe wrote:
&gt;<i> On 5/31/07, Eric S. Raymond &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/gpsd-dev">esr at thyrsus.com</A>&gt; wrote:
</I>&gt;<i> &gt; Chris Kuethe &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/gpsd-dev">chris.kuethe at gmail.com</A>&gt;:
</I>&gt;<i> &gt; &gt; My big problem is that I still can't find what causes gpsd to spin
</I>&gt;<i> &gt; &gt; when a high connection rate happens... ie. 10 connections suddenly
</I>&gt;<i> &gt; &gt; show up in a second sometimes as little as 4 connections will do it.
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; I was able to reproduce this on your machines, so it's not
</I>&gt;<i> &gt; &gt; OS-specific. If I could find and squish this one, my last release
</I>&gt;<i> &gt; &gt; blocker would be taken care of.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Seems like one good thing to try would be to find out how far back the
</I>&gt;<i> &gt; bug goes.  You might want to think about doing a binary search on rev
</I>&gt;<i> &gt; levels until you identify where the bug came in.
</I>&gt;<i>
</I>&gt;<i> Ugh. it's in a big diff, too.
</I>&gt;<i>
</I>&gt;<i> <A HREF="http://marc.info/?l=gpsd-commit-watch&amp;m=116200872904100&amp;w=2">http://marc.info/?l=gpsd-commit-watch&amp;m=116200872904100&amp;w=2</A>
</I>&gt;<i>
</I>&gt;<i> Author: esr
</I>&gt;<i> Date: 2006-10-28 06:11:56 +0200 (Sat, 28 Oct 2006)
</I>&gt;<i> New Revision: 3690
</I>&gt;<i>
</I>&gt;<i> Modified:
</I>&gt;<i>   trunk/configure.ac
</I>&gt;<i>   trunk/gpsd.c
</I>&gt;<i> Log:
</I>&gt;<i> Eyvind Tagseth's change to the way channel fds are handled.
</I>
Yes, it looks like an fd could easily orphaned by the new code.

Chris, can you replicate this easily enough to run gpsd under gdb, and break 
out of it when it starts spinning? You could then single step around the 
select a few times. This might tell you which fd is ready, but never handled.

BTW: I have a report claiming this bug with a version way older than this. 
Take it with a grain of salt...

Cheers,
Remco

-- 
Remco Treffkorn (RT445)
HAM DC2XT
<A HREF="https://lists.berlios.de/mailman/listinfo/gpsd-dev">remco at rvt.com</A>   (831) 685-1201


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="005735.html">[Gpsd-dev] gpsd seems to have stalled
</A></li>
	<LI>Next message: <A HREF="005739.html">[Gpsd-dev] gpsd seems to have stalled
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5737">[ date ]</a>
              <a href="thread.html#5737">[ thread ]</a>
              <a href="subject.html#5737">[ subject ]</a>
              <a href="author.html#5737">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/gpsd-dev">More information about the Gpsd-dev
mailing list</a><br>
</body></html>
