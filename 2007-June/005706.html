<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Gpsd-dev] gpsd seems to have stalled
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/gpsd-dev/2007-June/index.html" >
   <LINK REL="made" HREF="mailto:gpsd-dev%40lists.berlios.de?Subject=Re%3A%20%5BGpsd-dev%5D%20gpsd%20seems%20to%20have%20stalled&In-Reply-To=%3C200706071037.45461.remco%40rvt.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="005708.html">
   <LINK REL="Next"  HREF="005703.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Gpsd-dev] gpsd seems to have stalled</H1>
    <B>Remco Treffkorn</B> 
    <A HREF="mailto:gpsd-dev%40lists.berlios.de?Subject=Re%3A%20%5BGpsd-dev%5D%20gpsd%20seems%20to%20have%20stalled&In-Reply-To=%3C200706071037.45461.remco%40rvt.com%3E"
       TITLE="[Gpsd-dev] gpsd seems to have stalled">remco at rvt.com
       </A><BR>
    <I>Thu Jun  7 19:37:45 CEST 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="005708.html">[Gpsd-dev] gpsd seems to have stalled
</A></li>
        <LI>Next message: <A HREF="005703.html">[Gpsd-dev]  getting Ashtech G8 GPS Sensor working
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5706">[ date ]</a>
              <a href="thread.html#5706">[ thread ]</a>
              <a href="subject.html#5706">[ subject ]</a>
              <a href="author.html#5706">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Wednesday 06 June 2007, Andreas Stricker wrote:
&gt;<i> Gary E. Miller wrote:
</I>&gt;<i> &gt; I have been running the most recent SVN and only been seeing one issue.
</I>&gt;<i> &gt; For some reason ^C (kill) hangs for me.  Only 'kill -9' works for me.
</I>&gt;<i> &gt; My guess is some issue with the PPS thread but not sure.  Since no
</I>&gt;<i> &gt; one else has noticed it also does not look blocking to me.
</I>&gt;<i>
</I>&gt;<i> I recently looked at the signal handler code. The longjmp here looks
</I>&gt;<i> strange. I've never seen such a thing before: Usually signal handlers
</I>&gt;<i> should return immediatly. But this one seems to jump at the beginning
</I>&gt;<i> of the main loop and stay there. This is something ingenious. Maybe
</I>&gt;<i> someone could explain why this works. I expect it's because the handler
</I>&gt;<i> don't return so there is no interrupted routine which get disturbed.
</I>&gt;<i>
</I>&gt;<i> Cheers, Andy
</I>
Longjmp and signal handlers don't mix. Unless one understands exactly what 
that does to the signal mask, and how to handle it correctly: DO NOT DO IT.

There is almost always a safer way to do what needs to be done.

Depending on the implementation (I have not looked recently) you might end up 
leaking kernel memory.

In my opinion, 'goto' and 'longjmp()' are weapons of last resort.

Cheers,
Remco

-- 
Remco Treffkorn (RT445)
HAM DC2XT
<A HREF="https://lists.berlios.de/mailman/listinfo/gpsd-dev">remco at rvt.com</A>   (831) 685-1201


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="005708.html">[Gpsd-dev] gpsd seems to have stalled
</A></li>
	<LI>Next message: <A HREF="005703.html">[Gpsd-dev]  getting Ashtech G8 GPS Sensor working
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5706">[ date ]</a>
              <a href="thread.html#5706">[ thread ]</a>
              <a href="subject.html#5706">[ subject ]</a>
              <a href="author.html#5706">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/gpsd-dev">More information about the Gpsd-dev
mailing list</a><br>
</body></html>
