<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Gpsd-dev] Tests with ntpd
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/gpsd-dev/2007-May/index.html" >
   <LINK REL="made" HREF="mailto:gpsd-dev%40lists.berlios.de?Subject=Re%3A%20%5BGpsd-dev%5D%20Tests%20with%20ntpd&In-Reply-To=%3C200705161828.19053.mick.durkin%40saunalahti.fi%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="005664.html">
   <LINK REL="Next"  HREF="005640.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Gpsd-dev] Tests with ntpd</H1>
    <B>Mick Durkin</B> 
    <A HREF="mailto:gpsd-dev%40lists.berlios.de?Subject=Re%3A%20%5BGpsd-dev%5D%20Tests%20with%20ntpd&In-Reply-To=%3C200705161828.19053.mick.durkin%40saunalahti.fi%3E"
       TITLE="[Gpsd-dev] Tests with ntpd">mick.durkin at saunalahti.fi
       </A><BR>
    <I>Wed May 16 17:28:18 CEST 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="005664.html">[Gpsd-dev] Status of interface to ntpd
</A></li>
        <LI>Next message: <A HREF="005640.html">[Gpsd-dev] Tests with ntpd
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5639">[ date ]</a>
              <a href="thread.html#5639">[ thread ]</a>
              <a href="subject.html#5639">[ subject ]</a>
              <a href="author.html#5639">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Yo Gary!,

OK, I started my machine fresh today when I got home from work. The gps 
receiver was still ticking away already, having been left on power.

When the system came up, it launched ntpd as part of the init process and the 
ntpdc -p command showed that it was warming up to the public servers and had 
seen nothing from the gps. This is as expected as I don't launch the daemon 
at init time just yet.

I then started gpsd with &quot;gpsd -n /dev/ttyS0&quot; and checked for the process 
with &quot;ps -U nobody -u nobody u&quot; and noted the pid. I then gave the ntpdc 
command again and could see that the gps was being read. I confirmed the 
actual status by launching xgps and got a decent display with 6 birds.

After ntpd was satisfied with all my sources (all giving a reach of 377), I 
issued a &quot;kill &lt;gpsd_pid&gt;&quot;. This caused xgps to die and when I tried the &quot;ps&quot; 
again, the process was gone. I relaunched gpsd as before and restarted xgps 
with a good display again. I did the kill and restart in just a few seconds, 
so ntpd didn't miss any output and kept on tracking my gps. When I tried ps, 
I (naturally) got a new pid.

I will play some more, but it looks like my system is behaving as I expect, 
not as you experience things; bummer!

Here is a short form of my hardware/kernel:-

[<A HREF="https://lists.berlios.de/mailman/listinfo/gpsd-dev">root at linuxbox</A> ~]# uname -rmp
2.6.20-1.2948.fc6 i686 athlon

Could my hardware be behaving differently because you are using some other 
machine (64-bit maybe)?

BR

Mick

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="005664.html">[Gpsd-dev] Status of interface to ntpd
</A></li>
	<LI>Next message: <A HREF="005640.html">[Gpsd-dev] Tests with ntpd
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5639">[ date ]</a>
              <a href="thread.html#5639">[ thread ]</a>
              <a href="subject.html#5639">[ subject ]</a>
              <a href="author.html#5639">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/gpsd-dev">More information about the Gpsd-dev
mailing list</a><br>
</body></html>
