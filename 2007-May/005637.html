<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Gpsd-dev] Status of interface to ntpd
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/gpsd-dev/2007-May/index.html" >
   <LINK REL="made" HREF="mailto:gpsd-dev%40lists.berlios.de?Subject=Re%3A%20%5BGpsd-dev%5D%20Status%20of%20interface%20to%20ntpd&In-Reply-To=%3C200705152123.52356.mick.durkin%40saunalahti.fi%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="005636.html">
   <LINK REL="Next"  HREF="005638.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Gpsd-dev] Status of interface to ntpd</H1>
    <B>Mick Durkin</B> 
    <A HREF="mailto:gpsd-dev%40lists.berlios.de?Subject=Re%3A%20%5BGpsd-dev%5D%20Status%20of%20interface%20to%20ntpd&In-Reply-To=%3C200705152123.52356.mick.durkin%40saunalahti.fi%3E"
       TITLE="[Gpsd-dev] Status of interface to ntpd">mick.durkin at saunalahti.fi
       </A><BR>
    <I>Tue May 15 20:23:52 CEST 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="005636.html">[Gpsd-dev] Status of interface to ntpd
</A></li>
        <LI>Next message: <A HREF="005638.html">[Gpsd-dev] Status of interface to ntpd
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5637">[ date ]</a>
              <a href="thread.html#5637">[ thread ]</a>
              <a href="subject.html#5637">[ subject ]</a>
              <a href="author.html#5637">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Yo Gary!

On Tuesday 15 May 2007 20:47:41 Gary E. Miller wrote:
&gt;<i> Yo Mick!
</I>&gt;<i>
</I>&gt;<i> On Tue, 15 May 2007, Mick Durkin wrote:
</I>&gt;<i> &gt; The drilling a hole option is a non-starter. The folks in the upstairs
</I>&gt;<i> &gt; flat would not be too happy if I drill a hole through their floor! Also,
</I>&gt;<i> &gt; I am a just a tenant here, renting from a Finnish colleague who is away
</I>&gt;<i> &gt; on a university course, so I don't want to make holes in his walls.
</I>&gt;<i>
</I>&gt;<i> In a pinch I have run cables out a window and taped around the cracks.
</I>&gt;<i> Probably a bad plan in the frigid north.
</I>&gt;<i>
</I>&gt;<i> &gt; Here is the output from ntpdc -p :-
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;      remote           local      st poll reach  delay   offset    disp
</I>&gt;<i> &gt; =======================================================================
</I>&gt;<i> &gt; =SHM(0)          127.0.0.1        0   16  377 0.00000 -0.007194 0.01524
</I>&gt;<i> &gt; *SHM(1)          127.0.0.1        0   16  377 0.00000  0.000006 0.01573
</I>&gt;<i> &gt; =fartein.ifi.uio 192.168.1.10     2   64  377 0.02214 -0.000159 0.06464
</I>&gt;<i> &gt; =ntp1.kolumbus.f 192.168.1.10     2   64  377 0.00644  0.000258 0.05917
</I>&gt;<i> &gt; =ntp2.kolumbus.f 192.168.1.10     2   64  377 0.00623 -0.000075 0.06476
</I>&gt;<i> &gt; =nic.lth.se      192.168.1.10     2   64  377 0.02255  0.000676 0.06383
</I>&gt;<i>
</I>&gt;<i> Looks good to me.  Your system is tracking with 6uS of your PPS signal
</I>&gt;<i> and within 1mS of your 4 external servers.  That is pretty good.  If
</I>&gt;<i> you run ntpd and gpsd at a high priority, and run not much else on the
</I>&gt;<i> box you may ring a tad more stability (disp) out of that host, but not
</I>&gt;<i> much.
</I>&gt;<i>
</I>&gt;<i> If you need more than 1uS absolute accuracy you prolly need a dedicated
</I>&gt;<i> solution.
</I>
I am plenty happy with that result. I am actually using the 1PPS to discipline 
a good quality ovenised oscillator, the gpsd side of things is just a bit of 
fun and a chance to learn some programming. If I can get such a good timing 
source into my local network, it is a real bonus.

&gt;<i>
</I>&gt;<i> &gt; I don't use dhcp that I know of, but maybe that was some background FC6
</I>&gt;<i> &gt; junk going off. I can't remember how I found out it was dhclient-script
</I>&gt;<i> &gt; but I fixed it ages ago and have had no problems since. Again, I guess I
</I>&gt;<i> &gt; need to &quot;man dhcp&quot; or something to see what -N does.
</I>&gt;<i>
</I>&gt;<i> The offending program FC6 uses in dhclient-script is probably a dhcp
</I>&gt;<i> client called 'dhcpcd'.  So 'man dhcpcd' is more likely to yield you the
</I>&gt;<i> clue you seek.  Otherwise I avoid RH as much as possible.  I prefer Linux.
</I>
You avoid RH and prefer Linux. I take that to mean you roll your own from the 
sources rather than use a ready made package? Do you &quot;do it like a man&quot; or do 
you perhaps use something like Slackware? I must say, I am a bit lazy these 
days, though back a lot of years ago (mid-late 90's) I did use Slackware. I 
encountered it on a magazine cover and was not aware of any of the other 
distros at the time and 28k dialup meant that downloads were a bit of a 
non-starter.

Apart from the kudos, do I need to dive in again or is the RH thing just 
something personal? I don't want to get into dependancy hell.

&gt;<i>
</I>&gt;<i> &gt; You said &quot;initialization issues with PPS&quot;; can I be of help? I never
</I>&gt;<i> &gt; noticed any particular problems whenever I got a decent signal and tried
</I>&gt;<i> &gt; to interface to ntpd.
</I>&gt;<i>
</I>&gt;<i> Turn off your system.  Restart everthing.  If sometimes the PPS does not
</I>&gt;<i> start then you can duplicate the problem.
</I>&gt;<i>
</I>&gt;<i> I also have a problem where 'kill gpsd' hangs gpsd but does not kill it.
</I>&gt;<i>
</I>
I am not aware of either of the above problems, but now I have a useable gps 
signal I can play.

I normally leave the gps hardware up 24/7, but the pc gets cycled regularly; I 
switch off overnight and I drop in and out of FC6 regularly to use WinXP 
(don't ask... some apps I need for work). I also &quot;exercise&quot; the gps via a 
winapp.

I will look out for the PPS problem.

I normally run the daemon with -N -n, since I have been doing lots of 
test/recompile/retest where I stop gpsd simply using ^C on the terminal 
session. Now my code seems stable, I can try to let gpsd really daemonize and 
see if I have problems with &quot;kill&quot;. I will still invoke with -n so that the 
ntpd interface is alive even with no client apps on the daemon. I guess that 
is what you do?

BR

Mick

&gt;<i>
</I>&gt;<i> RGDS
</I>&gt;<i> GARY
</I>&gt;<i> ---------------------------------------------------------------------------
</I>&gt;<i> Gary E. Miller Rellim 20340 Empire Ave., Suite E-3, Bend, OR 97701
</I>&gt;<i> 	<A HREF="https://lists.berlios.de/mailman/listinfo/gpsd-dev">gem at rellim.com</A>  Tel:+1(541)382-8588
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Gpsd-dev mailing list
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/gpsd-dev">Gpsd-dev at lists.berlios.de</A>
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/gpsd-dev">https://lists.berlios.de/mailman/listinfo/gpsd-dev</A>
</I>


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="005636.html">[Gpsd-dev] Status of interface to ntpd
</A></li>
	<LI>Next message: <A HREF="005638.html">[Gpsd-dev] Status of interface to ntpd
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5637">[ date ]</a>
              <a href="thread.html#5637">[ thread ]</a>
              <a href="subject.html#5637">[ subject ]</a>
              <a href="author.html#5637">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/gpsd-dev">More information about the Gpsd-dev
mailing list</a><br>
</body></html>
