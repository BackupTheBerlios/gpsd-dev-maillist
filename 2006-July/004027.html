<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Gpsd-dev] [Gpsd-users] Have we cut processor	utilization	any?
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/gpsd-dev/2006-July/index.html" >
   <LINK REL="made" HREF="mailto:gpsd-dev%40lists.berlios.de?Subject=Re%3A%20%5BGpsd-dev%5D%20%5BGpsd-users%5D%20Have%20we%20cut%20processor%09utilization%09any%3F&In-Reply-To=%3C20060726233208.GA24307%40thyrsus.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004026.html">
   <LINK REL="Next"  HREF="004028.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Gpsd-dev] [Gpsd-users] Have we cut processor	utilization	any?</H1>
    <B>Eric S. Raymond</B> 
    <A HREF="mailto:gpsd-dev%40lists.berlios.de?Subject=Re%3A%20%5BGpsd-dev%5D%20%5BGpsd-users%5D%20Have%20we%20cut%20processor%09utilization%09any%3F&In-Reply-To=%3C20060726233208.GA24307%40thyrsus.com%3E"
       TITLE="[Gpsd-dev] [Gpsd-users] Have we cut processor	utilization	any?">esr at thyrsus.com
       </A><BR>
    <I>Thu Jul 27 01:32:08 CEST 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="004026.html">[Gpsd-dev] [Gpsd-users] Have we cut processor	utilization	any?
</A></li>
        <LI>Next message: <A HREF="004028.html">[Gpsd-dev] [Gpsd-users] Have we cut processor utilization any?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4027">[ date ]</a>
              <a href="thread.html#4027">[ thread ]</a>
              <a href="subject.html#4027">[ subject ]</a>
              <a href="author.html#4027">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Remco Treffkorn &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/gpsd-dev">remco at rvt.com</A>&gt;:
&gt;<i> BTW, if there was any hope that gpsd would run under Windows, it's gone now 
</I>&gt;<i> with the fd limiting change. Under Windows file descriptors are like random 
</I>&gt;<i> numbers.
</I>
Since I've never heard of anyone wanting to run gpsd under Windows, I'm
not too exercised by this. :-)
 
&gt;<i> Assuming fd's are in any way even slightly consecutive are not born
</I>&gt;<i> out by any standard.
</I>
Fortunately, the code doesn't make that assumption.  All it does is
track the highest fd used so far, limiting the select set to that fd
and below.  Granted this is only an *effective* optimization if fds
are normally allocated consecutively, but I don't see how it could do
active harm on a Windows machine.

&gt;<i> I got to believe that select(2) was not a good choice and have gone to use 
</I>&gt;<i> poll(2) instead for performance reasons and Windows compatibility.
</I>
If it's a better performer than select, that might be a reason to switch.  
My hunch is that that the main select(2) call is still a nasty hotspot
even with the fd-tracking optimization.  This is the main thing I hope to check
by profiling.
-- 
		&lt;a href=&quot;<A HREF="http://www.catb.org/~esr/">http://www.catb.org/~esr/</A>&quot;&gt;Eric S. Raymond&lt;/a&gt;

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="004026.html">[Gpsd-dev] [Gpsd-users] Have we cut processor	utilization	any?
</A></li>
	<LI>Next message: <A HREF="004028.html">[Gpsd-dev] [Gpsd-users] Have we cut processor utilization any?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4027">[ date ]</a>
              <a href="thread.html#4027">[ thread ]</a>
              <a href="subject.html#4027">[ subject ]</a>
              <a href="author.html#4027">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/gpsd-dev">More information about the Gpsd-dev
mailing list</a><br>
</body></html>
