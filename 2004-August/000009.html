<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Gpsd-dev] Better offline detection
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/gpsd-dev/2004-August/index.html" >
   <LINK REL="made" HREF="mailto:gpsd-dev%40lists.berlios.de?Subject=Re%3A%20%5BGpsd-dev%5D%20Better%20offline%20detection&In-Reply-To=%3C200408241718.i7OHI0oS006010%40golux.thyrsus.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000031.html">
   <LINK REL="Next"  HREF="000010.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Gpsd-dev] Better offline detection</H1>
    <B>Eric S. Raymond</B> 
    <A HREF="mailto:gpsd-dev%40lists.berlios.de?Subject=Re%3A%20%5BGpsd-dev%5D%20Better%20offline%20detection&In-Reply-To=%3C200408241718.i7OHI0oS006010%40golux.thyrsus.com%3E"
       TITLE="[Gpsd-dev] Better offline detection">esr at golux.thyrsus.com
       </A><BR>
    <I>Tue Aug 24 19:18:00 CEST 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="000031.html">[Gpsd-dev] gpsd svn, -n flag causes data overrun
</A></li>
        <LI>Next message: <A HREF="000010.html">[Gpsd-dev] Better offline detection
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9">[ date ]</a>
              <a href="thread.html#9">[ thread ]</a>
              <a href="subject.html#9">[ subject ]</a>
              <a href="author.html#9">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I have checked in a commit that should fix James Cameron's problem
with the offline detection.

When FIONREAD returns 0 charsacters waiting, the poll code now looks
at elapsed time since the last read from the GPS.  Offline status is
set only if a certain interval has elapsed since that last read,
normally two seconds.

My assumption is that every GPS delivers data at least once per
second.  This interval is now a data member in the driver type
structure.  I could bring back the -t timeout option to override
this, but would prefer not to unless there is real hardware that
needs it.
-- 
		&lt;a href=&quot;<A HREF="http://www.catb.org/~esr/">http://www.catb.org/~esr/</A>&quot;&gt;Eric S. Raymond&lt;/a&gt;

The most foolish mistake we could possibly make would be to permit 
the conquered Eastern peoples to have arms.  History teaches that all 
conquerors who have allowed their subject races to carry arms have 
prepared their own downfall by doing so.
        -- Adolph Hitler, April 11 1942.

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000031.html">[Gpsd-dev] gpsd svn, -n flag causes data overrun
</A></li>
	<LI>Next message: <A HREF="000010.html">[Gpsd-dev] Better offline detection
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9">[ date ]</a>
              <a href="thread.html#9">[ thread ]</a>
              <a href="subject.html#9">[ subject ]</a>
              <a href="author.html#9">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/gpsd-dev">More information about the Gpsd-dev
mailing list</a><br>
</body></html>
