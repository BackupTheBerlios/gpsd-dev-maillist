<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Gpsd-dev] Segfault with Garmin GPS 18 USB
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/gpsd-dev/2006-December/index.html" >
   <LINK REL="made" HREF="mailto:gpsd-dev%40lists.berlios.de?Subject=Re%3A%20%5BGpsd-dev%5D%20Segfault%20with%20Garmin%20GPS%2018%20USB&In-Reply-To=%3C432beae0612291933n3fb33267q94aa472a771b76a8%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="005486.html">
   <LINK REL="Next"  HREF="005488.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Gpsd-dev] Segfault with Garmin GPS 18 USB</H1>
    <B>Justin Patrin</B> 
    <A HREF="mailto:gpsd-dev%40lists.berlios.de?Subject=Re%3A%20%5BGpsd-dev%5D%20Segfault%20with%20Garmin%20GPS%2018%20USB&In-Reply-To=%3C432beae0612291933n3fb33267q94aa472a771b76a8%40mail.gmail.com%3E"
       TITLE="[Gpsd-dev] Segfault with Garmin GPS 18 USB">papercrane at gmail.com
       </A><BR>
    <I>Sat Dec 30 04:33:12 CET 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="005486.html">[Gpsd-dev] Segfault with Garmin GPS 18 USB
</A></li>
        <LI>Next message: <A HREF="005488.html">[Gpsd-dev] Segfault with Garmin GPS 18 USB
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5487">[ date ]</a>
              <a href="thread.html#5487">[ thread ]</a>
              <a href="subject.html#5487">[ subject ]</a>
              <a href="author.html#5487">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 12/29/06, Chris Kuethe &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/gpsd-dev">chris.kuethe at gmail.com</A>&gt; wrote:
&gt;<i> On 12/29/06, Justin Patrin &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/gpsd-dev">papercrane at gmail.com</A>&gt; wrote:
</I>&gt;<i> &gt; I got my image rebuilt without softfloat and the exact same thing
</I>&gt;<i> &gt; happened, so it looks like it's a problem with the ARM. What is the
</I>&gt;<i> &gt; problem exactly? I know that other floating point software is working
</I>&gt;<i> &gt; just fine currently.
</I>&gt;<i>
</I>&gt;<i> The ARM processor works just fine - I'm running gpsd on my OpenBSD zaurus.
</I>&gt;<i>
</I>
Which Zaurus? I have a C3000.

&gt;<i> Briefly the problem is that some compilers generate incorrect floating
</I>&gt;<i> point code. I haven't checked to see if it's in the kernel, the math
</I>&gt;<i> library or in the math intrinsics.
</I>&gt;<i>
</I>&gt;<i> But simple things like 'a = 1.0 + 2.0; printf(&quot;%f\n&quot;, a); do not
</I>&gt;<i> output &quot;3.000000&quot;.
</I>
Ok.

&gt;<i>
</I>&gt;<i> &gt; I'll continue to try to get gpsd built from svn natively on the
</I>&gt;<i> &gt; machine to run floattest and also just to see if native compiling will
</I>&gt;<i> &gt; help.
</I>&gt;<i>
</I>&gt;<i> Floattest should be a binary for the target machine - cross-compiler
</I>&gt;<i> or no. But yes, testing floattest would be nice, because I haven't yet
</I>&gt;<i> had anyone tell me what happens when/if it detects a broken &quot;FPU&quot;.
</I>&gt;<i> Based on everything I've heard about busted floating point on ARM, it
</I>&gt;<i> should fail in an obvious fashion.
</I>
True. I just wanted to try a native compile to see if it made a difference.

&gt;<i>
</I>&gt;<i> &gt; If it's a matter of endianness or some optimization that doesn't work
</I>&gt;<i> &gt; right on ARM I'd be happy to fix up the code if I can get a little
</I>&gt;<i> &gt; pointer as to where the problem might be.
</I>&gt;<i>
</I>&gt;<i> We have plenty of ARM users (like myself) who can use GPSD if the
</I>&gt;<i> toolchain isn't subtly or severely busted. We have checked gpsd on
</I>&gt;<i> big/little endian, 32- and 64-bit processors.
</I>&gt;<i>
</I>
Well, this is worrying. AFAIK we have plenty of floating point
programs that are working fine. I'm using OpenEmbedded to build
OpenZaurus images and packages for my Zaurus and it, AFAIK, doesn't
have any floating point problems with other programs.

I'll try building an Angstrom image and see if that breaks as well
(Angstrom is a distro which uses EABI and gcc 4).

-- 
Justin Patrin

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="005486.html">[Gpsd-dev] Segfault with Garmin GPS 18 USB
</A></li>
	<LI>Next message: <A HREF="005488.html">[Gpsd-dev] Segfault with Garmin GPS 18 USB
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5487">[ date ]</a>
              <a href="thread.html#5487">[ thread ]</a>
              <a href="subject.html#5487">[ subject ]</a>
              <a href="author.html#5487">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/gpsd-dev">More information about the Gpsd-dev
mailing list</a><br>
</body></html>
