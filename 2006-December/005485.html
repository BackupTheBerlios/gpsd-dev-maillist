<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Gpsd-dev] Segfault with Garmin GPS 18 USB
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/gpsd-dev/2006-December/index.html" >
   <LINK REL="made" HREF="mailto:gpsd-dev%40lists.berlios.de?Subject=Re%3A%20%5BGpsd-dev%5D%20Segfault%20with%20Garmin%20GPS%2018%20USB&In-Reply-To=%3C432beae0612291713o138bf854pbfa5f9a640dca22e%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="005482.html">
   <LINK REL="Next"  HREF="005486.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Gpsd-dev] Segfault with Garmin GPS 18 USB</H1>
    <B>Justin Patrin</B> 
    <A HREF="mailto:gpsd-dev%40lists.berlios.de?Subject=Re%3A%20%5BGpsd-dev%5D%20Segfault%20with%20Garmin%20GPS%2018%20USB&In-Reply-To=%3C432beae0612291713o138bf854pbfa5f9a640dca22e%40mail.gmail.com%3E"
       TITLE="[Gpsd-dev] Segfault with Garmin GPS 18 USB">papercrane at gmail.com
       </A><BR>
    <I>Sat Dec 30 02:13:42 CET 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="005482.html">[Gpsd-dev] Segfault with Garmin GPS 18 USB
</A></li>
        <LI>Next message: <A HREF="005486.html">[Gpsd-dev] Segfault with Garmin GPS 18 USB
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5485">[ date ]</a>
              <a href="thread.html#5485">[ thread ]</a>
              <a href="subject.html#5485">[ subject ]</a>
              <a href="author.html#5485">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 12/29/06, Justin Patrin &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/gpsd-dev">papercrane at gmail.com</A>&gt; wrote:
&gt;<i> On 12/29/06, Gary E. Miller &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/gpsd-dev">gem at rellim.com</A>&gt; wrote:
</I>&gt;<i> &gt; Yo Justin!
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; On Thu, 28 Dec 2006, Justin Patrin wrote:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; &gt; &gt; My 18/USB is not close at hand, but I just tried SVN head on my 18/LVC
</I>&gt;<i> &gt; &gt; &gt; in garmin binary mode and that works.
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; Ok, I'm building it right now. However, I don't think it will help as
</I>&gt;<i> &gt; &gt; I've used current SVN and it had the same problem.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; I have since added some range checking code to SVN trunk and verified it
</I>&gt;<i> &gt; works on my 18/USB.  So let's stick to SNV trunk.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; &gt; &gt; Change to 2.34, up the debug level a bit more, and send me the logs.
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; What is an appropriate debug level?
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; The log levels have recently been changed.  For 2.34 and up it looks
</I>&gt;<i> &gt; like -D5 should show everything.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; &gt; something I
</I>&gt;<i> &gt; &gt; neglected to mention is that the problems I'm seeing are on my Sharp
</I>&gt;<i> &gt; &gt; Zaurus running OpenZaurus 3.5.4.2(+).
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Oh, yeah.  That is your problem.  The ARM floating point is busted.  That
</I>&gt;<i> &gt; is a known problem.  When you build gpsd you get a little program called
</I>&gt;<i> &gt; &quot;floattest&quot;.  Run it, my bet is that is it will fail for you.  That will
</I>&gt;<i> &gt; confirm the problem.
</I>&gt;<i> &gt;
</I>&gt;<i>
</I>&gt;<i> Well, I know that the switch to softfloat sped up all programs using
</I>&gt;<i> floating point....and I believe it's in software. So unless gpsd is
</I>&gt;<i> doing something strange with the floats they should work.....right?
</I>&gt;<i> I'll see if I can get gpsd to build locally on the machine to run
</I>&gt;<i> floattest. I'm struggling to build a non-softfloat image right
</I>&gt;<i> now...the cross environment isn't cooperating.
</I>&gt;<i>
</I>
I got my image rebuilt without softfloat and the exact same thing
happened, so it looks like it's a problem with the ARM. What is the
problem exactly? I know that other floating point software is working
just fine currently.

I'll continue to try to get gpsd built from svn natively on the
machine to run floattest and also just to see if native compiling will
help.

If it's a matter of endianness or some optimization that doesn't work
right on ARM I'd be happy to fix up the code if I can get a little
pointer as to where the problem might be.

-- 
Justin Patrin

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="005482.html">[Gpsd-dev] Segfault with Garmin GPS 18 USB
</A></li>
	<LI>Next message: <A HREF="005486.html">[Gpsd-dev] Segfault with Garmin GPS 18 USB
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5485">[ date ]</a>
              <a href="thread.html#5485">[ thread ]</a>
              <a href="subject.html#5485">[ subject ]</a>
              <a href="author.html#5485">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/gpsd-dev">More information about the Gpsd-dev
mailing list</a><br>
</body></html>
