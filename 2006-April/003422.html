<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Gpsd-dev] Patches as described - commit?
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/gpsd-dev/2006-April/index.html" >
   <LINK REL="made" HREF="mailto:gpsd-dev%40lists.berlios.de?Subject=Re%3A%20%5BGpsd-dev%5D%20Patches%20as%20described%20-%20commit%3F&In-Reply-To=%3Cp06230906c06b3989853f%40%5B192.168.11.10%5D%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003419.html">
   <LINK REL="Next"  HREF="003409.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Gpsd-dev] Patches as described - commit?</H1>
    <B>Robin L Darroch</B> 
    <A HREF="mailto:gpsd-dev%40lists.berlios.de?Subject=Re%3A%20%5BGpsd-dev%5D%20Patches%20as%20described%20-%20commit%3F&In-Reply-To=%3Cp06230906c06b3989853f%40%5B192.168.11.10%5D%3E"
       TITLE="[Gpsd-dev] Patches as described - commit?">robin at spade-men.com
       </A><BR>
    <I>Wed Apr 19 03:03:59 CEST 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="003419.html">[Gpsd-dev] Patches as described
</A></li>
        <LI>Next message: <A HREF="003409.html">[Gpsd-dev] request for help
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3422">[ date ]</a>
              <a href="thread.html#3422">[ thread ]</a>
              <a href="subject.html#3422">[ subject ]</a>
              <a href="author.html#3422">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>At 7:30 +0800 14/4/06, Robin L Darroch wrote:
&gt;<i>Following is svn diff output against R3278 for anyone who'd like to 
</I>&gt;<i>use the latest revision...
</I>&gt;<i>	- with an NMEA source without artificial jitter, and/or
</I>&gt;<i>	- use any source with real mode data in O and W commands, and/or
</I>&gt;<i>	- use libgps with compound queries:
</I>
Hi folks,

I know we're still waiting to hear from Eric about the questions of 
buffering in gpsd, and I'm looking forward to reading that.  However, 
from the testing I've done using the patches posted last week (I've 
been driving and flying around using a patched gpsd, and it has 
performed flawlessly with all clients), I'm fairly certain that we're 
better off *with* my patches in the SVN head than without them.  To 
clarify, my patch does NOT add any &quot;buffering&quot; functionality - all it 
does is stop treating the receipt of an NMEA sentence with a new 
timestamp as a reason to discard ALL previously received data.  To my 
knowledge, there is nothing in the NMEA spec saying that a sentence 
with a new timestamp automatically invalidates all previous data, so 
there's no reason why gpsd should do that.  I repeat, it does NOT ADD 
BUFFERING to the existing gpsd code.

As for the other patches, we currently have a situation (in the svn 
head and release versions) where the logic used by libgps to 
calculate mode from an O query is incorrect (since it has no 
information about the real mode reported by the GPS itself).  Also, 
the existing libgps does not parse the response from compound 
queries.  My patches to gpsd and libgps resolve both of these issues.

I know most of the focus of posts here in recent times has been to 
fix problems with new drivers and extensions, but it seems we're 
overlooking the fact that the core of the daemon and its associated 
library aren't actually doing what they're supposed to do any more. 
Unless someone else that's been testing my patches has identified a 
problem, can we get them committed to the svn head?

Cheers,
Robin
-- 

-------------------------------------------------------------------------
  Robin L. Darroch - PO Box 2715, South Hedland WA 6722 - +61 421 503 966
       <A HREF="https://lists.berlios.de/mailman/listinfo/gpsd-dev">robin at darroch.id.au</A> - <A HREF="https://lists.berlios.de/mailman/listinfo/gpsd-dev">robin at nyca.org.au</A> - <A HREF="https://lists.berlios.de/mailman/listinfo/gpsd-dev">robin at spade-men.com</A>


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003419.html">[Gpsd-dev] Patches as described
</A></li>
	<LI>Next message: <A HREF="003409.html">[Gpsd-dev] request for help
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3422">[ date ]</a>
              <a href="thread.html#3422">[ thread ]</a>
              <a href="subject.html#3422">[ subject ]</a>
              <a href="author.html#3422">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/gpsd-dev">More information about the Gpsd-dev
mailing list</a><br>
</body></html>
