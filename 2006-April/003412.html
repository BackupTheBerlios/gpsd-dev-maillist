<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Gpsd-dev] Patches as described
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/gpsd-dev/2006-April/index.html" >
   <LINK REL="made" HREF="mailto:gpsd-dev%40lists.berlios.de?Subject=Re%3A%20%5BGpsd-dev%5D%20Patches%20as%20described&In-Reply-To=%3C200604071501.33241.marr%40flex.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003411.html">
   <LINK REL="Next"  HREF="003413.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Gpsd-dev] Patches as described</H1>
    <B>Marr</B> 
    <A HREF="mailto:gpsd-dev%40lists.berlios.de?Subject=Re%3A%20%5BGpsd-dev%5D%20Patches%20as%20described&In-Reply-To=%3C200604071501.33241.marr%40flex.com%3E"
       TITLE="[Gpsd-dev] Patches as described">marr at flex.com
       </A><BR>
    <I>Fri Apr  7 21:01:32 CEST 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="003411.html">[Gpsd-dev] Patches as described
</A></li>
        <LI>Next message: <A HREF="003413.html">[Gpsd-dev] Patches as described
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3412">[ date ]</a>
              <a href="thread.html#3412">[ thread ]</a>
              <a href="subject.html#3412">[ subject ]</a>
              <a href="author.html#3412">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Friday 07 April 2006 12:52am, Robin L Darroch wrote:
&gt;<i>
</I>&gt;<i> The only thing which my recent work will
</I>&gt;<i> change is what happens if one of the NMEA sentences is turned off
</I>&gt;<i> mid-stream while the others are allowed to continue (N.B. prior to my
</I>&gt;<i> initial logic fix, which repaired the incorrect discarding of
</I>&gt;<i> altitude data, even that would have been erratic).  For example, if
</I>&gt;<i> the GGA sentence were turned off midstream in the above pattern, then
</I>&gt;<i> gpsd would continue to report the last altitude received in a GGA
</I>&gt;<i> sentence, and continue reporting the mode as a 3D fix (provided the
</I>&gt;<i> GPS was still receiving a 3D fix), implying that the altitude is a
</I>&gt;<i> recent fix when in fact [it] is not.  Ditto for track/velocity
</I>&gt;<i> information if the RMC sentence is turned off mid-stream.
</I>
I doubt (but haven't ever tested and certainly cannot prove) that any GPS 
which allows dynamic configuration of the NMEA output stream would cause any 
given NMEA sentence to be partially completed (i.e. cut off).

So, for my &quot;two cents&quot;, we don't need to worry about NMEA sentence &quot;cut-offs&quot;. 
However, we still need to make sure that we don't (re-)design 'gpsd' such 
that it does something completely intolerable if the NMEA sentence stream is 
altered (added to and/or subtracted from) on-the-fly.

Note: I'm not asserting that your patches fall into the category of making 
'gpsd' do something intolerable -- just speaking broadly here. :^)  Also, I'm 
curious as to what Eric (ESR) has to say on this whole issue and am patiently 
awaiting and looking forward to his &quot;design-considerations essay&quot;.

&gt;<i> However, those cases only occur in the event of either (a) GPS unit
</I>&gt;<i> partial failure [connection good, output corrupted] or (b) manual
</I>&gt;<i> interference by the GPS operator [who should know better than to
</I>&gt;<i> screw around with NMEA sentence output in the middle of active GPS
</I>&gt;<i> use]... and I'm not sure it is fair to expect gpsd to handle those
</I>&gt;<i> circumstances.
</I>
I (amicably) disagree with the admonishment associated with point '(b)'. With 
my Garmin 'GPS 35 TracPak' (UI-less, i.e. &quot;hockey-puck&quot;) receiver, you 
actually *have to* &quot;screw around with NMEA sentence output in the middle of 
active GPS use&quot;. That's the only way you can change the GPS' NMEA output, by 
sending an NMEA message to the GPS while it's powered up (and therefore 
transmitting useful NMEA data).

Aside: The sentence to control GPS output is '$PGRMO', a proprietary Garmin 
NMEA sentence, for those (probably few, given that this is the 'dev' 
list :^} ) unfamiliar with the NMEA naming convention.

Because of that (and because anything else would be a bad hardware design), I 
believe that my assertion above (that you won't ever see a cut-off NMEA 
sentence as a result of a non-power-related, operator-initiated disabling [or 
enabling, for that matter]) is a safe assertion.

In general, I agree with your other points. Just wanted to clarify these minor 
points. Good work with your patches and testing!

Regards,
Bill Marr

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003411.html">[Gpsd-dev] Patches as described
</A></li>
	<LI>Next message: <A HREF="003413.html">[Gpsd-dev] Patches as described
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3412">[ date ]</a>
              <a href="thread.html#3412">[ thread ]</a>
              <a href="subject.html#3412">[ subject ]</a>
              <a href="author.html#3412">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/gpsd-dev">More information about the Gpsd-dev
mailing list</a><br>
</body></html>
